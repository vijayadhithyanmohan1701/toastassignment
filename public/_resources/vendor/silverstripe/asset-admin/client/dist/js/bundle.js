!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="./client/src/bundles/bundle.js")}({"./client/src/boot/applyTransform.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),s=o(r),i=n("./client/src/transforms/FormAction/ownerAwareUnpublish.js"),l=o(i),a=n("./client/src/transforms/TreeDropdownField/moveTreeDropdownField.js"),u=o(a),d=function(){s.default.transform("move-form-disabled",function(e){e.component("TreeDropdownField.AssetAdmin.MoveForm",u.default)}),s.default.transform("owner-unpublishing",function(e){e.component("FormAction.AssetAdmin.EditForm.action_unpublish",l.default)})};t.default=d},"./client/src/boot/index.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(25),s=o(r),i=n(38),l=o(i),a=n("./client/src/containers/AssetAdmin/AssetAdminRouter.js"),u=o(a),d=n("./client/src/boot/applyTransform.js"),c=o(d),p=n("./client/src/boot/registerReducers.js"),f=o(p),h=n("./client/src/boot/registerComponents.js"),m=o(h),g=n("./client/src/boot/registerQueries.js"),y=o(g);document.addEventListener("DOMContentLoaded",function(){(0,m.default)(),(0,c.default)();var e=s.default.getSection("SilverStripe\\AssetAdmin\\Controller\\AssetAdmin");l.default.add({path:"/",routes:[{path:"/"+e.url+"/show/:folderId/:viewAction/:fileId",component:u.default},{path:"/"+e.url+"/show/:folderId/:viewAction",component:u.default},{path:"/"+e.url+"/show/:folderId",component:u.default},{path:"/"+e.url,component:u.default}]}),(0,y.default)(),(0,f.default)()})},"./client/src/boot/registerComponents.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),s=o(r),i=n("./client/src/components/UploadField/UploadField.js"),l=o(i),a=n("./client/src/components/UploadField/UploadFieldItem.js"),u=o(a),d=n("./client/src/components/AssetDropzone/AssetDropzone.js"),c=o(d),p=n(12),f=o(p),h=n("./client/src/components/PreviewImageField/PreviewImageField.js"),m=o(h),g=n("./client/src/components/ProportionConstraintField/ProportionConstraintField.js"),y=o(g),_=n("./client/src/containers/HistoryList/HistoryList.js"),v=o(_),b=n("./client/src/components/GalleryToolbar/GalleryToolbar.js"),E=o(b),S=n("./client/src/components/GalleryItem/GalleryItem.js"),j=function(){s.default.component.registerMany({UploadField:l.default,UploadFieldItem:u.default,PreviewImageField:m.default,HistoryList:v.default,ProportionConstraintField:y.default,AssetDropzone:c.default,InsertMediaModal:f.default,GalleryToolbar:E.default,GalleryItemFile:S.File,GalleryItemFolder:S.Folder})};t.default=j},"./client/src/boot/registerQueries.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),s=o(r),i=n("./client/src/lib/fileFragments.js"),l=n("./client/src/state/files/readFilesQuery.js"),a=o(l),u=n("./client/src/state/files/readFileUsageQuery.js"),d=o(u),c=function(){s.default.query.registerFragment("FileInterfaceFields",i.fileInterface),s.default.query.registerFragment("FileFields",i.file),s.default.query.register("ReadFilesQuery",a.default),s.default.query.register("readFileUsageQuery",d.default)};t.default=c},"./client/src/boot/registerReducers.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),s=o(r),i=n(5),l=n("./client/src/state/gallery/GalleryReducer.js"),a=o(l),u=n("./client/src/state/queuedFiles/QueuedFilesReducer.js"),d=o(u),c=n("./client/src/state/uploadField/UploadFieldReducer.js"),p=o(c),f=n("./client/src/state/previewField/PreviewFieldReducer.js"),h=o(f),m=n("./client/src/state/imageLoad/ImageLoadReducer.js"),g=o(m),y=n("./client/src/state/displaySearch/DisplaySearchReducer.js"),_=o(y),v=n("./client/src/state/confirmDeletion/ConfirmDeletionReducer.js"),b=o(v),E=n("./client/src/state/modal/ModalReducer.js"),S=o(E),j=function(){s.default.reducer.register("assetAdmin",(0,i.combineReducers)({gallery:a.default,queuedFiles:d.default,uploadField:p.default,previewField:h.default,imageLoad:g.default,displaySearch:_.default,confirmDeletion:b.default,modal:S.default}))};t.default=j},"./client/src/bundles/bundle.js":function(e,t,n){"use strict";n("./node_modules/expose-loader/index.js?InsertMediaModal!./client/src/containers/InsertMediaModal/InsertMediaModal.js-exposed"),n("./node_modules/expose-loader/index.js?InsertEmbedModal!./client/src/components/InsertEmbedModal/InsertEmbedModal.js-exposed"),n("./client/src/boot/index.js"),n("./client/src/entwine/UploadField/UploadFieldEntwine.js")},"./client/src/components/AssetDropzone/AssetDropzone.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),d=o(u),c=n(6),p=o(c),f=n(2),h=o(f),m=n("./node_modules/dropzone/dist/dropzone.js"),g=o(m),y=n(7),_=o(y),v=n(14),b=n(1),E=o(b),S=0,j=function(e){function t(e){r(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dropzone=null,n.dragging=!1,n.handleAccept=n.handleAccept.bind(n),n.handleAddedFile=n.handleAddedFile.bind(n),n.handleDragEnter=n.handleDragEnter.bind(n),n.handleDragLeave=n.handleDragLeave.bind(n),n.handleDrop=n.handleDrop.bind(n),n.handleUploadProgress=n.handleUploadProgress.bind(n),n.handleError=n.handleError.bind(n),n.handleSending=n.handleSending.bind(n),n.handleSuccess=n.handleSuccess.bind(n),n.handleQueueComplete=n.handleQueueComplete.bind(n),n.loadImage=n.loadImage.bind(n),n.handleMaxFilesExceeded=n.handleMaxFilesExceeded.bind(n),n}return i(t,e),a(t,[{key:"componentDidMount",value:function(){this.dropzone=new g.default(p.default.findDOMNode(this),Object.assign({},this.getDefaultOptions(),this.props.options));var e=this.props.name;e&&this.dropzone.hiddenFileInput&&this.dropzone.hiddenFileInput.classList.add("dz-input-"+e),void 0!==this.props.promptOnRemove&&this.setPromptOnRemove(this.props.promptOnRemove)}},{key:"componentWillReceiveProps",value:function(e){e.canUpload&&this.dropzone&&(this.dropzone.enable(),this.dropzone.options=Object.assign({},this.getDefaultOptions(),this.dropzone.options,this.props.options))}},{key:"componentDidUpdate",value:function(){var e=this.props.name;e&&this.dropzone.hiddenFileInput&&this.dropzone.hiddenFileInput.classList.add("dz-input-"+e)}},{key:"componentWillUnmount",value:function(){this.dropzone.files=[],this.dropzone.destroy()}},{key:"getDefaultOptions",value:function(){var e=null,t=this.props.uploadSelector;if(!t&&this.props.uploadButton&&(t=".asset-dropzone__upload-button"),t){var n=(0,_.default)(p.default.findDOMNode(this)).find(t);n&&n.length&&(e=n.toArray())}return{accept:this.handleAccept,addedfile:this.handleAddedFile,dragenter:this.handleDragEnter,dragleave:this.handleDragLeave,drop:this.handleDrop,maxfilesexceeded:this.handleMaxFilesExceeded,uploadprogress:this.handleUploadProgress,dictDefaultMessage:h.default._t("AssetAdmin.DROPZONE_DEFAULT_MESSAGE","Drop files here to upload"),dictFallbackMessage:h.default._t("AssetAdmin.DROPZONE_FALLBACK_MESSAGE","Your browser does not support drag'n'drop file uploads."),dictFallbackText:h.default._t("AssetAdmin.DROPZONE_FALLBACK_TEXT","Please use the fallback form below to upload your files like in the olden days."),dictInvalidFileType:h.default._t("AssetAdmin.DROPZONE_INVALID_FILE_TYPE","You can't upload files of this type."),dictResponseError:h.default._t("AssetAdmin.DROPZONE_RESPONSE_ERROR","Server responded with an error."),dictCancelUpload:h.default._t("AssetAdmin.DROPZONE_CANCEL_UPLOAD","Cancel upload"),dictCancelUploadConfirmation:h.default._t("AssetAdmin.DROPZONE_CANCEL_UPLOAD_CONFIRMATION","Are you sure you want to cancel this upload?"),dictRemoveFile:h.default._t("AssetAdmin.DROPZONE_REMOVE_FILE","Remove file"),dictMaxFilesExceeded:h.default._t("AssetAdmin.DROPZONE_MAX_FILES_EXCEEDED","You can not upload any more files."),error:this.handleError,sending:this.handleSending,success:this.handleSuccess,queuecomplete:this.handleQueueComplete,thumbnailHeight:150,thumbnailWidth:200,timeout:0,clickable:e}}},{key:"getFileCategory",value:function(e){return e.split("/")[0]}},{key:"getLoadPreview",value:function(e){var t=this;return new Promise(function(n){var o=new FileReader;o.onload=function(o){if("image"===t.getFileCategory(e.type)){var r=new Image;n(t.loadImage(r,o.target.result))}else n({})},o.readAsDataURL(e)})}},{key:"getFileTitle",value:function(e){return e.replace(/[.][^.]+$/,"").replace(/-_/," ")}},{key:"setPromptOnRemove",value:function(e){this.dropzone.options.dictRemoveFileConfirmation=e}},{key:"handleDragEnter",value:function(e){this.props.canUpload&&(this.dragging=!0,this.forceUpdate(),"function"==typeof this.props.onDragEnter&&this.props.onDragEnter(e))}},{key:"handleDragLeave",value:function(e){var t=p.default.findDOMNode(this);this.props.canUpload&&e.target===t&&(this.dragging=!1,this.forceUpdate(),"function"==typeof this.props.onDragLeave&&this.props.onDragLeave(e,t))}},{key:"handleUploadProgress",value:function(e,t,n){"function"==typeof this.props.onUploadProgress&&this.props.onUploadProgress(e,t,n)}},{key:"handleDrop",value:function(e){this.dragging=!1,this.forceUpdate(),"function"==typeof this.props.onDrop&&this.props.onDrop(e)}},{key:"handleSending",value:function(e,t,n){var o=this;"function"==typeof this.props.updateFormData&&this.props.updateFormData(n),n.append("SecurityID",this.props.securityID),n.append("ParentID",this.props.folderId);var r=Object.assign({},t,{abort:function(){o.dropzone.cancelUpload(e),t.abort()}});"function"==typeof this.props.onSending&&this.props.onSending(e,r,n)}},{key:"handleMaxFilesExceeded",value:function(e){return"function"!=typeof this.props.onMaxFilesExceeded||this.props.onMaxFilesExceeded(e)}},{key:"generateQueuedId",value:function(){return S+=1}},{key:"handleAccept",value:function(e,t){return("function"!=typeof this.props.canFileUpload||this.props.canFileUpload(e))&&this.props.canUpload?t():t(h.default._t("AssetAdmin.DROPZONE_CANNOT_UPLOAD","Uploading not permitted."))}},{key:"handleAddedFile",value:function(e){var t=this;e._queuedId=this.generateQueuedId();var n={category:this.getFileCategory(e.type),filename:e.name,queuedId:e._queuedId,size:e.size,title:this.getFileTitle(e.name),extension:(0,v.getFileExtension)(e.name),type:e.type,uploadedToFolderId:this.props.folderId};return this.props.onAddedFile(n),this.getLoadPreview(e).then(function(e){var o={height:e.height,width:e.width,url:e.thumbnailURL,thumbnail:e.thumbnailURL,smallThumbnail:e.thumbnailURL};return"function"==typeof t.props.onPreviewLoaded&&t.props.onPreviewLoaded(n,o),l({},n,o)})}},{key:"loadImage",value:function(e,t){var n=this;return new Promise(function(o){var r=document.createElement("canvas"),s=r.getContext("2d");e.onload=function(){var t=2*n.props.preview.width,i=2*n.props.preview.height,l=e.naturalWidth/e.naturalHeight;e.naturalWidth<t||e.naturalHeight<i?(r.width=e.naturalWidth,r.height=e.naturalHeight):l<1?(r.width=t,r.height=t/l):(r.width=i*l,r.height=i),s.drawImage(e,0,0,r.width,r.height);var a=r.toDataURL("image/png");o({width:e.naturalWidth,height:e.naturalHeight,thumbnailURL:a})},e.src=t})}},{key:"handleError",value:function(e,t){this.dropzone.removeFile(e),this.props.onError(e,t)}},{key:"handleSuccess",value:function(e){this.dropzone.removeFile(e),this.props.onSuccess(e)}},{key:"handleQueueComplete",value:function(){this.props.onQueueComplete&&this.props.onQueueComplete()}},{key:"render",value:function(){var e=["asset-dropzone"];this.props.className&&e.push(this.props.className);var t={className:"asset-dropzone__upload-button ss-ui-button font-icon-upload",type:"button"};return this.props.canUpload||(t.disabled=!0),!0===this.dragging&&e.push("dragging"),d.default.createElement("div",{className:e.join(" ")},this.props.uploadButton&&d.default.createElement("button",t,h.default._t("AssetAdmin.DROPZONE_UPLOAD")),this.props.children)}}]),t}(u.Component);j.propTypes={folderId:E.default.number.isRequired,onAccept:E.default.func,onAddedFile:E.default.func.isRequired,onDragEnter:E.default.func,onDragLeave:E.default.func,onDrop:E.default.func,onError:E.default.func.isRequired,onPreviewLoaded:E.default.func,onSending:E.default.func,onSuccess:E.default.func.isRequired,onMaxFilesExceeded:E.default.func,updateFormData:E.default.func,canFileUpload:E.default.func,onQueueComplete:E.default.func,options:E.default.shape({url:E.default.string.isRequired}),promptOnRemove:E.default.string,securityID:E.default.string.isRequired,uploadButton:E.default.bool,uploadSelector:E.default.string,canUpload:E.default.bool.isRequired,preview:E.default.shape({width:E.default.number,height:E.default.number}),className:E.default.string},j.defaultProps={uploadButton:!0},t.default=j},"./client/src/components/BackButton/BackButton.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),u=o(a),d=n(1),c=o(d),p=n("./client/src/components/GalleryItem/droppable.js"),f=o(p),h=n(16),m=o(h),g=n(2),y=o(g),_=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.isDropping,n=e.badge,o=e.onClick,r=["btn","btn-secondary","btn--no-text","font-icon-level-up","btn--icon-large","gallery__back"];t&&(r.push("z-depth-1"),r.push("gallery__back--droppable-hover"));var s=n?u.default.createElement(m.default,{className:"gallery__back-badge",status:n.status,message:n.message}):null;return u.default.createElement("button",{className:r.join(" "),title:y.default._t("AssetAdmin.BACK_DESCRIPTION","Navigate up a level"),onClick:o},s)}}]),t}(a.Component);_.propTypes={onClick:c.default.func,isDropping:c.default.bool,badge:c.default.shape(m.default.propTypes)},t.Component=_,t.default=(0,f.default)("GalleryItem")(_)},"./client/src/components/BulkActions/BulkActions.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{gallery:e.assetAdmin.gallery}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(2),d=o(u),c=n(0),p=o(c),f=n(4),h=n(3),m=n(20),g=n(9),y=o(g),_=n(1),v=o(_),b=function(e){function t(e){r(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChangeValue=n.handleChangeValue.bind(n),n.renderChild=n.renderChild.bind(n),n}return i(t,e),a(t,[{key:"getOptionByValue",value:function(e){return this.props.actions.find(function(t){return t.value===e})}},{key:"handleChangeValue",value:function(e){var t=this,n=this.getOptionByValue(e.target.value);return null===n?null:"function"==typeof n.confirm?n.confirm(this.props.items).then(function(){return n.callback(e,t.props.items)}).catch(function(e){if("cancelled"!==e)throw e}):n.callback(e,this.props.items)||Promise.resolve()}},{key:"renderChild",value:function(e,t){var n=(0,y.default)("bulk-actions__action",e.className||"font-icon-info-circled",{btn:t<2,"bulk-actions__action--more":t>2});return t<2?p.default.createElement(m.Button,{className:n,key:e.value,onClick:this.handleChangeValue,value:e.value,color:e.color},e.label):p.default.createElement(m.DropdownItem,{type:"button",className:n,key:e.value,onClick:this.handleChangeValue,value:e.value},e.label)}},{key:"render",value:function(){var e=this;if(!this.props.items.length)return null;var t=this.props.actions.filter(function(t){return!t.canApply||t.canApply(e.props.items)});if(t=t.map(this.renderChild),!t.length)return null;var n=this.props,o=n.ActionMenu,r=n.showCount,s=this.props.items.length;return p.default.createElement("div",{className:"bulk-actions fieldholder-small"},r&&p.default.createElement("div",{className:"bulk-actions-counter"},s),t.slice(0,2),t.length>2&&o?p.default.createElement(o,{id:"BulkActions",className:"bulk-actions__more-actions-menu"},t.slice(2)):t.slice(2))}}]),t}(c.Component);b.propTypes={items:v.default.array,actions:v.default.arrayOf(v.default.shape({value:v.default.string.isRequired,label:v.default.string.isRequired,className:v.default.string,destructive:v.default.bool,callback:v.default.func,canApply:v.default.func,confirm:v.default.func})),ActionMenu:v.default.oneOfType([v.default.node,v.default.func]),showCount:v.default.bool},b.defaultProps={items:[],actions:[],ActionMenu:null,total:null,showCount:!0,totalReachedMessage:d.default._t("")};var E=(0,f.connect)(l)(b);t.Component=b,t.default=(0,h.inject)(["ActionMenu"],function(e){return{ActionMenu:e}},function(){return"BulkActions"})(E)},"./client/src/components/GalleryItem/GalleryItem.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return e.item.thumbnail&&"image"===e.item.category&&e.item.exists&&!e.item.queuedId&&e.sectionConfig.imageRetry.minRetry&&e.sectionConfig.imageRetry.maxRetry}function u(e,t){if(a(t)){var n=e.assetAdmin.imageLoad,o=n.files.find(function(e){return t.item.thumbnail===e.url});return{loadState:o&&o.status||U.default.NONE}}return{loadState:U.default.DISABLED}}function d(e){return{actions:{imageLoad:(0,T.bindActionCreators)(M,e)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.File=t.Folder=t.Component=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(2),h=o(f),m=n(0),g=o(m),y=n(9),_=o(y),v=n("./client/src/constants/index.js"),b=o(v),E=n("./client/src/lib/fileShape.js"),S=o(E),j=n("./client/src/components/GalleryItem/draggable.js"),C=o(j),w=n("./client/src/components/GalleryItem/droppable.js"),O=o(w),I=n(16),F=o(I),A=n(17),x=o(A),D=n("./client/src/lib/configShape.js"),P=o(D),k=n(4),T=n(5),N=n("./node_modules/react-selectable/dist/react-selectable.js"),R=n("./client/src/state/imageLoad/ImageLoadActions.js"),M=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(R),L=n("./client/src/state/imageLoad/ImageLoadStatus.js"),U=o(L),B=n(1),G=o(B),H=function(e){e.preventDefault()},q=function(e){function t(e){s(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelect=n.handleSelect.bind(n),n.handleActivate=n.handleActivate.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleCancelUpload=n.handleCancelUpload.bind(n),n}return l(t,e),p(t,[{key:"componentWillReceiveProps",value:function(e){a(e)&&e.actions.imageLoad.loadImage(e.item.thumbnail,e.sectionConfig.imageRetry)}},{key:"getThumbnailStyles",value:function(){var e=this.props.item,t=e.thumbnail,n=e.version;if(!this.isImage()||!t||this.missing())return{};var o=!n||t.startsWith("data:image/")?t:t+"?vid="+n;switch(this.props.loadState){case U.default.SUCCESS:case U.default.DISABLED:return{backgroundImage:"url("+o+")"};default:return{}}}},{key:"getErrorMessage",value:function(){var e=null,t=this.props,n=t.item,o=t.loadState;return this.hasError()?e=n.message.value:this.missing()?e=h.default._t("AssetAdmin.FILE_MISSING","File cannot be found"):o===U.default.FAILED&&(e=h.default._t("AssetAdmin.FILE_LOAD_ERROR","Thumbnail not available")),null!==e?(e=this.getItemFunction("updateErrorMessage")(e,this.props),g.default.createElement("span",{className:"gallery-item__error-message"},e)):null}},{key:"getThumbnailClassNames",value:function(){var e=["gallery-item__thumbnail"];switch(this.isImageSmallerThanThumbnail()&&e.push("gallery-item__thumbnail--small"),!this.props.item.thumbnail&&this.isImage()&&e.push("gallery-item__thumbnail--no-preview"),this.props.loadState){case U.default.LOADING:case U.default.WAITING:e.push("gallery-item__thumbnail--loading");break;case U.default.FAILED:e.push("gallery-item__thumbnail--error")}return e.join(" ")}},{key:"getItemClassNames",value:function(){var e,t=this.props.item.category||"false",n=this.props.selectable&&(this.props.item.selected||this.props.isDragging);return(0,_.default)((e={"gallery-item":!0},r(e,"gallery-item--"+t,!0),r(e,"gallery-item--max-selected",this.props.maxSelected&&!n),r(e,"gallery-item--missing",this.missing()),r(e,"gallery-item--selectable",this.props.selectable),r(e,"gallery-item--selected",n),r(e,"gallery-item--dropping",this.props.isDropping),r(e,"gallery-item--highlighted",this.props.item.highlighted),r(e,"gallery-item--error",this.hasError()),r(e,"gallery-item--dragging",this.props.isDragging),e))}},{key:"getItemFunction",value:function(e){var t=this.props.item;return"function"==typeof t[e]?t[e]:this.props[e]}},{key:"getStatusFlags",value:function(){var e=[],t=this.props.item;return"folder"!==t.type&&(t.draft?e.push({key:"status-draft",title:h.default._t("File.DRAFT","Draft"),className:"gallery-item--draft"}):t.modified&&e.push({key:"status-modified",title:h.default._t("File.MODIFIED","Modified"),className:"gallery-item--modified"})),e=this.getItemFunction("updateStatusFlags")(e,this.props),g.default.createElement("div",{className:"gallery-item__status-flags"},e.map(function(e){return g.default.createElement("span",e)}))}},{key:"getStatusIcons",value:function(){var e=this.props.item,t=[];return e.hasRestrictedAccess&&t.push({key:"status-restricted",fileID:e.id,hasRestrictedAccess:!0,placement:"top",disableTooltip:"folder"===e.type,includeBackground:"folder"!==e.type}),e.isTrackedFormUpload&&"folder"!==e.type&&t.push({key:"status-tracked-form-upload",fileID:e.id,isTrackedFormUpload:!0,hasRestrictedAccess:e.hasRestrictedAccess,placement:"top",includeBackground:!0}),g.default.createElement("div",{className:"gallery-item__status-icons"},t.map(function(e){return g.default.createElement(x.default,e)}))}},{key:"getProgressBar",value:function(){var e=null,t=this.props.item,n={className:"gallery-item__progress-bar",style:{width:t.progress+"%"}};return this.hasError()||!this.uploading()||this.complete()||(e=g.default.createElement("div",{className:"gallery-item__upload-progress"},g.default.createElement("div",n))),e=this.getItemFunction("updateProgressBar")(e,this.props)}},{key:"isImageSmallerThanThumbnail",value:function(){if(!this.isImage()||this.missing())return!1;var e=this.props.item.width,t=this.props.item.height;return t&&e&&t<b.default.THUMBNAIL_HEIGHT&&e<b.default.THUMBNAIL_WIDTH}},{key:"complete",value:function(){return this.props.item.queuedId&&this.saved()}},{key:"saved",value:function(){return this.props.item.id>0}},{key:"missing",value:function(){return!this.exists()&&this.saved()}},{key:"uploading",value:function(){return this.props.item.queuedId&&!this.saved()}},{key:"exists",value:function(){return this.props.item.exists}},{key:"isImage",value:function(){return"image"===this.props.item.category}},{key:"canBatchSelect",value:function(){return this.props.selectable&&this.props.item.canEdit}},{key:"hasError",value:function(){var e=!1;return this.props.item.message&&(e="error"===this.props.item.message.type),e}},{key:"handleActivate",value:function(e){e.stopPropagation(),"function"==typeof this.props.onActivate&&this.saved()&&this.props.onActivate(e,this.props.item)}},{key:"handleSelect",value:function(e){e.stopPropagation(),e.preventDefault(),"function"==typeof this.props.onSelect&&this.props.onSelect(e,this.props.item)}},{key:"handleKeyDown",value:function(e){b.default.SPACE_KEY_CODE===e.keyCode&&(e.preventDefault(),this.canBatchSelect()&&this.handleSelect(e)),b.default.RETURN_KEY_CODE===e.keyCode&&this.handleActivate(e)}},{key:"handleCancelUpload",value:function(e){e.stopPropagation(),e.preventDefault(),this.hasError()?this.props.onRemoveErroredUpload(this.props.item):this.props.onCancelUpload&&this.props.onCancelUpload(this.props.item)}},{key:"render",value:function(){var e=this,t=null,n=null,o=null,r=this.props.item,s=r.id,i=r.queuedId,l=s?"item-"+s:"queued-"+i;if(this.props.selectable&&(this.canBatchSelect()&&(t=this.handleSelect),n="font-icon-tick"),this.uploading())t=this.handleCancelUpload,n="font-icon-cancel";else if(this.exists()){var a=h.default._t("AssetAdmin.VIEW","View");o=g.default.createElement("div",{className:"gallery-item--overlay font-icon-eye"},a)}var u=this.props.badge,d={className:"gallery-item__checkbox",type:"checkbox",title:h.default._t("AssetAdmin.SELECT","Select"),tabIndex:-1,onMouseDown:H,id:l},p=["gallery-item__checkbox-label",n];this.canBatchSelect()||(d.disabled=!0,p.push("gallery-item__checkbox-label--disabled"));var f={className:p.join(" "),onClick:t};return g.default.createElement("div",{className:this.getItemClassNames(),"data-id":this.props.item.id,tabIndex:0,role:"button",onKeyDown:this.handleKeyDown,onClick:this.handleActivate},!!u&&g.default.createElement(F.default,{className:"gallery-item__badge",status:u.status,message:u.message}),g.default.createElement("div",{ref:function(t){e.thumbnail=t},className:this.getThumbnailClassNames(),style:this.getThumbnailStyles()},o,this.getStatusFlags(),this.getStatusIcons()),this.getProgressBar(),this.getErrorMessage(),this.props.children,g.default.createElement("div",{className:"gallery-item__title",ref:function(t){e.title=t}},g.default.createElement("label",c({},f,{htmlFor:l}),g.default.createElement("input",d)),this.props.item.title))}}]),t}(m.Component);q.propTypes={sectionConfig:P.default,item:S.default,loadState:G.default.oneOf(Object.values(U.default)),highlighted:G.default.bool,selected:G.default.bool,isDropping:G.default.bool,isDragging:G.default.bool,message:G.default.shape({value:G.default.string,type:G.default.string}),selectable:G.default.bool,onActivate:G.default.func,onSelect:G.default.func,onCancelUpload:G.default.func,onRemoveErroredUpload:G.default.func,badge:G.default.shape({status:G.default.string,message:G.default.string}),updateStatusFlags:G.default.func,updateProgressBar:G.default.func,updateErrorMessage:G.default.func},q.defaultProps={item:{},sectionConfig:{imageRetry:{}},updateStatusFlags:function(e){return e},updateProgressBar:function(e){return e},updateErrorMessage:function(e){return e}};var z=(0,k.connect)(u,d)(q),W=(0,N.createSelectable)((0,C.default)("GalleryItem")(z)),V=(0,N.createSelectable)((0,O.default)("GalleryItem")(W));t.Component=q,t.Folder=V,t.File=W,t.default=z},"./client/src/components/GalleryItem/GalleryItemDragLayer.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),d=o(u),c=n(1),p=o(c),f=n(19),h=n("./client/src/components/GalleryItem/GalleryItem.js"),m=o(h),g=n(16),y=o(g),_=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"getOffset",value:function(){var e=this.props,t=e.offset,n=e.dragged;return{transform:t&&"translate("+(t.x+n.x)+"px, "+(t.y+n.y)+"px)"}}},{key:"render",value:function(){if(!this.props.isDragging)return null;var e=this.props.item;if(!e.selected)return null;var t=e.selected.length,n=[t>1?d.default.createElement("div",{key:"1",className:"gallery-item__drag-shadow"}):null,t>2?d.default.createElement("div",{key:"2",className:"gallery-item__drag-shadow gallery-item__drag-shadow--second"}):null];return d.default.createElement("div",{className:"gallery-item__drag-layer"},d.default.createElement("div",{className:"gallery-item__drag-layer-item",style:this.getOffset()},d.default.createElement("div",{className:"gallery-item__drag-layer-preview"},n,d.default.createElement(m.default,l({},e.props,{isDragging:!0}))),t>1?d.default.createElement(y.default,{className:"gallery-item__drag-layer-count",status:"info",message:""+t}):null))}}]),t}(u.Component);_.propTypes={item:p.default.object,offset:p.default.shape({x:p.default.number.isRequired,y:p.default.number.isRequired}),isDragging:p.default.bool.isRequired};var v=function(e){return{item:e.getItem(),offset:e.getInitialClientOffset(),dragged:e.getDifferenceFromInitialOffset(),isDragging:e.isDragging()}};t.default=(0,f.DragLayer)(v)(_)},"./client/src/components/GalleryItem/draggable.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t={canDrag:function(e){return e.canDrag},beginDrag:function(e){var t=e.item.id;"function"==typeof e.onDrag&&e.onDrag(!0,t);var n=e.selectedFiles.concat([]);return n.includes(t)||n.push(t),{selected:n,props:e}},endDrag:function(e){var t=e.item.id;"function"==typeof e.onDrag&&e.onDrag(!1,t)}},n=function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}},o=(0,f.DragSource)(e,t,n);return function(e){var t=function(t){function n(){return r(this,n),s(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),a(n,[{key:"componentDidMount",value:function(){this.props.connectDragPreview((0,h.getEmptyImage)(),{captureDraggingState:!0})}},{key:"render",value:function(){var t=this.props.connectDragSource,n=d.default.createElement(e,this.props);return t("string"==typeof n.type?n:d.default.createElement("div",{className:"gallery-item__draggable"},n))}}]),n}(u.Component);return t.propTypes={connectDragSource:p.default.func.isRequired,connectDragPreview:p.default.func.isRequired,item:p.default.shape({id:p.default.number.isRequired}).isRequired,onDrag:p.default.func,selectedFiles:p.default.arrayOf(p.default.number)},o(t)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.default=l;var u=n(0),d=o(u),c=n(1),p=o(c),f=n(19),h=n(37)},"./client/src/components/GalleryItem/droppable.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t={drop:function(e,t){if(t.canDrop()){var n=t.getItem();e.onDropFiles(e.item.id,n.selected)}},canDrop:function(e,t){return!t.getItem().selected.includes(e.item.id)}},n=function(e,t){var n=t.isOver();return{isDropping:n&&t.canDrop(),connectDropTarget:e.dropTarget(),isOver:n}},o=(0,f.DropTarget)(e,t,n);return function(e){var t=function(t){function n(){return r(this,n),s(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),a(n,[{key:"render",value:function(){var t=this.props.connectDropTarget,n=d.default.createElement(e,this.props);return t("string"==typeof n.type?n:d.default.createElement("div",{className:"gallery-item__droppable"},n))}}]),n}(u.Component);return t.propTypes={connectDropTarget:p.default.func.isRequired,item:p.default.shape({id:p.default.number.isRequired}).isRequired},o(t)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.default=l;var u=n(0),d=o(u),c=n(1),p=o(c),f=n(19)},"./client/src/components/GalleryToolbar/Buttons/AddFolderButton.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),u=o(a),d=n(1),c=o(d),p=n(2),f=o(p),h=function(e){function t(){r(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleCreateFolder=e.handleCreateFolder.bind(e),e}return i(t,e),l(t,[{key:"handleCreateFolder",value:function(e){var t=this.props.onCreateFolder;e.preventDefault(),"function"==typeof t&&t()}},{key:"render",value:function(){var e=this.props.canEdit;return u.default.createElement("button",{id:"add-folder-button",className:"btn btn-secondary font-icon-folder-add btn--icon-xl",type:"button",onClick:this.handleCreateFolder,disabled:!e},u.default.createElement("span",{className:"btn__text btn__title"},f.default._t("AssetAdmin.ADD_FOLDER_BUTTON")))}}]),t}(a.Component);h.propTypes={canEdit:c.default.bool.isRequired,onCreateFolder:c.default.func.isRequired},t.default=h},"./client/src/components/GalleryToolbar/Buttons/BackButton.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),u=o(a),d=n(1),c=o(d),p=n("./client/src/components/BackButton/BackButton.js"),f=o(p),h=function(e){function t(e){r(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleBackClick=n.handleBackClick.bind(n),n}return i(t,e),l(t,[{key:"handleBackClick",value:function(e){var t=this.props,n=t.onOpenFolder,o=t.folder;e.preventDefault(),"function"==typeof n&&n(o.parentId)}},{key:"render",value:function(){var e=this.props,t=e.folder,n=e.badges,o=e.onMoveFiles,r=t.parentId;if(null===r)return null;var s=n.find(function(e){return e.id===r});return u.default.createElement("div",{className:"gallery__back-container"},u.default.createElement(f.default,{item:{id:r},onClick:this.handleBackClick,onDropFiles:o,badge:s}))}}]),t}(a.Component);h.propTypes={folder:c.default.shape({id:c.default.number,title:c.default.string,parentId:c.default.number,canView:c.default.bool,canEdit:c.default.bool}).isRequired,badges:c.default.arrayOf(c.default.shape({id:c.default.number,message:c.default.node,status:c.default.string})).isRequired,onOpenFolder:c.default.func.isRequired,onMoveFiles:c.default.func.isRequired},t.default=h},"./client/src/components/GalleryToolbar/Buttons/UploadButton.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),u=o(a),d=n(2),c=o(d),p=n(1),f=o(p),h=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.canEdit;return u.default.createElement("button",{id:"upload-button",className:"btn btn-secondary font-icon-upload btn--icon-xl",type:"button",disabled:!e},u.default.createElement("span",{className:"btn__text btn__title"},c.default._t("AssetAdmin.DROPZONE_UPLOAD")))}}]),t}(a.Component);h.defaultProps={canEdit:f.default.func.isRequired},t.default=h},"./client/src/components/GalleryToolbar/GalleryToolbar.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n=t.sort,o=e.assetAdmin.gallery,r=o.badges,s=o.sorters;return""===n&&(n=s[0].field+","+s[0].direction),{badges:r,sorters:s,sort:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),d=o(u),c=n(1),p=o(c),f=n(4),h=n("./client/src/components/GalleryToolbar/Buttons/BackButton.js"),m=o(h),g=n("./client/src/components/GalleryToolbar/Buttons/UploadButton.js"),y=o(g),_=n("./client/src/components/GalleryToolbar/Buttons/AddFolderButton.js"),v=o(_),b=function(e){function t(e){r(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectSort=n.handleSelectSort.bind(n),n.handleViewChange=n.handleViewChange.bind(n),n}return i(t,e),a(t,[{key:"handleSelectSort",value:function(e){this.props.onSort(e.currentTarget.value)}},{key:"handleViewChange",value:function(e){var t=e.currentTarget.value;this.props.onViewChange(t)}},{key:"renderSort",value:function(){var e=this;return"tile"!==this.props.view?null:d.default.createElement("div",{className:"gallery__sort fieldholder-small"},d.default.createElement("select",{className:"dropdown no-change-track no-chzn",tabIndex:"0",style:{width:"160px"},defaultValue:this.props.sort},this.props.sorters.map(function(t){var n=t.label.replace(/^\w|[\s\-]+\w/g,function(e){return e.toUpperCase()});return d.default.createElement("option",{key:t.field+"-"+t.direction,onClick:e.handleSelectSort,"data-field":t.field,"data-direction":t.direction,value:t.field+","+t.direction},n)})))}},{key:"renderViewChangeButtons",value:function(){var e=this;return["tile","table"].map(function(t){var n="table"===t?"list":"thumbnails",o=["gallery__view-change-button","btn btn-secondary","btn--icon-sm","btn--no-text"];return t===e.props.view?null:(o.push("font-icon-"+n),d.default.createElement("button",{id:"button-view-"+t,key:t,className:o.join(" "),type:"button",title:"Change view gallery/list",onClick:e.handleViewChange,value:t}))})}},{key:"render",value:function(){var e=this.props,t=e.badges,n=e.children,o=e.folder,r=e.onMoveFiles,s=e.onOpenFolder,i=e.onCreateFolder,l=e.BackButton,a=e.UploadButton,u=e.AddFolderButton,c=o.canEdit;return d.default.createElement("div",{className:"toolbar--content toolbar--space-save"},d.default.createElement("div",{className:"fill-width"},d.default.createElement("div",{className:"gallery__btn-toolbar flexbox-area-grow"},d.default.createElement("div",{className:"btn-toolbar"},d.default.createElement(l,{folder:o,badges:t,onOpenFolder:s,onMoveFiles:r}),d.default.createElement(a,{canEdit:c}),d.default.createElement(u,{canEdit:c,onCreateFolder:i}),n)),d.default.createElement("div",{className:"gallery__state-buttons"},this.renderSort(),d.default.createElement("div",{className:"btn-group",role:"group","aria-label":"View mode"},this.renderViewChangeButtons()))))}}]),t}(u.Component);b.propTypes={onMoveFiles:p.default.func.isRequired,onCreateFolder:p.default.func.isRequired,onViewChange:p.default.func.isRequired,onOpenFolder:p.default.func.isRequired,onSort:p.default.func.isRequired,folder:p.default.shape({id:p.default.number,title:p.default.string,parentId:p.default.number,canView:p.default.bool,canEdit:p.default.bool}).isRequired,view:p.default.oneOf(["tile","table"]),sort:p.default.string,badges:p.default.arrayOf(p.default.shape({id:p.default.number,message:p.default.node,status:p.default.string})),BackButton:p.default.func,UploadButton:p.default.func,AddFolderButton:p.default.func},b.defaultProps={view:"tile",BackButton:m.default,UploadButton:y.default,AddFolderButton:v.default},t.Component=b,t.default=(0,f.connect)(l)(b)},"./client/src/components/PreviewImageField/PreviewImageField.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n=e.config.SecurityID,o=t.id;return{securityID:n,upload:e.assetAdmin.previewField[o]||{},nameValue:(0,E.formValueSelector)(t.formid,O.default)(e,"Name")}}function a(e){return{actions:{previewField:(0,b.bindActionCreators)(j,e)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(2),p=o(c),f=n(0),h=o(f),m=n("./client/src/components/AssetDropzone/AssetDropzone.js"),g=o(m),y=n("./client/src/constants/index.js"),_=o(y),v=n(4),b=n(5),E=n(28),S=n("./client/src/state/previewField/PreviewFieldActions.js"),j=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(S),C=n(14),w=n(29),O=o(w),I=n(9),F=o(I),A=n(1),x=o(A),D=n(27),P=o(D),k=n(23),T=o(k),N=function(e){function t(e){r(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleAddedFile=n.handleAddedFile.bind(n),n.handleFailedUpload=n.handleFailedUpload.bind(n),n.handleSuccessfulUpload=n.handleSuccessfulUpload.bind(n),n.handleSending=n.handleSending.bind(n),n.handleUploadProgress=n.handleUploadProgress.bind(n),n.handleCancelUpload=n.handleCancelUpload.bind(n),n.handleRemoveErroredUpload=n.handleRemoveErroredUpload.bind(n),n.canFileUpload=n.canFileUpload.bind(n),n.updateFormData=n.updateFormData.bind(n),n}return i(t,e),d(t,[{key:"componentWillReceiveProps",value:function(e){(this.props.data.url&&e.data.url!==this.props.data.url||this.props.data.version&&e.data.version!==this.props.data.version)&&this.props.actions.previewField.removeFile(this.props.id)}},{key:"componentWillUnmount",value:function(){this.props.actions.previewField.removeFile(this.props.id)}},{key:"getDropzoneProps",value:function(){var e=this.props.data.uploadFileEndpoint,t=this.props.name,n={url:e&&e.url,method:e&&e.method,paramName:"Upload",clickable:!0,maxFiles:1},o={height:_.default.THUMBNAIL_HEIGHT,width:_.default.THUMBNAIL_WIDTH},r=this.props.securityID;return{name:t,className:["asset-dropzone--button","preview-image-field__container",this.props.className,this.props.extraClass].join(" "),canUpload:e&&this.canEdit(),preview:o,folderId:this.props.data.parentid,options:n,securityID:r,uploadButton:!1,onAddedFile:this.handleAddedFile,onError:this.handleFailedUpload,onSuccess:this.handleSuccessfulUpload,onSending:this.handleSending,onUploadProgress:this.handleUploadProgress,canFileUpload:this.canFileUpload,updateFormData:this.updateFormData}}},{key:"getButtonClasses",value:function(e){return(0,F.default)(["preview-image-field__toolbar-button--"+e,"preview-image-field__toolbar-button"])}},{key:"updateFormData",value:function(e){e.append("ID",this.props.data.id),e.append("Name",this.props.nameValue)}},{key:"handleSending",value:function(e,t){this.props.actions.previewField.updateFile(this.props.id,{xhr:t})}},{key:"handleSuccessfulUpload",value:function(e){var t=JSON.parse(e.xhr.response);"function"==typeof this.props.onAutofill&&(this.props.onAutofill("FileFilename",t.Filename),this.props.onAutofill("FileHash",t.Hash),this.props.onAutofill("FileVariant",t.Variant),t.Name&&this.props.onAutofill(this.props.data.nameField,t.Name))}},{key:"handleFailedUpload",value:function(e,t){this.props.actions.previewField.failUpload(this.props.id,t)}},{key:"handleAddedFile",value:function(e){this.props.actions.previewField.addFile(this.props.id,e)}},{key:"handleRemoveErroredUpload",value:function(){if("function"==typeof this.props.onAutofill){var e=this.props.data.initialValues;this.props.onAutofill("FileFilename",e.FileFilename),this.props.onAutofill("FileHash",e.FileHash),this.props.onAutofill("FileVariant",e.FileVariant)}this.props.actions.previewField.removeFile(this.props.id)}},{key:"handleCancelUpload",value:function(){this.props.upload.xhr&&this.props.upload.xhr.abort(),this.handleRemoveErroredUpload()}},{key:"canFileUpload",value:function(e){var t=this.props.data.initialValues.FileFilename,n=(0,C.getFileExtension)(t),o=(0,C.getFileExtension)(e.name);if(!n||n===o)return!0;var r=p.default._t("AssetAdmin.CONFIRM_CHANGE_EXTENSION","Are you sure you want upload a file with a different extension?");return this.props.confirm(r)}},{key:"preventDefault",value:function(e){e.preventDefault()}},{key:"canEdit",value:function(){return!this.props.readOnly&&!this.props.disabled&&"folder"!==this.props.data.category}},{key:"handleUploadProgress",value:function(e,t){this.props.actions.previewField.updateFile(this.props.id,{progress:t})}},{key:"preview",value:function(e,t,n){if(e&&"image"!==e)return _.default.DEFAULT_PREVIEW;var o=t.url||n.preview||n.url;return o?!n.version||o.startsWith("data:image/")?o:this.cacheBustUrl(o,n.version):null}},{key:"cacheBustUrl",value:function(e,t){var n=P.default.parse(e),o=T.default.parse(n.query);return o.vid=t,P.default.format(u({},n,{search:T.default.stringify(o)}))}},{key:"renderImage",value:function(){var e=this.props,t=e.data,n=e.upload;if(!t.mock&&!t.exists&&!n.url)return h.default.createElement("div",{className:"editor__file-preview-message--file-missing"},p.default._t("AssetAdmin.FILE_MISSING","File cannot be found"));var o=n.category,r=n.progress,s=n.message,i=this.preview(o,n,t),l=h.default.createElement("img",{alt:"preview",src:i,className:"editor__thumbnail"}),a=t.url&&!r?h.default.createElement("a",{className:"editor__file-preview-link",href:this.cacheBustUrl(t.url,t.version),target:"_blank",rel:"noopener noreferrer"},l):null,u=r>0&&r<100?h.default.createElement("div",{className:"preview-image-field__progress"},h.default.createElement("div",{className:"preview-image-field__progress-bar",style:{width:r+"%"}})):null,d=null;return s?d=h.default.createElement("div",{className:"preview-image-field__message preview-image-field__message--"+s.type},s.value):100===r&&(d=h.default.createElement("div",{className:"preview-image-field__message preview-image-field__message--success"},p.default._t("AssetAdmin.REPlACE_FILE_SUCCESS","Upload successful, the file will be replaced when you Save."),(r||s)&&h.default.createElement("button",{onClick:this.handleCancelUpload,className:"preview-image-field__message-button btn btn-outline-light",type:"button"},p.default._t("AssetAdmin.REPLACE_FILE_UNDO","Undo")))),h.default.createElement("div",{className:"editor__thumbnail-container"},a||l,u,d)}},{key:"render",value:function(){var e=this.getDropzoneProps();if(this.canEdit())return h.default.createElement(g.default,e,this.renderImage());var t=["preview-image-field__container",this.props.className,this.props.extraClass];return h.default.createElement("div",{className:t.join(" ")},this.renderImage())}}]),t}(f.Component);N.propTypes={id:x.default.string.isRequired,name:x.default.string,className:x.default.string,extraClass:x.default.string,readOnly:x.default.bool,disabled:x.default.bool,onAutofill:x.default.func,formid:x.default.string,nameValue:x.default.string,data:x.default.shape({id:x.default.number,parentid:x.default.number,version:x.default.number,url:x.default.string,mock:x.default.bool,exists:x.default.bool,preview:x.default.string,category:x.default.string,nameField:x.default.string,uploadFileEndpoint:x.default.shape({url:x.default.string.isRequired,method:x.default.string.isRequired,payloadFormat:x.default.string}),initialValues:x.default.object}).isRequired,upload:x.default.shape({url:x.default.string,progress:x.default.number,xhr:x.default.object,category:x.default.string,message:x.default.shape({type:x.default.string.isRequired,value:x.default.string.isRequired})}),actions:x.default.object,securityID:x.default.string,confirm:x.default.func},N.defaultProps={extraClass:"",className:"",data:{},upload:{},confirm:function(e){return window.confirm(e)}},t.Component=N,t.default=(0,v.connect)(l,a)(N)},"./client/src/components/ProportionConstraintField/ImageSizePresetList.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=n(0),l=o(i),a=n(1),u=o(a),d=n(20),c=n(2),p=o(c),f=function(e){return p.default.inject(p.default._t("AssetAdmin.SET_IMAGE_SIZE_TO",'Set image size to "{preset}"'),{preset:e})},h=function(e){var t=e.onSelect,n=e.currentWidth,o=e.originalWidth,r=e.width,s=e.text;return l.default.createElement(d.Button,{color:"link",size:"sm",onClick:function(){return t(r||o)},disabled:o<r||n===(r||o)},l.default.createElement("span",{className:"sr-only"},f(s)),l.default.createElement("span",{"aria-hidden":"true"},s))},m=function(e){var t=e.imageSizePresets,n=r(e,["imageSizePresets"]);return t?l.default.createElement("ul",{className:"image-size-preset-list"},t.map(function(e){return l.default.createElement("li",{key:e.text,className:"image-size-preset-list__list-item"},l.default.createElement(h,s({},e,n)))})):null};m.propTypes={onSelect:u.default.func,imageSizePresets:u.default.arrayOf(u.default.shape({text:u.default.string,width:u.default.number})),currentWidth:u.default.number,originalWidth:u.default.number.isRequired},t.default=m},"./client/src/components/ProportionConstraintField/ProportionConstraintField.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n=t.formid,o=(0,y.formValueSelector)(n,v.default),r=o(e,"Width"),s=o(e,"Height");return{current:{width:r?parseInt(r,10):void 0,heigth:s?parseInt(s,10):void 0},imageSizePresets:e.assetAdmin.modal.imageSizePresets}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(0),c=o(d),p=n(1),f=o(p),h=n(3),m=n("./client/src/components/ProportionConstraintField/ImageSizePresetList.js"),g=o(m),y=n(28),_=n(29),v=o(_),b=n(4),E=n(5),S=function(e){function t(e){r(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(2!==d.Children.toArray(e.children).length)throw new Error("ProportionConstraintField must be passed two children -- one field for each value");return n.handlePresetSelect=n.handlePresetSelect.bind(n),n.handleBlur=n.handleBlur.bind(n),n.handleFocus=n.handleFocus.bind(n),n.state={hasFocus:!1},n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){this.componentDidUpdate(this.props)}},{key:"componentDidUpdate",value:function(e){if(!this.state.hasFocus){var t=e.current.width,n=parseInt(t,10);(!n||n<=0)&&this.resetDimensions()}}},{key:"handleChange",value:function(e,t,n){var o=parseInt(n||t.target&&t.target.value,10);o&&o>0&&this.syncFields(e,o)}},{key:"syncFields",value:function(e,t){var n=this.props,o=n.children,r=n.active,s=n.onAutofill,i=n.data.ratio,l=0===e?1:0,a=o[e].props.name,u=o[l].props.name,d=0===e?1/i:i;s(a,t),r&&s(u,Math.round(t*d))}},{key:"handlePresetSelect",value:function(e){this.syncFields(0,e);var t=this.props.children[0].key,n=document.getElementById(t);n&&n.focus()}},{key:"handleBlur",value:function(e,t){this.setState({hasFocus:!1});var n=parseInt(t&&t.target&&t.target.value,10);(!n||n<=0)&&(t.preventDefault(),this.resetDimensions())}},{key:"handleFocus",value:function(){this.setState({hasFocus:!0})}},{key:"defaultWidth",value:function(){var e=this.props,t=e.imageSizePresets,n=e.data.originalWidth,o=t&&t.find(function(e){return e.default}),r=o&&o.width||n||600;return n&&n<r?n:r}},{key:"resetDimensions",value:function(){var e=this.defaultWidth();this.syncFields(0,e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.FieldGroup,o=t.data,r=o.originalWidth,s=o.isRemoteFile,i=t.current.width,l=t.imageSizePresets;return c.default.createElement(d.Fragment,null,c.default.createElement(n,a({smallholder:!1},this.props),this.props.children.map(function(t,n){return(0,d.cloneElement)(t,{onChange:function(t,o){return e.handleChange(n,t,o)},onBlur:function(t){return e.handleBlur(n,t)},onFocus:function(){return e.handleFocus()},key:n},t.props.children)})),!s&&c.default.createElement(g.default,{originalWidth:parseInt(r,10),currentWidth:i,imageSizePresets:l,onSelect:this.handlePresetSelect}))}}]),t}(d.Component);S.propTypes={children:f.default.array,onAutofill:f.default.func,active:f.default.bool,data:f.default.shape({ratio:f.default.number.isRequired,isRemoteFile:f.default.bool,originalWidth:f.default.number,originalHeight:f.default.number}),current:f.default.shape({width:f.default.oneOfType([f.default.number,f.default.string]),height:f.default.oneOfType([f.default.number,f.default.string])}).isRequired,FieldGroup:f.default.oneOfType([f.default.element,f.default.func]).isRequired,imageSizePresets:f.default.arrayOf(f.default.shape({width:f.default.number,text:f.default.string,default:f.default.bool}))},S.defaultProps={active:!0},t.Component=S,t.default=(0,E.compose)((0,b.connect)(l),(0,h.inject)(["FieldGroup"]))(S)},"./client/src/components/UploadField/UploadField.js":function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n].id!==t[n].id)return!0;return!1}function u(e,t){var n=t.id,o=[];return e.assetAdmin&&e.assetAdmin.uploadField&&e.assetAdmin.uploadField.fields&&e.assetAdmin.uploadField.fields[n]&&(o=e.assetAdmin.uploadField.fields[n].files||[]),{files:o,securityId:e.config.SecurityID}}function d(e){return{actions:{uploadField:(0,v.bindActionCreators)(x,e),modal:(0,v.bindActionCreators)(P,e)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectedUploadField=t.Component=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),h=n(2),m=r(h),g=n(0),y=r(g),_=n(4),v=n(5),b=n(3),E=n("./client/src/constants/index.js"),S=r(E),j=n(34),C=r(j),w=n("./client/src/lib/fileShape.js"),O=r(w),I=n("./client/src/lib/getStatusCodeMessage.js"),F=r(I),A=n("./client/src/state/uploadField/UploadFieldActions.js"),x=o(A),D=n("./client/src/state/modal/ModalActions.js"),P=o(D),k=n(1),T=r(k),N=function(e){function t(e){s(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getMaxFiles=n.getMaxFiles.bind(n),n.getFolderId=n.getFolderId.bind(n),n.renderChild=n.renderChild.bind(n),n.handleAddShow=n.handleAddShow.bind(n),n.handleHide=n.handleHide.bind(n),n.handleAddInsert=n.handleAddInsert.bind(n),n.handleInsertMany=n.handleInsertMany.bind(n),n.handleAddedFile=n.handleAddedFile.bind(n),n.handleSending=n.handleSending.bind(n),n.handleUploadProgress=n.handleUploadProgress.bind(n),n.handleFailedUpload=n.handleFailedUpload.bind(n),n.handleSuccessfulUpload=n.handleSuccessfulUpload.bind(n),n.handleItemRemove=n.handleItemRemove.bind(n),n.handleReplaceShow=n.handleReplaceShow.bind(n),n.handleChange=n.handleChange.bind(n),n.handleReplace=n.handleReplace.bind(n),n.canEdit=n.canEdit.bind(n),n.canAttach=n.canAttach.bind(n),n.canUpload=n.canUpload.bind(n),n.state={selecting:!1,selectingItem:null},n}return l(t,e),f(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.id,n=e.data,o=e.actions,r=e.value,s=e.files;r&&r.Files&&s&&r.Files.length===s.length&&0===s.filter(function(e){return!r.Files.includes(e.id)}).length||o.uploadField.setFiles(t,n.files)}},{key:"componentWillReceiveProps",value:function(e){a(this.props.files||[],e.files||[])&&this.handleChange(null,e)}},{key:"componentDidUpdate",value:function(e){var t=e.value.Files,n=this.props,o=n.id,r=n.data,s=n.files,i=n.value.Files,l=n.actions.uploadField.setFiles;if(i.length!==t.length||0!==i.filter(function(e){return!t.includes(e)}).length){var a=s.map(function(e){return e.id});a.length===i.length&&0===a.filter(function(e){return!i.includes(e)}).length||l(o,r.files)}}},{key:"getMaxFiles",value:function(){var e=this.props.data.multi?this.props.data.maxFiles:1;if(null===e||void 0===e)return null;var t=this.props.files.filter(function(e){return e.id>0&&(!e.message||"error"!==e.message.type)}).length;return Math.max(e-t,0)}},{key:"getMaxFilesize",value:function(){return this.props.data.maxFilesize||null}},{key:"getFolderId",value:function(){var e=this.state.selectingItem;return e&&"object"===(void 0===e?"undefined":p(e))?e.parent.id:this.props.data.parentid||0}},{key:"handleAddedFile",value:function(e){var t=c({},e,{uploaded:!0});this.props.actions.uploadField.addFile(this.props.id,t)}},{key:"handleSending",value:function(e,t){this.props.actions.uploadField.updateQueuedFile(this.props.id,e._queuedId,{xhr:t})}},{key:"handleUploadProgress",value:function(e,t){this.props.actions.uploadField.updateQueuedFile(this.props.id,e._queuedId,{progress:t})}},{key:"handleSuccessfulUpload",value:function(e){var t=JSON.parse(e.xhr.response);if(void 0!==t[0].error)return void this.handleFailedUpload(e);this.props.actions.uploadField.succeedUpload(this.props.id,e._queuedId,t[0])}},{key:"handleFailedUpload",value:function(e,t){var n=e.xhr&&e.xhr.status?(0,F.default)(e.xhr.status):"";this.props.actions.uploadField.failUpload(this.props.id,e._queuedId,t,n)}},{key:"handleItemRemove",value:function(e,t){this.props.actions.uploadField.removeFile(this.props.id,t)}},{key:"handleReplaceShow",value:function(e,t){this.props.actions.modal.initFormStack("select","admin"),this.setState({selecting:!0,selectingItem:t})}},{key:"handleChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;if("function"==typeof t.onChange){var n=t.files.filter(function(e){return e.id}).map(function(e){return e.id}),o={Files:n};t.onChange(e,{id:t.id,value:o})}}},{key:"handleUploadButton",value:function(e){e.preventDefault()}},{key:"handleAddShow",value:function(e){e.preventDefault(),this.props.actions.modal.initFormStack("select","admin"),this.setState({selecting:!0,selectingItem:null})}},{key:"handleHide",value:function(){this.props.actions.modal.reset(),this.setState({selecting:!1,selectingItem:null})}},{key:"handleAddInsert",value:function(e,t,n){return this.props.actions.uploadField.addFile(this.props.id,n),this.handleHide(),Promise.resolve({})}},{key:"handleInsertMany",value:function(e,t){var n=this;if(this.state.selectingItem)return void this.handleReplace(e,null,t[0]);t.forEach(function(t){n.handleAddInsert(e,null,t)})}},{key:"handleReplace",value:function(e,t,n){var o=this.state.selectingItem,r=this.props,s=r.id,i=r.actions.uploadField,l=i.addFile,a=i.removeFile;if(!o)throw new Error("Tried to replace a file when none was selected.");return a(s,o),l(s,n),this.handleHide(),Promise.resolve({})}},{key:"canEdit",value:function(){return!this.props.disabled&&!this.props.readOnly&&(this.props.data.canUpload||this.props.data.canAttach)}},{key:"canUpload",value:function(){return this.canEdit()&&this.props.data.canUpload}},{key:"canAttach",value:function(){return this.canEdit()&&this.props.data.canAttach}},{key:"renderDropzone",value:function(){var e=this.props.AssetDropzone;if(!this.props.data.createFileEndpoint)return null;var t={height:S.default.SMALL_THUMBNAIL_HEIGHT,width:S.default.SMALL_THUMBNAIL_WIDTH},n=this.getMaxFiles(),o=this.getMaxFilesize(),r={url:this.props.data.createFileEndpoint.url,method:this.props.data.createFileEndpoint.method,paramName:"Upload",maxFiles:n,maxFilesize:o,thumbnailWidth:S.default.SMALL_THUMBNAIL_WIDTH,thumbnailHeight:S.default.SMALL_THUMBNAIL_HEIGHT},s=["uploadfield__dropzone"];if(0===n&&s.push("uploadfield__dropzone--hidden"),!this.canEdit())return this.props.files.length?null:y.default.createElement("p",null,m.default._t("AssetAdmin.EMPTY","No files"));var i=this.props.securityId,l=[];return this.canUpload()&&l.push(y.default.createElement("button",{key:"uploadbutton",type:"button",onClick:this.handleUploadButton,className:"uploadfield__upload-button"},m.default._t("AssetAdmin.UPLOADFIELD_UPLOAD_NEW","Upload new"))),this.canAttach()&&(l.length&&l.push(y.default.createElement("span",{key:"uploadjoin",className:"uploadfield__join"},m.default._t("AssetAdmin.OR","or"))),l.push(y.default.createElement("button",{key:"attachbutton",type:"button",onClick:this.handleAddShow,className:"uploadfield__add-button"},m.default._t("AssetAdmin.UPLOADFIELD_CHOOSE_EXISTING","Choose existing")))),y.default.createElement(e,{name:this.props.name,canUpload:this.canUpload(),uploadButton:!1,uploadSelector:".uploadfield__upload-button, .uploadfield__backdrop",folderId:this.props.data.parentid,onAddedFile:this.handleAddedFile,onError:this.handleFailedUpload,onSuccess:this.handleSuccessfulUpload,onSending:this.handleSending,onUploadProgress:this.handleUploadProgress,preview:t,options:r,securityID:i,className:s.join(" ")},y.default.createElement("div",{className:"uploadfield__backdrop"}),y.default.createElement("span",{className:"uploadfield__droptext"},l))}},{key:"renderModal",value:function(){var e=this.props.InsertMediaModal,t=this.state,n=t.selecting,o=t.selectingItem,r=this.getMaxFiles(),s=this.getFolderId();return y.default.createElement(e,{title:!1,isOpen:n,onInsert:o?this.handleReplace:this.handleAddInsert,onClosed:this.handleHide,onInsertMany:this.handleInsertMany,maxFiles:o?1:r,type:"select",bodyClassName:"modal__dialog",className:"insert-media-react__dialog-wrapper",fileAttributes:o?{ID:o.id}:null,folderId:s})}},{key:"renderChild",value:function(e,t){var n=this.props.UploadFieldItem,o={key:e.id?"file-"+e.id:"queued-"+e.queuedId,item:e,name:this.props.name,onRemove:this.handleItemRemove,canEdit:this.canEdit(),onView:this.handleReplaceShow},r=this.props.getItemProps(o,t,this.props);return y.default.createElement(n,r)}},{key:"render",value:function(){return y.default.createElement("div",{className:"uploadfield"},this.renderDropzone(),this.props.files.map(this.renderChild),this.renderModal())}}]),t}(g.Component);N.propTypes={id:T.default.string.isRequired,name:T.default.string.isRequired,onChange:T.default.func,value:T.default.shape({Files:T.default.arrayOf(T.default.number)}),files:T.default.arrayOf(O.default),readOnly:T.default.bool,disabled:T.default.bool,data:T.default.shape({files:T.default.arrayOf(O.default),createFileEndpoint:T.default.shape({url:T.default.string.isRequired,method:T.default.string.isRequired,payloadFormat:T.default.string.isRequired}),multi:T.default.bool,parentid:T.default.number,canUpload:T.default.bool,canAttach:T.default.bool,maxFiles:T.default.number}),UploadFieldItem:T.default.oneOfType([T.default.node,T.default.func]),AssetDropzone:T.default.oneOfType([T.default.node,T.default.func]),InsertMediaModal:T.default.oneOfType([T.default.node,T.default.func]),getItemProps:T.default.func},N.defaultProps={value:{Files:[]},className:"",getItemProps:function(e){return e}};var R=(0,_.connect)(u,d)(N);t.Component=N,t.ConnectedUploadField=R,t.default=(0,v.compose)((0,b.inject)(["UploadFieldItem","AssetDropzone","InsertMediaModal"]),C.default)(R)},"./client/src/components/UploadField/UploadFieldItem.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(2),u=o(a),d=n(0),c=o(d),p=n("./node_modules/constants-browserify/constants.json"),f=o(p),h=n("./client/src/lib/fileShape.js"),m=o(h),g=n(14),y=n(1),_=o(y),v=n(17),b=o(v),E=function(e){function t(e){r(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleRemove=n.handleRemove.bind(n),n.handleItemClick=n.handleItemClick.bind(n),n.handleView=n.handleView.bind(n),n}return i(t,e),l(t,[{key:"getThumbnailStyles",value:function(){return this.isImage()&&(this.exists()||this.uploading())?{backgroundImage:"url("+(this.props.item.smallThumbnail||this.props.item.url||"")+")"}:{}}},{key:"getThumbnailClassNames",value:function(){var e=["uploadfield-item__thumbnail"];return this.isImageSmallerThanThumbnail()&&e.push("uploadfield-item__thumbnail--small"),e.join(" ")}},{key:"getItemClassNames",value:function(){var e=this.props.item.category||"none",t=["fill-width","uploadfield-item","uploadfield-item--"+e];return this.missing()&&t.push("uploadfield-item--missing"),this.hasError()&&t.push("uploadfield-item--error"),t.join(" ")}},{key:"hasError",value:function(){return!!this.props.item.message&&"error"===this.props.item.message.type}},{key:"isImage",value:function(){return"image"===this.props.item.category}},{key:"exists",value:function(){return this.props.item.exists}},{key:"uploading",value:function(){return this.props.item.queuedId&&!this.saved()}},{key:"complete",value:function(){return this.props.item.queuedId&&this.saved()}},{key:"saved",value:function(){return this.props.item.id>0}},{key:"missing",value:function(){return!this.exists()&&this.saved()}},{key:"isImageSmallerThanThumbnail",value:function(){if(!this.isImage()||this.missing())return!1;var e=this.props.item.width,t=this.props.item.height;return t&&e&&t<f.default.SMALL_THUMBNAIL_HEIGHT&&e<f.default.SMALL_THUMBNAIL_WIDTH}},{key:"handleRemove",value:function(e){e.preventDefault(),this.props.onRemove&&this.props.onRemove(e,this.props.item)}},{key:"handleView",value:function(e){e.preventDefault(),this.props.onView&&this.props.onView(e,this.props.item)}},{key:"handleItemClick",value:function(e){e.preventDefault(),this.props.onItemClick&&this.props.onItemClick(e,this.props.item)}},{key:"renderStatus",value:function(){return this.props.item.draft?c.default.createElement("span",{className:"uploadfield-item__status"},u.default._t("File.DRAFT","Draft")):this.props.item.modified?c.default.createElement("span",{className:"uploadfield-item__status"},u.default._t("File.MODIFIED","Modified")):null}},{key:"renderErrorMessage",value:function(){var e=null;return this.hasError()?e=this.props.item.message.value:this.missing()&&(e=u.default._t("AssetAdmin.FILE_MISSING","File cannot be found")),null!==e?c.default.createElement("div",{className:"uploadfield-item__error-message",title:e},e):null}},{key:"renderProgressBar",value:function(){var e={className:"uploadfield-item__progress-bar",style:{width:this.props.item.progress+"%"}};return!this.hasError()&&this.props.item.queuedId?this.complete()?c.default.createElement("div",{className:"uploadfield-item__complete-icon"}):c.default.createElement("div",{className:"uploadfield-item__upload-progress"},c.default.createElement("div",e)):null}},{key:"renderRemoveButton",value:function(){if(!this.props.canEdit)return null;var e=["btn","uploadfield-item__remove-btn","btn-secondary","btn--no-text","font-icon-cancel","btn--icon-md"].join(" ");return c.default.createElement("button",{className:e,onClick:this.handleRemove})}},{key:"renderViewButton",value:function(){if(!this.props.canEdit||!this.props.item.id)return null;var e=["btn","uploadfield-item__view-btn","btn-secondary","btn--no-text","font-icon-eye","btn--icon-md"].join(" ");return c.default.createElement("button",{className:e,onClick:this.handleView})}},{key:"renderRestrictedAccess",value:function(e){var t=e.id,n=e.hasRestrictedAccess,o={fileID:t,placement:"top",hasRestrictedAccess:n};return c.default.createElement(b.default,o)}},{key:"renderTrackedFormUpload",value:function(e){var t=e.id,n=e.isTrackedFormUpload,o=e.hasRestrictedAccess,r={fileID:t,placement:"top",isTrackedFormUpload:n,hasRestrictedAccess:o};return c.default.createElement(b.default,r)}},{key:"renderFileDetails",value:function(){var e=this.props.item,t="";return e.size&&(t=", "+(0,g.fileSize)(e.size)),c.default.createElement("div",{className:"uploadfield-item__details fill-height flexbox-area-grow"},c.default.createElement("div",{className:"fill-width"},c.default.createElement("span",{className:"uploadfield-item__title flexbox-area-grow"},e.title)),c.default.createElement("div",{className:"fill-width uploadfield-item__meta"},c.default.createElement("span",{className:"uploadfield-item__specs"},e.extension,t),this.renderStatus(),e.hasRestrictedAccess&&this.renderRestrictedAccess(e),e.isTrackedFormUpload&&this.renderTrackedFormUpload(e)))}},{key:"renderThumbnail",value:function(){return c.default.createElement("div",{className:this.getThumbnailClassNames(),style:this.getThumbnailStyles(),onClick:this.handleItemClick,role:"button",tabIndex:this.props.onItemClick?0:-1})}},{key:"render",value:function(){var e=this.props.name+"[Files][]";return c.default.createElement("div",{className:this.getItemClassNames()},c.default.createElement("input",{type:"hidden",value:this.props.item.id,name:e}),this.renderThumbnail(),this.renderFileDetails(),this.renderProgressBar(),this.renderErrorMessage(),this.renderViewButton(),this.renderRemoveButton())}}]),t}(d.Component);E.propTypes={canEdit:_.default.bool,name:_.default.string.isRequired,item:m.default,onRemove:_.default.func,onItemClick:_.default.func,onView:_.default.func},t.default=E},"./client/src/constants/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default={ACTIONS:{CREATE_FOLDER:"create-folder",EDIT_FILE:"edit"},MOVE_SUCCESS_DURATION:3e3,CSS_TRANSITION_TIME:300,SMALL_THUMBNAIL_HEIGHT:60,SMALL_THUMBNAIL_WIDTH:60,THUMBNAIL_HEIGHT:150,THUMBNAIL_WIDTH:200,BULK_ACTIONS:[{value:"delete",label:r.default._t("AssetAdmin.BULK_ACTIONS_DELETE","Delete"),className:"font-icon-trash",destructive:!0,callback:null,canApply:function(e){return e.every(function(e){return e&&e.canDelete})}},{value:"edit",label:r.default._t("AssetAdmin.BULK_ACTIONS_EDIT","Edit"),className:"font-icon-edit",destructive:!1,canApply:function(e){return 1===e.length},callback:null},{value:"move",label:r.default._t("AssetAdmin.BULK_ACTIONS_MOVE","Move"),className:"font-icon-folder-move",canApply:function(e){return e.every(function(e){return e&&e.canEdit})},destructive:!1,callback:null},{value:"publish",label:r.default._t("AssetAdmin.BULK_ACTIONS_PUBLISH","Publish"),className:"font-icon-rocket",destructive:!1,callback:null,canApply:function(e){return e.some(function(e){return e&&e.modified})&&e.every(function(e){return e.canEdit&&"folder"!==e.type})},confirm:null},{value:"unpublish",label:r.default._t("AssetAdmin.BULK_ACTIONS_UNPUBLISH","Unpublish"),className:"font-icon-cancel-circled",destructive:!1,callback:null,canApply:function(e){return e.some(function(e){return e.published})&&e.every(function(e){return e.canEdit&&"folder"!==e.type})},confirm:null},{value:"insert",label:r.default._t("AssetAdmin.BULK_ACTIONS_INSERT","Insert"),className:"font-icon-plus-circled btn-primary",destructive:!1,callback:null,canApply:function(e){return e.length},confirm:null}],BULK_ACTIONS_PLACEHOLDER:r.default._t("AssetAdmin.BULK_ACTIONS_PLACEHOLDER"),SPACE_KEY_CODE:32,RETURN_KEY_CODE:13,DEFAULT_PREVIEW:"framework/client/dist/images/app_icons/generic_92.png",MODAL_MOVE:"MODAL_MOVE"}},"./client/src/containers/AssetAdmin/AssetAdmin.js":function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e,t){var n=e.assetAdmin.modal.formSchema;return{securityId:e.config.SecurityID,queuedFiles:e.assetAdmin.queuedFiles,showSearch:e.assetAdmin.displaySearch.isOpen,type:n&&n.type||t.type}}function c(e){return{actions:{gallery:(0,v.bindActionCreators)(I,e),toasts:(0,v.bindActionCreators)(A,e),displaySearch:(0,v.bindActionCreators)(k,e),queuedFiles:(0,v.bindActionCreators)(D,e),confirmDeletion:(0,v.bindActionCreators)(le,e)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),h=n(0),m=r(h),g=n(1),y=r(g),_=n(4),v=n(5),b=n(24),E=r(b),S=n(2),j=r(S),C=n(9),w=r(C),O=n("./client/src/state/gallery/GalleryActions.js"),I=o(O),F=n(22),A=o(F),x=n("./client/src/state/queuedFiles/QueuedFilesActions.js"),D=o(x),P=n("./client/src/state/displaySearch/DisplaySearchActions.js"),k=o(P),T=n("./client/src/containers/Editor/Editor.js"),N=r(T),R=n("./client/src/containers/Gallery/Gallery.js"),M=r(R),L=n("./client/src/containers/AssetAdmin/AssetAdminBreadcrumb.js"),U=r(L),B=n(41),G=r(B),H=n(11),q=n(21),z=r(q),W=n(40),V=r(W),K=n("./client/src/state/files/deleteFilesMutation.js"),Q=r(K),Y=n("./client/src/state/files/unpublishFilesMutation.js"),$=r(Y),X=n("./client/src/state/files/publishFilesMutation.js"),Z=r(X),J=n("./client/src/constants/index.js"),ee=r(J),te=n("./client/src/lib/configShape.js"),ne=r(te),oe=n(3),re=n("./client/src/containers/BulkDeleteConfirmation/BulkDeleteConfirmation.js"),se=r(re),ie=n("./client/src/state/confirmDeletion/ConfirmDeletionActions.js"),le=o(ie),ae=n("./client/src/lib/getFormSchema.js"),ue=r(ae),de=function(e){function t(e){l(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleOpenFile=n.handleOpenFile.bind(n),n.handleCloseFile=n.handleCloseFile.bind(n),n.handleDelete=n.handleDelete.bind(n),n.doPublish=n.doPublish.bind(n),n.doUnpublish=n.doUnpublish.bind(n),n.handleUnpublish=n.handleUnpublish.bind(n),n.handleDoSearch=n.handleDoSearch.bind(n),n.handleClearSearch=n.handleClearSearch.bind(n),n.handleSubmitEditor=n.handleSubmitEditor.bind(n),n.handleOpenFolder=n.handleOpenFolder.bind(n),n.handleSort=n.handleSort.bind(n),n.handleSetPage=n.handleSetPage.bind(n),n.createEndpoint=n.createEndpoint.bind(n),n.handleBackButtonClick=n.handleBackButtonClick.bind(n),n.handleFolderIcon=n.handleFolderIcon.bind(n),n.handleBrowse=n.handleBrowse.bind(n),n.handleViewChange=n.handleViewChange.bind(n),n.handleUpload=n.handleUpload.bind(n),n.handleUploadQueue=n.handleUploadQueue.bind(n),n.handleCreateFolder=n.handleCreateFolder.bind(n),n.handleMoveFilesSuccess=n.handleMoveFilesSuccess.bind(n),n}return u(t,e),f(t,[{key:"componentWillReceiveProps",value:function(e){!e.loading&&e.folder&&e.folderId!==e.folder.id&&e.onReplaceUrl(e.folder.id,e.fileId,e.query,e.viewAction)}},{key:"getFolderId",value:function(){return null!==this.props.folderId?this.props.folderId:this.props.folder?this.props.folder.id:0}},{key:"getFiles",value:function(){var e=this.props,t=e.files,n=e.queuedFiles,o=e.folderId,r=[].concat(i(n.items.filter(function(e){return!(e.id&&t.find(function(t){return t.id===e.id})||e.hasOwnProperty("uploadedToFolderId")&&e.uploadedToFolderId!==o)})),i(t)),s=r.filter(function(e){return"folder"===e.type}),l=r.filter(function(e){return"folder"!==e.type});return s.concat(l)}},{key:"handleBrowse",value:function(e,t,n){"function"==typeof this.props.onBrowse&&this.props.onBrowse(e,t,n),e!==this.getFolderId()&&this.props.actions.gallery.deselectFiles()}},{key:"handleSetPage",value:function(e){this.handleBrowse(this.getFolderId(),this.props.fileId,Object.assign({},this.props.query,{page:e}))}},{key:"handleDoSearch",value:function(e){this.props.actions.gallery.deselectFiles(),this.props.actions.queuedFiles.purgeUploadQueue(),this.props.actions.files.readFiles(),this.handleBrowse(e.currentFolderOnly?this.getFolderId():0,null,{filter:e,view:this.props.query.view})}},{key:"handleClearSearch",value:function(e){this.props.actions.displaySearch.closeSearch(),this.props.actions.gallery.deselectFiles(),this.props.actions.queuedFiles.purgeUploadQueue(),this.props.actions.files.readFiles(),this.handleOpenFolder(e,this.props.folder)}},{key:"handleSort",value:function(e){this.handleBrowse(this.getFolderId(),this.props.fileId,p({},this.props.query,{sort:e,limit:void 0,page:void 0}))}},{key:"handleViewChange",value:function(e){this.handleBrowse(this.getFolderId(),this.props.fileId,Object.assign({},this.props.query,{view:e}))}},{key:"createEndpoint",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return E.default.createEndpointFetcher(Object.assign({},e,t?{defaultData:{SecurityID:this.props.securityId}}:{}))}},{key:"handleBackButtonClick",value:function(e){e.preventDefault(),this.props.actions.gallery.deselectFiles(),this.props.folder?this.handleOpenFolder(this.props.folder.parentId||0):this.handleOpenFolder(0)}},{key:"resetFile",value:function(e){e.queuedId&&this.props.actions.queuedFiles.removeQueuedFile(e.queuedId),this.props.fileId===e.id&&(this.handleCloseFile(),this.handleOpenFile(e.id))}},{key:"handleFolderIcon",value:function(){this.handleOpenFile(this.getFolderId())}},{key:"handleOpenFile",value:function(e){this.handleBrowse(this.getFolderId(),e,this.props.query)}},{key:"handleSubmitEditor",value:function(e,t,n){var o=this,r=null;if("action_insert"===t&&"select"===this.props.type){var s=this.getFiles(),i=s.find(function(t){return t.id===parseInt(e.ID,10)});return this.props.onInsertMany(null,[i]),Promise.resolve()}if("function"==typeof this.props.onSubmitEditor){var l=this.findFile(this.props.fileId);r=this.props.onSubmitEditor(e,t,n,l)}else r=n();if(!r)throw new Error("Promise was not returned for submitting");return r.then(function(e){return"action_createfolder"===t&&"admin"===o.props.type&&o.handleOpenFile(e.record.id),o.props.actions.files.readFiles().then(function(){return"action_createfolder"===t&&"admin"!==o.props.type&&o.handleOpenFolder(o.getFolderId()),e})})}},{key:"handleCloseFile",value:function(){this.handleBrowse(this.getFolderId(),null,this.props.query)}},{key:"handleOpenFolder",value:function(e){var t=this.props.query,n=(t.page,t.filter,s(t,["page","filter"]));this.handleBrowse(e,null,n)}},{key:"handleDelete",value:function(e){var t=this;this.props.actions.confirmDeletion.deleting();var n=e.map(function(e){var n=t.findFile(e);if(!n)throw new Error("File selected for deletion cannot be found: "+e);return n.queuedId&&t.props.actions.queuedFiles.removeQueuedFile(n.queuedId),n}),o=n.map(function(e){return e.id}),r=this.props.folder?this.props.folder.id:0;return this.props.actions.files.deleteFiles(o,r).then(function(e){var n=e.data.deleteFiles;return t.handleBrowse(r,null,t.props.query),t.props.queuedFiles.items.filter(function(e){return o.includes(e.id)}).forEach(function(e){e.queuedId&&t.props.actions.queuedFiles.removeQueuedFile(e.queuedId)}),t.props.actions.files.readFiles(),n}).then(function(n){var o=n.filter(function(e){return e}).length;return o!==e.length?t.props.actions.toasts.error(j.default.sprintf(j.default._t("AssetAdmin.BULK_ACTIONS_DELETE_FAIL","%s folders/files were successfully deleted, but %s files were not able to be deleted."),o,e.length-o)):(t.props.actions.toasts.success(j.default.sprintf(j.default._t("AssetAdmin.BULK_ACTIONS_DELETE_SUCCESS","%s folders/files were successfully deleted."),o)),t.props.actions.gallery.deselectFiles()),n}).finally(this.props.actions.confirmDeletion.reset)}},{key:"doUnpublish",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e.map(function(e){var n=t.findFile(e);if(!n)throw new Error("File selected for unpublishing cannot be found: "+e);if("folder"===n.type)throw new Error("Cannot unpublish folders");return n}),r=o.map(function(e){return e.id});return this.props.actions.files.unpublishFiles(r,n).then(function(e){var n=e.data.unpublishFiles,o=n.filter(function(e){return"File"===e.__typename}),r=n.filter(function(e){return"PublicationNotice"===e.__typename&&"HAS_OWNERS"===e.Type}),s=o.map(function(e){return t.resetFile(e),e}),i=r.slice(0,4),l=r.slice(5),a=i.map(function(e){return e.Message});if(l.length&&a.push(j.default.inject(j.default._t("AssetAdmin.BULK_OWNED_WARNING_REMAINING","And {count} other file(s)"),{count:l.length})),i.length){var u=[j.default.inject(j.default._t("AssetAdmin.BULK_OWNED_WARNING_HEADING","{count} file(s) are being used by other published content."),{count:r.length}),a.join("\n"),j.default._t("AssetAdmin.BULK_OWNED_WARNING_FOOTER","Unpublishing will only remove files from the published version of the content. They will remain on the draft version. Unpublish anyway?")];if(confirm(u.join("\n\n"))){var d=r.reduce(function(e,t){return e.concat(t.IDs)},[]);return t.doUnpublish(d,!0).then(function(e){return s.concat(e)})}}return s})}},{key:"handleUnpublish",value:function(e){var t=this;return this.doUnpublish(e).then(function(e){var n=t.props.fileId;t.props.actions.files.readFiles().then(function(){n&&e.find(function(e){return e.id===n})&&(t.handleCloseFile(),t.handleOpenFile(n))})})}},{key:"doPublish",value:function(e){var t=this,n=e.map(function(e){var n=t.findFile(e);if(!n)throw new Error("File selected for publishing cannot be found: "+e);if("folder"===n.type)throw new Error("Cannot publish folders");return n}),o=n.map(function(e){return e.id});return this.props.actions.files.publishFiles(o).then(function(e){return e.data.publishFiles.filter(function(e){return"File"===e.__typename}).map(function(e){return t.resetFile(e),e})})}},{key:"findFile",value:function(e){return this.getFiles().find(function(t){return t.id===parseInt(e,10)})}},{key:"handleUpload",value:function(){}},{key:"handleUploadQueue",value:function(){this.props.fileId&&this.props.actions.files.readFiles()}},{key:"handleCreateFolder",value:function(){this.props.onBrowse(this.getFolderId(),null,this.props.query,ee.default.ACTIONS.CREATE_FOLDER)}},{key:"handleMoveFilesSuccess",value:function(e,t){var n=this;this.props.queuedFiles.items.filter(function(e){return t.includes(e.id)}).forEach(function(e){e.queuedId&&n.props.actions.queuedFiles.removeQueuedFile(e.queuedId)}),this.props.actions.gallery.deselectFiles(),this.props.actions.files.readFiles()}},{key:"renderGallery",value:function(){var e=this.props.sectionConfig,t=e.createFileEndpoint.url,n=e.createFileEndpoint.method,o=this.props.query&&parseInt(this.props.query.limit||e.limit,10),r=this.props.query&&parseInt(this.props.query.page||1,10),s=this.props.query&&this.props.query.sort,i=this.props.query&&this.props.query.view,l=this.props.query.filter||{};return m.default.createElement(M.default,{files:this.getFiles(),fileId:this.props.fileId,folderId:this.getFolderId(),folder:this.props.folder,type:this.props.type,limit:o,page:r,totalCount:this.props.filesTotalCount,view:i,filters:l,graphQLErrors:this.props.graphQLErrors,createFileApiUrl:t,createFileApiMethod:n,onInsertMany:this.props.onInsertMany,onPublish:this.doPublish,onUnpublish:this.doUnpublish,onOpenFile:this.handleOpenFile,onOpenFolder:this.handleOpenFolder,onSuccessfulUpload:this.handleUpload,onSuccessfulUploadQueue:this.handleUploadQueue,onCreateFolder:this.handleCreateFolder,onMoveFilesSuccess:this.handleMoveFilesSuccess,onClearSearch:this.handleClearSearch,onSort:this.handleSort,onSetPage:this.handleSetPage,onViewChange:this.handleViewChange,sort:s,sectionConfig:e,loading:this.props.loading,maxFilesSelect:this.props.maxFiles,dialog:this.props.dialog})}},{key:"renderEditor",value:function(){var e=this.props,t=e.sectionConfig,n=e.viewAction,o=e.type,r=e.fileId,s=e.dialog,i=e.requireLinkText,l=e.fileSelected,a=(0,ue.default)({config:t,viewAction:n,folderId:this.getFolderId(),type:o,fileId:r}),u=a.schemaUrl,d=a.targetId;if(!u)return null;var c=[];i&&c.push({name:"requireLinkText",value:!0}),l&&c.push({name:"fileSelected",value:!0});var p={dialog:s,targetId:d,schemaUrl:u,schemaUrlQueries:c,file:this.findFile(d),onClose:this.handleCloseFile,onSubmit:this.handleSubmitEditor,onUnpublish:this.handleUnpublish,addToCampaignSchemaUrl:t.form.addToCampaignForm.schemaUrl};return m.default.createElement(N.default,p)}},{key:"render",value:function(){var e=this.props,t=e.folder,n=e.folderId,o=e.query,r=e.getUrl,s=e.type,i=e.maxFiles,l=e.toolbarChildren,a=Boolean(n||(0,q.hasFilters)(o.filter)),u=this.props.sectionConfig.form.fileSearchForm.schemaUrl,d=o.filter||{},c=(0,w.default)("fill-height asset-admin","select"===s&&{"asset-admin--single-select":1===i,"asset-admin--multi-select":1!==i}),p=(0,q.hasFilters)(o.filter)||this.props.showSearch,f=this.props.actions.displaySearch?this.props.actions.displaySearch.toggleSearch:void 0,h={folder:t,query:o,getUrl:r,onBrowse:this.handleBrowse,onFolderIcon:this.handleFolderIcon};return m.default.createElement("div",{className:c},m.default.createElement(G.default,{showBackButton:a,onBackButtonClick:this.handleBackButtonClick},m.default.createElement(U.default,h),m.default.createElement("div",{className:"asset-admin__toolbar-extra pull-xs-right fill-width vertical-align-items"},m.default.createElement(V.default,{toggled:p,onToggle:f}),l)),p&&m.default.createElement(z.default,{onSearch:this.handleDoSearch,id:"AssetSearchForm",formSchemaUrl:u,onHide:this.handleClearSearch,displayBehavior:"HIDEABLE",filters:d,name:"name"}),m.default.createElement("div",{className:"flexbox-area-grow fill-width fill-height gallery"},this.renderGallery(),this.renderEditor()),m.default.createElement(se.default,{onConfirm:this.handleDelete}))}}]),t}(h.Component);de.propTypes={dialog:y.default.bool,sectionConfig:ne.default,fileId:y.default.number,folderId:y.default.number,onBrowse:y.default.func,onReplaceUrl:y.default.func,onInsertMany:y.default.func,graphQLErrors:y.default.arrayOf(y.default.string),getUrl:y.default.func,query:y.default.shape({sort:y.default.string,limit:y.default.oneOfType([y.default.number,y.default.string]),page:y.default.oneOfType([y.default.number,y.default.string]),filter:y.default.object}),onSubmitEditor:y.default.func,type:y.default.oneOf(["insert-media","insert-link","select","admin"]),files:y.default.array,queuedFiles:y.default.shape({items:y.default.array.isRequired}),filesTotalCount:y.default.number,folder:y.default.shape({id:y.default.number,title:y.default.string,parents:y.default.array,parentId:y.default.number,canView:y.default.bool,canEdit:y.default.bool}),loading:y.default.bool,actions:y.default.object,maxFiles:y.default.number,fileSelected:y.default.bool},de.defaultProps={type:"admin",query:{sort:"",limit:null,page:0,filter:{}},maxFiles:null},t.Component=de,t.default=(0,v.compose)((0,_.connect)(d,c),(0,oe.injectGraphql)("ReadFilesQuery"),Q.default,$.default,Z.default,H.withApollo)(de)},"./client/src/containers/AssetAdmin/AssetAdminBreadcrumb.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=o(r),i=n(1),l=o(i),a=n(2),u=o(a),d=n(32),c=n(21),p=function(e){var t=e.folder,n=e.query,o=e.getUrl,r=e.onBrowse,i=e.onFolderIcon,l=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){e.preventDefault(),r.apply(void 0,t)}},a=function(){return o&&o.apply(void 0,arguments)},p=[{text:u.default._t("AssetAdmin.FILES","Files"),href:a(0,null,n),onClick:l(0,null,n)}];if(t&&t.id){t.parents&&t.parents.forEach(function(e){p.push({text:e.title,href:a(e.id,null,n),onClick:l(e.id,null,n)})});var f=[{className:"icon font-icon-edit-list",onClick:function(e){e.preventDefault(),i()}}];t.hasRestrictedAccess&&f.push({nodeName:"FileStatusIcon",hasRestrictedAccess:!0}),p.push({text:t.title,href:a(t.id,null,n),onClick:l(t.id,null,n),icons:f})}return(0,c.hasFilters)(n.filter)&&p.push({text:u.default._t("LeftAndMain.SEARCHRESULTS","Search results")}),s.default.createElement(d.Component,{multiline:!0,crumbs:p})};p.propTypes={onBrowse:l.default.func,onFolderIcon:l.default.func,getUrl:l.default.func,query:l.default.shape({sort:l.default.string,limit:l.default.oneOfType([l.default.number,l.default.string]),page:l.default.oneOfType([l.default.number,l.default.string]),filter:l.default.object,view:l.default.string}),folder:l.default.shape({id:l.default.number,title:l.default.string,parents:l.default.array,parentId:l.default.number,canView:l.default.bool,canEdit:l.default.bool})},t.default=p},"./client/src/containers/AssetAdmin/AssetAdminRouter.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.base,n=e.folderId,o=e.fileId,r=e.query,s=e.action;if(s&&-1===O.indexOf(s))throw new Error("Invalid action provided: "+s);var i=null;return i=o?t+"/show/"+n+"/"+S.default.ACTIONS.EDIT_FILE+"/"+o:n?t+"/show/"+n:t+"/",s===S.default.ACTIONS.CREATE_FOLDER&&(i=t+"/show/"+(n||0)+"/"+s),r&&Object.keys(r).length>0&&(i=i+"?"+b.default.stringify(r)),i}function a(e){return{sectionConfig:e.config.sections.find(function(e){return e.name===w})}}Object.defineProperty(t,"__esModule",{value:!0}),t.buildUrl=t.Component=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(0),c=o(d),p=n(1),f=o(p),h=n(4),m=n(39),g=n("./client/src/containers/AssetAdmin/AssetAdmin.js"),y=o(g),_=n(14),v=n(23),b=o(v),E=n("./client/src/constants/index.js"),S=o(E),j=n("./client/src/lib/configShape.js"),C=o(j),w="SilverStripe\\AssetAdmin\\Controller\\AssetAdmin",O=Object.keys(S.default.ACTIONS).map(function(e){return S.default.ACTIONS[e]}),I=function(e){function t(e){r(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleBrowse=n.handleBrowse.bind(n),n.handleReplaceUrl=n.handleReplaceUrl.bind(n),n.getUrl=n.getUrl.bind(n),n}return i(t,e),u(t,[{key:"getUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S.default.ACTIONS.EDIT_FILE,r=parseInt(e||0,10),s=parseInt(t||0,10),i=r!==this.getFolderId(),a=Object.assign({},n);return(i||a.page<=1)&&delete a.page,l({base:"/"+this.props.sectionConfig.url,folderId:r,fileId:s,query:a,action:o})}},{key:"getFolderId",value:function(){return this.props.match.params&&this.props.match.params.folderId?parseInt(this.props.match.params.folderId,10):0}},{key:"getFileId",value:function(){return this.props.match.params&&this.props.match.params.fileId?parseInt(this.props.match.params.fileId,10):0}},{key:"getViewAction",value:function(){return this.props.match.params&&this.props.match.params.viewAction?this.props.match.params.viewAction:S.default.ACTIONS.EDIT_FILE}},{key:"getSectionProps",value:function(){return{sectionConfig:this.props.sectionConfig,type:"admin",folderId:this.getFolderId(),viewAction:this.getViewAction(),fileId:this.getFileId(),query:this.getQuery(),getUrl:this.getUrl,onBrowse:this.handleBrowse,onReplaceUrl:this.handleReplaceUrl}}},{key:"getQuery",value:function(){return(0,_.decodeQuery)(this.props.location.search)}},{key:"handleBrowse",value:function(e,t,n,o){var r=this.getUrl(e,t,n,o);this.props.history.push(r)}},{key:"handleReplaceUrl",value:function(e,t,n,o){var r=this.getUrl(e,t,n,o);this.props.history.replace(r)}},{key:"render",value:function(){return this.props.sectionConfig?c.default.createElement(y.default,this.getSectionProps()):null}}]),t}(d.Component);I.propTypes={sectionConfig:C.default,location:f.default.shape({pathname:f.default.string,query:f.default.object,search:f.default.string}),params:f.default.object,router:f.default.object},t.Component=I,t.buildUrl=l,t.default=(0,m.withRouter)((0,h.connect)(a)(I))},"./client/src/containers/AssetAdmin/stateRouter.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{actions:{resetFormStack:function(){return e((0,_.resetFormStack)())}}}}function a(e){function t(t){var n=t.config.sections.find(function(e){return e.name===v});return{Component:e,sectionConfig:n}}return(0,h.connect)(t,l)(E)}Object.defineProperty(t,"__esModule",{value:!0}),t.AssetAdminStateRouter=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(0),c=o(d),p=n(1),f=o(p),h=n(4),m=n("./client/src/containers/AssetAdmin/AssetAdminRouter.js"),g=n("./client/src/constants/index.js"),y=o(g),_=n("./client/src/state/modal/ModalActions.js"),v="SilverStripe\\AssetAdmin\\Controller\\AssetAdmin",b={folderId:null,fileId:null,query:{},action:y.default.ACTIONS.EDIT_FILE},E=function(e){function t(e){r(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleBrowse=n.handleBrowse.bind(n),n.getUrl=n.getUrl.bind(n),n.state=Object.assign({},b,{folderId:e.folderId}),n}return i(t,e),u(t,[{key:"getUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y.default.ACTIONS.EDIT_FILE,r=parseInt(e||0,10),s=parseInt(t||0,10),i=this.getFolderId(),l=r!==i&&null!==i,a=Object.assign({},n);return(l||a.page<=1)&&delete a.page,(0,m.buildUrl)({base:this.props.sectionConfig.url,folderId:r,fileId:s,query:a,action:o})}},{key:"getFolderId",value:function(){return null===this.state.folderId?null:parseInt(this.state.folderId||0,10)}},{key:"getFileId",value:function(){return parseInt(this.state.fileId||this.props.fileId||0,10)}},{key:"getViewAction",value:function(){return this.state.action||y.default.ACTIONS.EDIT_FILE}},{key:"getSectionProps",value:function(){var e=Object.assign({},this.props,{folderId:this.getFolderId(),fileId:this.getFileId(),viewAction:this.getViewAction(),query:this.state.query,getUrl:this.getUrl,onBrowse:this.handleBrowse});return delete e.Component,e}},{key:"handleBrowse",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y.default.ACTIONS.EDIT_FILE;if(o&&-1===Object.values(y.default.ACTIONS).indexOf(o))throw new Error("Invalid action provided: "+o);this.state.fileId!==t&&this.props.actions.resetFormStack(),this.setState({folderId:e,fileId:t,query:n,action:o})}},{key:"render",value:function(){var e=this.getSectionProps(),t=this.props.Component;return c.default.createElement(t,e)}}]),t}(d.Component);E.propTypes={Component:f.default.oneOfType([f.default.element,f.default.func]),sectionConfig:f.default.shape({url:f.default.string.isRequired}).isRequired,fileId:f.default.number},t.AssetAdminStateRouter=E,t.default=a},"./client/src/containers/BulkDeleteConfirmation/BulkDeleteConfirmation.js":function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=n(0),a=r(l),u=n(5),d=n(4),c=n(1),p=r(c),f=n(11),h=n(3),m=n("./client/src/state/confirmDeletion/ConfirmDeletionActions.js"),g=o(m),y=n("./client/src/state/confirmDeletion/ConfirmDeletionTransitions.js"),_=o(y),v=n("./client/src/containers/BulkDeleteConfirmation/DeletionModal.js"),b=r(v),E=n("./client/src/containers/BulkDeleteConfirmation/BulkDeleteMessage.js"),S=r(E),j=n("./client/src/containers/BulkDeleteConfirmation/helpers.js"),C=n("./client/src/lib/fileShape.js"),w=r(C),O=n(2),I=r(O),F=function(e){var t=e.loading,n=e.LoadingComponent,o=e.transition,r=e.files,s=e.fileUsage,i=e.onModalClose,l=e.onCancel,u=e.onConfirm,d=null,c=[{label:I.default._t("AssetAdmin.DELETE","Delete"),handler:function(){return u(r.map(function(e){return e.id}))},color:"danger"},{label:I.default._t("AssetAdmin.CANCEL","Cancel"),handler:l}];if(t)d=a.default.createElement(n,null);else{var p=(0,j.getFolderInUseCounts)(r,s),f=(0,j.getFileInUseCounts)(r,s),h={foldersInUse:p,filesInUse:f,itemCount:r.length};d=a.default.createElement(S.default,h),(p.totalItems||f.totalItems)&&(c=[{label:I.default._t("AssetAdmin.CANCEL","Cancel"),handler:l,color:"primary"},{label:I.default._t("AssetAdmin.DELETE","Delete"),handler:function(){return u(r.map(function(e){return e.id}))},color:"danger"}])}var m=![_.CANCELING,_.DELETING].includes(o);return a.default.createElement(b.default,{body:d,isOpen:m,actions:c,onCancel:l,onClosed:i})};F.propTypes={loading:p.default.bool.isRequired,LoadingComponent:p.default.func,transition:p.default.oneOf(["canceling","deleting",!1]),files:p.default.arrayOf(w.default),fileUsage:p.default.object,onCancel:p.default.func.isRequired,onModalClose:p.default.func.isRequired,onConfirm:p.default.func.isRequired};var A=(0,u.compose)((0,h.inject)(["Loading"],function(e){return{LoadingComponent:e}}),(0,h.injectGraphql)("readFileUsageQuery"),f.withApollo)(F),x=function(e){var t=e.showConfirmation,n=e.files,o=s(e,["showConfirmation","files"]);return t&&n.length>0?a.default.createElement(A,i({},o,{files:n})):null},D=function(e){return e.assetAdmin.confirmDeletion},P={onCancel:g.cancel,onModalClose:g.modalClose};t.default=(0,u.compose)((0,d.connect)(D,P))(x),t.Component=F},"./client/src/containers/BulkDeleteConfirmation/BulkDeleteMessage.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=o(r),i=n(0),l=o(i),a=n(1),u=o(a),d=n("./client/src/containers/BulkDeleteConfirmation/helpers.js"),c=function(e,t,n){return t.totalItems&&e.totalItems||t.totalItems&&t.totalItems!==n||e.totalItems&&e.totalItems!==n?s.default.sprintf(s.default._t("AssetAdmin.BULK_ACTIONS_DELETE_MULTIPLE_ITEMS_IN_USE_CONFIRM","%s item(s) are currently in use in %s place(s). Are you sure you want to delete them?"),t.totalItems+e.totalItems,t.totalUsages+e.totalUsages):t.totalItems?1===t.totalItems&&1===n?s.default.sprintf(s.default._t("AssetAdmin.BULK_ACTIONS_DELETE_SINGLE_FILE_IN_USE_CONFIRM","This file is currently in use in %s place(s). Are you sure you want to delete it?"),t.totalUsages):s.default.sprintf(s.default._t("AssetAdmin.BULK_ACTIONS_DELETE_MULTIPLE_FILES_IN_USE_CONFIRM","%s of these files are currently used in %s place(s). Are you sure you want to delete them?"),t.totalItems,t.totalUsages):e.totalItems?1===e.totalItems&&1===n?s.default.sprintf(s.default._t("AssetAdmin.BULK_ACTIONS_DELETE_SINGLE_FOLDER_IN_USE_CONFIRM","This folder contains file(s) that are currently used in %s place(s). Are you sure you want to delete it?"),e.totalUsages):s.default.sprintf(s.default._t("AssetAdmin.BULK_ACTIONS_DELETE_MULTIPLE_FOLDERS_IN_USE_CONFIRM","%s of these folders contain file(s) that are currently used in %s place(s). Are you sure you want to delete them?"),e.totalItems,e.totalUsages):1===n?s.default._t("AssetAdmin.BULK_ACTIONS_DELETE_SINGLE_ITEM_CONFIRM","Are you sure you want to delete this file/folder?"):s.default._t("AssetAdmin.BULK_ACTIONS_DELETE_MULTIPLE_ITEMS_CONFIRM","Are you sure you want to delete these files/folders?")},p=function(e){var t=e.foldersInUse,n=e.filesInUse,o=e.itemCount;return l.default.createElement(i.Fragment,null,l.default.createElement("p",null,c(t,n,o)),(t.totalItems>0||n.totalItems>0)&&l.default.createElement("p",null,s.default._t("AssetAdmin.BULK_ACTIONS_DELETE_WARNING","Ensure files are removed from content areas prior to deleting them, otherwise they will appear as broken links.")))};p.propTypes={foldersInUse:d.fileUsageShape,filesInUse:d.fileUsageShape,itemCount:u.default.number},p.defaultProps={foldersInUse:{totalItems:0,totalUsages:0},filesInUse:{totalItems:0,totalUsages:0},itemCount:0},t.default=p},"./client/src/containers/BulkDeleteConfirmation/DeletionModal.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=o(r),i=n(0),l=o(i),a=n(1),u=o(a),d=n(20),c=function(e){var t=e.isOpen,n=e.body,o=e.onCancel,r=e.actions;return l.default.createElement(d.Modal,{isOpen:t,toggle:o},l.default.createElement(d.ModalHeader,{toggle:o},s.default._t("AssetAdmin.CONFIRM_FILE_DELETION","Confirm file deletion")),l.default.createElement(d.ModalBody,null,n),l.default.createElement(d.ModalFooter,null,r.map(function(e){var t=e.label,n=e.handler,o=e.color;return l.default.createElement(d.Button,{key:t,color:o,onClick:n},t)})))};c.propTypes={isOpen:u.default.bool.isRequired,body:u.default.node.isRequired,onCancel:u.default.func.isRequired,actions:u.default.arrayOf(u.default.shape({label:u.default.string.isRequired,handler:u.default.func,color:u.default.string}))},t.default=c},"./client/src/containers/BulkDeleteConfirmation/helpers.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFileInUseCounts=t.getFolderInUseCounts=t.fileUsageShape=void 0;var o=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(e){return"folder"===e.type},i=function(e){return!s(e)},l=function(e){return function(t,n){var o=n.id;return e[o]>0?{totalItems:t.totalItems+1,totalUsages:t.totalUsages+e[o]}:t}},a={totalItems:0,totalUsages:0};t.fileUsageShape=r.default.shape({totalItems:r.default.number,totalUsages:r.default.number}),t.getFolderInUseCounts=function(e,t){return e.filter(s).reduce(l(t),a)},t.getFileInUseCounts=function(e,t){return e.filter(i).reduce(l(t),a)}},"./client/src/containers/Editor/Editor.js":function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e){return{actions:{unsavedForms:(0,y.bindActionCreators)(I,e),confirmDeletion:(0,y.bindActionCreators)(T,e),modal:(0,y.bindActionCreators)(R,e)}}}function c(e){var t=e.assetAdmin,n=t.gallery,o=t.modal;return{enableDropzone:n.enableDropzone,nextType:o.formSchema&&o.formSchema.nextType,showingSubForm:o.formSchemaStack&&o.formSchemaStack.length>1}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),h=n(2),m=r(h),g=n(4),y=n(5),_=n(0),v=r(_),b=n("./client/src/constants/index.js"),E=r(b),S=n(26),j=r(S),C=n(13),w=r(C),O=n(43),I=o(O),F=n("./client/src/lib/fileShape.js"),A=r(F),x=n(1),D=r(x),P=n(3),k=n("./client/src/state/confirmDeletion/ConfirmDeletionActions.js"),T=o(k),N=n("./client/src/state/modal/ModalActions.js"),R=o(N),M=n("./client/src/containers/Editor/EditorHeader.js"),L=r(M),U=n(9),B=r(U),G=n(27),H=r(G),q=n(23),z=r(q),W=function(e){function t(e){l(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getFormSchemaUrl=n.getFormSchemaUrl.bind(n),n.handleCancelKeyDown=n.handleCancelKeyDown.bind(n),n.handleClose=n.handleClose.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.handleAction=n.handleAction.bind(n),n.handleLoadingSuccess=n.handleLoadingSuccess.bind(n),n.handleLoadingError=n.handleLoadingError.bind(n),n.handleFetchingSchema=n.handleFetchingSchema.bind(n),n.closeModal=n.closeModal.bind(n),n.openModal=n.openModal.bind(n),n.createFn=n.createFn.bind(n),n.editorHeader=n.editorHeader.bind(n),n.state={openModal:!1,loadingForm:!1,loadingError:null},n}return u(t,e),f(t,[{key:"getFormSchemaUrl",value:function(){var e=this.props,t=e.schemaUrlQueries,n=e.schemaUrl,o=e.targetId,r=H.default.parse(n),s=t.reduce(function(e,t){var n=t.name,o=t.value;return p({},e,i({},n,o))},{});return H.default.format(p({},r,{pathname:r.path+"/"+o,search:z.default.stringify(s)}))}},{key:"handleAction",value:function(e){switch(e.currentTarget.name){case"action_addtocampaign":this.openModal(),e.preventDefault();break;case"action_replacefile":this.replaceFile(),e.preventDefault();break;case"action_downloadfile":this.downloadFile(),e.preventDefault();break;case"action_delete":this.props.actions.confirmDeletion.confirm([this.props.file]),e.preventDefault()}}},{key:"handleCancelKeyDown",value:function(e){e.keyCode!==E.default.SPACE_KEY_CODE&&e.keyCode!==E.default.RETURN_KEY_CODE||this.handleClose(e)}},{key:"handleSubmit",value:function(e,t,n){var o=this.props,r=o.showingSubForm,s=o.actions;return"function"==typeof this.props.onSubmit?this.props.onSubmit(e,t,n).finally(function(){r&&-1!==["action_save","action_publish"].indexOf(t)&&s.modal.popFormStackEntry()}):n()}},{key:"handleClose",value:function(e){var t=this.props,n=t.showingSubForm,o=t.onClose,r=t.actions;n?r.modal.popFormStackEntry():(o(),this.closeModal()),e&&e.preventDefault()}},{key:"openModal",value:function(){this.setState({openModal:!0})}},{key:"closeModal",value:function(){this.setState({openModal:!1})}},{key:"replaceFile",value:function(){var e=document.querySelector(".dz-input-PreviewImage");e&&e.click()}},{key:"downloadFile",value:function(){!function(e,t){var n=document.createElement("a");n.download=t,n.href=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}(this.props.file.url,this.props.file.name),document.getElementById("Form_fileEditForm_PopoverActions").focus()}},{key:"handleLoadingError",value:function(e){this.setState({loadingForm:!1,loadingError:e.errors[0]})}},{key:"handleLoadingSuccess",value:function(){this.setState({loadingForm:!1,loadingError:null})}},{key:"handleFetchingSchema",value:function(){this.setState({loadingForm:!0})}},{key:"editorHeader",value:function(e){var t=e.SchemaComponent,n=s(e,["SchemaComponent"]),o=this.props,r=o.dialog,i=o.nextType,l=o.showingSubForm,a=o.actions,u=o.file,d=this.getFormSchemaUrl(),c=M.buttonStates.SWITCH;r&&u&&"folder"!==u.type&&(c=l?M.buttonStates.ALWAYS_BACK:M.buttonStates.ONLY_BACK);var p=n.formid,f=i&&u&&"folder"!==u.type?function(){a.modal.stashFormValues(p,d),a.modal.pushFormStackEntry(i)}:void 0,h={onCancel:this.handleClose,showButton:c,onDetails:f};return v.default.createElement(L.default,h,v.default.createElement(t,n))}},{key:"createFn",value:function(e,t){if("AssetEditorHeaderFieldGroup"===t.name){var n=this.editorHeader,o=p({key:t.id,SchemaComponent:e},t);return v.default.createElement(n,o)}return v.default.createElement(e,p({key:t.id},t))}},{key:"render",value:function(){var e=this.getFormSchemaUrl(),t=this.props.addToCampaignSchemaUrl+"/"+this.props.targetId,n=(0,B.default)("panel","form--no-dividers","editor",{"editor--asset-dropzone--disable":!this.props.enableDropzone},this.props.className),o=null;if(this.state.loadingError){var r=this.state.loadingError.value;404===this.state.loadingError.code&&(r=m.default._t("AssetAdmin.FILE_MISSING","File cannot be found")),r||(r=m.default._t("Admin.UNKNOWN_ERROR","An unknown error has occurred")),o=v.default.createElement("div",{className:"editor__file-preview-message--file-missing"},r)}var s=m.default._t("Admin.ADD_TO_CAMPAIGN","Add to campaign"),i=this.props.loadingComponent,l=this.props.file;return v.default.createElement("div",{className:n},v.default.createElement("div",{className:"editor__details fill-height"},v.default.createElement(j.default,{identifier:"AssetAdmin.EditForm",schemaUrl:e,onSubmit:this.handleSubmit,onAction:this.handleAction,onLoadingSuccess:this.handleLoadingSuccess,onLoadingError:this.handleLoadingError,onFetchingSchema:this.handleFetchingSchema,createFn:this.createFn,file:l}),o,v.default.createElement(w.default,{title:s,identifier:"AssetAdmin.AddToCampaign",isOpen:this.state.openModal,onClosed:this.closeModal,schemaUrl:t,bodyClassName:"modal__dialog",responseClassBad:"modal__response modal__response--error",responseClassGood:"modal__response modal__response--good"}),this.state.loadingForm&&v.default.createElement(i,null)))}}]),t}(_.Component);W.propTypes={file:A.default,className:D.default.string,targetId:D.default.number.isRequired,enableDropzone:D.default.bool,dialog:D.default.bool,onClose:D.default.func.isRequired,onSubmit:D.default.func.isRequired,schemaUrl:D.default.string.isRequired,schemaUrlQueries:D.default.arrayOf(D.default.shape({name:D.default.string,value:D.default.any})),addToCampaignSchemaUrl:D.default.string,actions:D.default.object,showingSubForm:D.default.bool,nextType:D.default.string},t.Component=W,t.default=(0,y.compose)((0,P.inject)(["Loading"],function(e){return{loadingComponent:e}},function(){return"AssetAdmin.Editor"}),(0,g.connect)(c,d))(W)},"./client/src/containers/Editor/EditorHeader.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.buttonStates=void 0;var r=n(0),s=o(r),i=n(2),l=o(i),a=n(33),u=o(a),d=n(31),c=o(d),p=n(1),f=o(p),h=n(9),m=o(h),g=function(e){return function(t){t.preventDefault(),e&&e()}},y=t.buttonStates={ALWAYS_BACK:"ALWAYS_BACK",ALWAYS_CANCEL:"ALWAYS_CANCEL",SWITCH:"SWITCH",ONLY_BACK:"ONLY_BACK",ONLY_CANCEL:"ONLY_CANCEL",NONE:"NONE"},_=function(e){var t=e.onCancel,n=e.onDetails,o=e.showButton,r=e.children,i=g(t),a=["ALWAYS_BACK","SWITCH","ONLY_BACK"].indexOf(o)>=0,d=["ALWAYS_CANCEL","SWITCH","ONLY_CANCEL"].indexOf(o)>=0,p=(0,m.default)("editor-header__back-button","btn--icon-xl",{"editor-header__back-button--md-below":["SWITCH","ONLY_BACK"].indexOf(o)>=0}),f=(0,m.default)("editor-header__cancel-button","btn--icon-xl",{"editor-header__cancel-button--lg-above":["SWITCH","ONLY_CANCEL"].indexOf(o)>=0});return s.default.createElement("div",{className:"editor-header"},a&&s.default.createElement(c.default,{className:p,onClick:i}),s.default.createElement("div",{className:"editor-header__field"},r),n&&s.default.createElement(u.default,{onClick:g(n),icon:"edit-list",className:"editor-header__edit",outline:!0},l.default._t("AssetAdmin.DETAILS","Details")),d&&s.default.createElement("div",null,s.default.createElement(u.default,{icon:"cancel",className:f,noText:!0,onClick:i},l.default._t("AssetAdmin.CANCEL"))))};_.propTypes={onCancel:f.default.func,onDetails:f.default.func,showButton:f.default.oneOf(Object.keys(y).map(function(e){return y[e]})),children:f.default.node},t.default=_},"./client/src/containers/Gallery/Gallery.js":function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n=t.sort,o=e.assetAdmin.gallery,r=o.selectedFiles,s=o.errorMessage,i=o.noticeMessage,l=o.enableDropzone,a=o.badges,u=o.concatenateSelect,d=o.loading,c=o.sorters,p=o.lastSelected;return!n&&c&&c[0]&&(n=c[0].field+","+c[0].direction),{lastSelected:p,selectedFiles:r,errorMessage:s,noticeMessage:i,enableDropzone:l,badges:a,concatenateSelect:u,loading:t.loading||d,queuedFiles:e.assetAdmin.queuedFiles,securityId:e.config.SecurityID,sorters:c,sort:n}}function u(e){return{actions:{gallery:(0,S.bindActionCreators)(R,e),toasts:(0,S.bindActionCreators)(L,e),queuedFiles:(0,S.bindActionCreators)(B,e),confirmDeletion:(0,S.bindActionCreators)(H,e)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.galleryViewDefaultProps=t.galleryViewPropTypes=t.Component=void 0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){var n=[],o=!0,r=!1,s=void 0;try{for(var i,l=e[Symbol.iterator]();!(o=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,s=e}finally{try{!o&&l.return&&l.return()}finally{if(r)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(7),h=r(f),m=n(2),g=r(m),y=n(0),_=r(y),v=n(6),b=r(v),E=n(4),S=n(5),j=n("./client/src/components/AssetDropzone/AssetDropzone.js"),C=r(j),w=n("./client/src/components/BulkActions/BulkActions.js"),O=r(w),I=n("./client/src/containers/ThumbnailView/ThumbnailView.js"),F=r(I),A=n("./client/src/containers/TableView/TableView.js"),x=r(A),D=n("./client/src/constants/index.js"),P=r(D),k=n(36),T=r(k),N=n("./client/src/state/gallery/GalleryActions.js"),R=o(N),M=n(22),L=o(M),U=n("./client/src/state/queuedFiles/QueuedFilesActions.js"),B=o(U),G=n("./client/src/state/confirmDeletion/ConfirmDeletionActions.js"),H=o(G),q=n("./client/src/state/files/moveFilesMutation.js"),z=r(q),W=n(11),V=n("./node_modules/react-selectable/dist/react-selectable.js"),K=n("./client/src/containers/Gallery/GalleryDND.js"),Q=r(K),Y=n("./client/src/lib/configShape.js"),$=r(Y),X=n("./client/src/lib/getStatusCodeMessage.js"),Z=r(X),J=n("./client/src/containers/MoveModal/MoveModal.js"),ee=r(J),te=n(3),ne=n(1),oe=r(ne),re={DELETE:"delete",EDIT:"edit",MOVE:"move",PUBLISH:"publish",UNPUBLISH:"unpublish",INSERT:"insert",ADMIN:"admin",SELECT:"select"},se=function(e){function t(e){s(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleOpenFolder=n.handleOpenFolder.bind(n),n.handleOpenFile=n.handleOpenFile.bind(n),n.handleSelect=n.handleSelect.bind(n),n.handleAddedFile=n.handleAddedFile.bind(n),n.handlePreviewLoaded=n.handlePreviewLoaded.bind(n),n.handleCancelUpload=n.handleCancelUpload.bind(n),n.handleRemoveErroredUpload=n.handleRemoveErroredUpload.bind(n),n.handleUploadProgress=n.handleUploadProgress.bind(n),n.handleSending=n.handleSending.bind(n),n.handleSort=n.handleSort.bind(n),n.handleSetPage=n.handleSetPage.bind(n),n.handleSuccessfulUpload=n.handleSuccessfulUpload.bind(n),n.handleQueueComplete=n.handleQueueComplete.bind(n),n.handleFailedUpload=n.handleFailedUpload.bind(n),n.handleClearSearch=n.handleClearSearch.bind(n),n.handleEnableDropzone=n.handleEnableDropzone.bind(n),n.handleMoveFiles=n.handleMoveFiles.bind(n),n.handleBulkEdit=n.handleBulkEdit.bind(n),n.handleBulkPublish=n.handleBulkPublish.bind(n),n.handleBulkUnpublish=n.handleBulkUnpublish.bind(n),n.handleBulkMove=n.handleBulkMove.bind(n),n.handleBulkInsert=n.handleBulkInsert.bind(n),n.handleBeginSelection=n.handleBeginSelection.bind(n),n.handleGroupSelect=n.handleGroupSelect.bind(n),n.handleClearSelection=n.handleClearSelection.bind(n),n.toggleSelectConcat=n.toggleSelectConcat.bind(n),n.getSelectableFiles=n.getSelectableFiles.bind(n),n}return l(t,e),p(t,[{key:"componentDidMount",value:function(){this.initSortDropdown(),window.addEventListener("keydown",this.toggleSelectConcat),window.addEventListener("keyup",this.toggleSelectConcat)}},{key:"componentWillReceiveProps",value:function(e){"tile"!==e.view&&this.getSortElement().off("change"),this.props.folderId!==e.folderId&&e.actions.queuedFiles.purgeUploadQueue()}},{key:"componentDidUpdate",value:function(){this.initSortDropdown()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.toggleSelectConcat),window.removeEventListener("keyup",this.toggleSelectConcat)}},{key:"getSortElement",value:function(){return(0,h.default)(b.default.findDOMNode(this)).find(".gallery__sort .dropdown")}},{key:"getSearchMessage",value:function(e){var t=[];e.name&&t.push(g.default._t("AssetAdmin.SEARCHRESULTSMESSAGEKEYWORDS","with keywords '{name}'")),e.lastEditedFrom&&e.lastEditedTo?t.push(g.default._t("AssetAdmin.SEARCHRESULTSMESSAGEEDITEDBETWEEN","last edited between '{lastEditedFrom}' and '{lastEditedTo}'")):e.lastEditedFrom?t.push(g.default._t("AssetAdmin.SEARCHRESULTSMESSAGEEDITEDFROM","last edited after '{lastEditedFrom}'")):e.lastEditedTo&&t.push(g.default._t("AssetAdmin.SEARCHRESULTSMESSAGEEDITEDTO","last edited before '{lastEditedTo}'")),e.appCategory&&t.push(g.default._t("AssetAdmin.SEARCHRESULTSMESSAGECATEGORY","categorised as '{appCategory}'")),e.currentFolderOnly&&this.props.folder.title&&t.push(g.default._t("AssetAdmin.SEARCHRESULTSMESSAGELIMIT","limited to the folder '{folder}'"));var n=[t.slice(0,-1).join(g.default._t("AssetAdmin.JOIN",",")+" "),t.slice(-1)].filter(function(e){return e}).join(" "+g.default._t("AssetAdmin.JOINLAST","and")+" ");if(""===n)return"";var o={parts:g.default.inject(n,Object.assign({folder:this.props.folder.title},e,{appCategory:e.appCategory?e.appCategory.toLowerCase():void 0}))};return g.default.inject(g.default._t("AssetAdmin.SEARCHRESULTSMESSAGE","Search results {parts}"),o)}},{key:"getSelection",value:function(e,t){var n=this.getSelectableFiles(),o=[e,t].map(function(e){return n.findIndex(function(t){return t.id===e})}).filter(function(e){return-1!==e}).sort(function(e,t){return e-t});if(2!==o.length)return o.map(function(e){return n[e].id});var r=c(o,2),s=r[0],i=r[1];return n.filter(function(e,t){return t>=s&&t<=i}).map(function(e){return e.id})}},{key:"getSelectableFiles",value:function(){var e=this.props.files.filter(function(e){return e.id});return this.props.type===re.SELECT?e.filter(function(e){return"folder"!==e.type}):e}},{key:"handleBulkInsert",value:function(e,t){this.props.onInsertMany(e,t)}},{key:"handleBulkPublish",value:function(e,t){var n=this,o=t.map(function(e){return e.id});return o.length?(this.props.actions.gallery.setLoading(!0),this.props.onPublish(o).then(function(e){n.props.actions.gallery.setLoading(!1),n.props.actions.toasts.success(g.default.sprintf(g.default._t("AssetAdmin.BULK_ACTIONS_PUBLISH_SUCCESS","%s folders/files were successfully published."),e.length)),n.props.actions.gallery.deselectFiles()})):(this.props.actions.gallery.deselectFiles(),Promise.resolve(!0))}},{key:"handleBulkUnpublish",value:function(e,t){var n=this,o=t.filter(function(e){return e.published}).map(function(e){return e.id});return o.length?(this.props.actions.gallery.setLoading(!0),this.props.onUnpublish(o).then(function(e){n.props.actions.gallery.setLoading(!1),n.props.actions.toasts.success(g.default.sprintf(g.default._t("AssetAdmin.BULK_ACTIONS_UNPUBLISH_SUCCESS","%s folders/files were successfully unpublished."),e.length)),n.props.actions.gallery.deselectFiles()})):(this.props.actions.gallery.deselectFiles(),Promise.resolve(!0))}},{key:"initSortDropdown",value:function(){if("tile"===this.props.view){var e=this.getSortElement();e.chosen({allow_single_deselect:!0,disable_search_threshold:20}),e.off("change"),e.on("change",function(){return e.find(":selected")[0].click()})}}},{key:"handleSort",value:function(e){this.props.actions.queuedFiles.purgeUploadQueue(),this.props.onSort(e)}},{key:"handleSetPage",value:function(e){this.props.onSetPage(e)}},{key:"handleCancelUpload",value:function(e){e.xhr.abort(),this.props.actions.queuedFiles.removeQueuedFile(e.queuedId)}},{key:"handleRemoveErroredUpload",value:function(e){this.props.actions.queuedFiles.removeQueuedFile(e.queuedId)}},{key:"handleAddedFile",value:function(e){this.props.actions.queuedFiles.addQueuedFile(e)}},{key:"handlePreviewLoaded",value:function(e,t){this.props.actions.queuedFiles.updateQueuedFile(e.queuedId,t)}},{key:"handleSending",value:function(e,t){this.props.actions.queuedFiles.updateQueuedFile(e._queuedId,{xhr:t})}},{key:"handleUploadProgress",value:function(e,t){this.props.actions.queuedFiles.updateQueuedFile(e._queuedId,{progress:t})}},{key:"handleSuccessfulUpload",value:function(e){var t=JSON.parse(e.xhr.response);if(void 0!==t[0].error)return void this.handleFailedUpload(e);this.props.actions.queuedFiles.succeedUpload(e._queuedId,t[0]),this.props.onSuccessfulUpload&&this.props.onSuccessfulUpload(t);var n=this.props.queuedFiles.items.reduce(function(e,t){return 100!==t.progress?e+1:e},0);if(!this.props.fileId&&!this.props.selectedFiles.length&&0===n){var o=t.pop();this.props.onOpenFile(o.id)}}},{key:"handleQueueComplete",value:function(){this.props.onSuccessfulUploadQueue&&this.props.onSuccessfulUploadQueue()}},{key:"handleFailedUpload",value:function(e,t){var n=e.xhr&&e.xhr.status?(0,Z.default)(e.xhr.status):"";this.props.actions.queuedFiles.failUpload(e._queuedId,t,n)}},{key:"itemIsSelected",value:function(e){return this.props.selectedFiles.indexOf(e)>-1}},{key:"toggleSelectConcat",value:function(e){this.props.actions.gallery.setConcatenateSelect(this.isConcat(e))}},{key:"isConcat",value:function(e){return e.metaKey||e.ctrlKey||e.shiftKey}},{key:"itemIsHighlighted",value:function(e){return this.props.fileId===e}},{key:"hasOpenedItem",value:function(){return!!this.props.fileId}},{key:"handleClearSearch",value:function(e){this.props.onClearSearch(e)}},{key:"handleGroupSelect",value:function(e,t){var n=this,o=this.props.actions.gallery,r=o.setSelectedFiles,s=o.selectFiles,i=this.getSelectableFiles(),l=e.filter(function(t,n){return e.indexOf(t)===n&&i.find(function(e){return e.id===t})}),a=this.props.concatenateSelect||this.isConcat(t);if(null!==this.props.maxFilesSelect){var u=l.length;if(a&&(u=this.props.selectedFiles.filter(function(e){return!n.props.selectedFiles.includes(e)}).concat(this.props.selectedFiles).length),u>=this.props.maxFilesSelect)return}a?s(l):r(l)}},{key:"handleClearSelection",value:function(){this.props.actions.gallery.deselectFiles()}},{key:"handleBeginSelection",value:function(e){for(var t=e.target;t;){if(t.classList.contains("griddle-footer"))return!1;if(t.classList.contains("gallery__main--selectable"))break;t=t.parentNode}return!0}},{key:"handleOpenFolder",value:function(e,t){e.preventDefault(),this.props.onOpenFolder(t.id)}},{key:"handleOpenFile",value:function(e,t){e.preventDefault(),null!==t.created&&(this.props.selectedFiles.length&&1!==this.props.maxFilesSelect||this.props.type!==re.SELECT||this.handleSelect(e,t),this.props.onOpenFile(t.id,t))}},{key:"handleSelect",value:function(e,t){var n=this.props.maxFilesSelect,o=this.getSelectableFiles(),r=o.filter(function(e){return e.id===t.id}).map(function(e){return e.id});if(1===n)return void this.props.actions.gallery.setSelectedFiles(r);if(-1===this.props.selectedFiles.indexOf(t.id)){if(e.shiftKey&&(r=this.getSelection(this.props.lastSelected,t.id)),this.props.selectedFiles.filter(function(e){return!r.includes(e)}).concat(r).length>n&&null!==n)return;this.props.actions.gallery.selectFiles(r),this.props.actions.gallery.setLastSelected(t.id)}else this.props.actions.gallery.deselectFiles([t.id]),e.shiftKey&&this.props.actions.gallery.setLastSelected(null)}},{key:"handleEnableDropzone",value:function(e){this.props.actions.gallery.setEnableDropzone(e)}},{key:"handleMoveFiles",value:function(e,t){var n=this;this.props.actions.files.moveFiles(e,t).then(function(){var o=P.default.MOVE_SUCCESS_DURATION,r="+"+t.length;n.props.actions.gallery.setFileBadge(e,r,"success",o),"function"==typeof n.props.onMoveFilesSuccess&&n.props.onMoveFilesSuccess(e,t)}).catch(function(){n.props.actions.toasts.error(g.default._t("AssetAdmin.FAILED_MOVE","There was an error moving the selected items."))})}},{key:"handleBulkEdit",value:function(e,t){this.handleOpenFile(e,t[0])}},{key:"handleBulkMove",value:function(){this.props.actions.gallery.activateModal(P.default.MODAL_MOVE)}},{key:"renderTransitionBulkActions",value:function(){return this.renderBulkActions()}},{key:"renderBulkActions",value:function(){var e=this,t=this.props,n=t.type,o=t.dialog,r=t.maxFilesSelect,s=t.files,i=t.selectedFiles,l=n===re.SELECT||o?function(e){return e.value===re.INSERT}:function(e){return e.value!==re.INSERT},a=P.default.BULK_ACTIONS.filter(l).map(function(t){if(t.callback)return t;switch(t.value){case re.DELETE:return d({},t,{callback:function(t,n){e.props.actions.confirmDeletion.confirm(n)},confirm:void 0});case re.EDIT:return d({},t,{callback:e.handleBulkEdit});case re.MOVE:return d({},t,{callback:e.handleBulkMove});case re.PUBLISH:return d({},t,{callback:e.handleBulkPublish});case re.UNPUBLISH:return d({},t,{callback:e.handleBulkUnpublish});case re.INSERT:return d({},t,{callback:e.handleBulkInsert,color:"primary"});default:return t}}),u=i.map(function(e){return s.find(function(t){return t&&e===t.id})}).filter(function(e){return e});return u.length>0&&[re.ADMIN,re.SELECT].includes(n)?_.default.createElement(O.default,{actions:a,items:u,total:r,key:u.length>0,container:this.gallery,showCount:1!==r}):null}},{key:"renderGalleryView",value:function(){var e=this,t="table"===this.props.view?x.default:F.default,n=this.props.files.map(function(t){var n=e.itemIsSelected(t.id),o=e.itemIsHighlighted(t.id),r=(t.queuedId?"queueId"+t.queuedId:"id"+t.id)+(n?"--selected":"");return d({},t,{selected:n,highlighted:o,key:r})}),o=this.props,r=o.type,s=o.loading,i=o.dialog,l=o.page,a=o.totalCount,u=o.limit,c=o.sort,p=o.selectedFiles,f=o.badges,h=o.maxFilesSelect,m=o.sectionConfig,g=r===re.SELECT||r===re.ADMIN&&(!h||h>1),y={selectableItems:g,selectableFolders:r!==re.SELECT&&!i,files:n,loading:s,page:l,totalCount:a,limit:u,sort:c,selectedFiles:p,badges:f,onSort:this.handleSort,onSetPage:this.handleSetPage,onOpenFile:this.handleOpenFile,onOpenFolder:this.handleOpenFolder,onSelect:this.handleSelect,onCancelUpload:this.handleCancelUpload,onDropFiles:this.handleMoveFiles,onRemoveErroredUpload:this.handleRemoveErroredUpload,onEnableDropzone:this.handleEnableDropzone,sectionConfig:m,canDrag:r===re.ADMIN,maxFilesSelect:h};return _.default.createElement(t,y)}},{key:"renderToolbar",value:function(){var e=this.props,t=e.GalleryToolbar,n=e.sort,o=e.view,r=e.folder,s=e.onCreateFolder,i=e.onOpenFolder,l=e.onViewChange,a={onMoveFiles:this.handleMoveFiles,onSort:this.handleSort,onCreateFolder:s,onOpenFolder:i,onViewChange:l,view:o,sort:n,folder:r};return _.default.createElement(t,a)}},{key:"render",value:function(){var e=this,t=this.props,n=t.folder,o=t.loading,r=t.errorMessage,s=t.graphQLErrors,i=t.noticeMessage,l=this.props.LoadingComponent,a=s&&s.length>0;if(!n)return r||a?_.default.createElement("div",{className:"gallery__error flexbox-area-grow"},_.default.createElement("div",{className:"gallery__error-message"},_.default.createElement("h3",null,g.default._t("AssetAdmin.DROPZONE_RESPONSE_ERROR","Server responded with an error.")),r&&_.default.createElement("p",null,r),a&&s.map(function(e,t){return _.default.createElement("p",{key:t},e)}))):o?_.default.createElement("div",{className:"flexbox-area-grow"},_.default.createElement(l,null)):_.default.createElement("div",{className:"flexbox-area-grow"},_.default.createElement("div",{className:"editor__file-preview-message--file-missing m-t-3"},g.default._t("Admin.UNKNOWN_ERROR","An unknown error has occurred")));var u=_.default.createElement("div",{className:"gallery_messages"},r&&_.default.createElement(T.default,{value:r,type:"danger"}),i&&_.default.createElement(T.default,{value:i,type:"success"})),c={height:P.default.THUMBNAIL_HEIGHT,width:P.default.THUMBNAIL_WIDTH},p=d({url:this.props.createFileApiUrl,method:this.props.createFileApiMethod,paramName:"Upload",clickable:"#upload-button"},this.props.sectionConfig.dropzoneOptions),f=this.props.securityId,h=this.props.folder.canEdit&&this.props.enableDropzone,m=["panel","panel--padded","panel--scrollable","gallery__main","fill-height"];this.props.type===re.INSERT&&m.push("insert-media-modal__main");var y=m;return this.hasOpenedItem()&&y.push("gallery__main--has-opened-item"),_.default.createElement("div",{className:"flexbox-area-grow gallery__outer",ref:function(t){e.gallery=t}},this.renderTransitionBulkActions(),_.default.createElement(Q.default,{className:m.join(" ")},this.renderToolbar(),_.default.createElement(V.SelectableGroup,{enabled:"tile"===this.props.view&&this.props.type===re.ADMIN,className:"flexbox-area-grow fill-height gallery__main--selectable",onSelection:this.handleGroupSelect,onNonItemClick:this.handleClearSelection,onBeginSelection:this.handleBeginSelection,preventDefault:!1,fixedPosition:!0},_.default.createElement(C.default,{name:"gallery-container",className:"flexbox-area-grow",canUpload:h,onAddedFile:this.handleAddedFile,onPreviewLoaded:this.handlePreviewLoaded,onError:this.handleFailedUpload,onSuccess:this.handleSuccessfulUpload,onQueueComplete:this.handleQueueComplete,onSending:this.handleSending,onUploadProgress:this.handleUploadProgress,preview:c,folderId:this.props.folderId,options:p,securityID:f,uploadButton:!1},u,this.renderGalleryView()))),this.props.loading&&_.default.createElement(l,null),_.default.createElement(ee.default,{sectionConfig:this.props.sectionConfig,folderId:this.props.folderId,onSuccess:this.props.onMoveFilesSuccess,onOpenFolder:this.props.onOpenFolder}))}}]),t}(y.Component),ie={page:1,limit:15},le={sectionConfig:$.default,loading:oe.default.bool,sort:oe.default.string,files:oe.default.arrayOf(oe.default.shape({id:oe.default.number,parent:oe.default.shape({id:oe.default.number})})).isRequired,selectedFiles:oe.default.arrayOf(oe.default.number),totalCount:oe.default.number,page:oe.default.number,limit:oe.default.number,badges:oe.default.arrayOf(oe.default.shape({id:oe.default.number,message:oe.default.node,status:oe.default.string})),onOpenFile:oe.default.func.isRequired,onOpenFolder:oe.default.func.isRequired,onSort:oe.default.func.isRequired,onSetPage:oe.default.func.isRequired,maxFilesSelect:oe.default.number},ae=Object.assign({},ie,{selectableItems:!1}),ue=Object.assign({},le,{selectableItems:oe.default.bool,selectableFolders:oe.default.bool,onSelect:oe.default.func,onCancelUpload:oe.default.func,onRemoveErroredUpload:oe.default.func,onEnableDropzone:oe.default.func});se.defaultProps=Object.assign({},ie,{type:re.ADMIN,view:"tile",enableDropzone:!0,dialog:!1}),se.propTypes=Object.assign({},le,{onSuccessfulUpload:oe.default.func,onSuccessfulUploadQueue:oe.default.func,onCreateFolder:oe.default.func,onMoveFilesSuccess:oe.default.func,onPublish:oe.default.func,onUnpublish:oe.default.func,type:oe.default.oneOf(["insert-media","insert-link",re.SELECT,re.ADMIN]),view:oe.default.oneOf(["tile","table"]),lastSelected:oe.default.number,dialog:oe.default.bool,fileId:oe.default.number,folderId:oe.default.number.isRequired,folder:oe.default.shape({id:oe.default.number,title:oe.default.string,parentId:oe.default.number,canView:oe.default.bool,canEdit:oe.default.bool}),files:oe.default.array,errorMessage:oe.default.string,graphQLErrors:oe.default.arrayOf(oe.default.string),actions:oe.default.object,securityId:oe.default.string,onViewChange:oe.default.func.isRequired,createFileApiUrl:oe.default.string,createFileApiMethod:oe.default.string,search:oe.default.object,enableDropzone:oe.default.bool,concatenateSelect:oe.default.bool,GalleryToolbar:oe.default.func,sorters:oe.default.arrayOf(oe.default.shape({field:oe.default.string.isRequired,direction:oe.default.oneOf(["asc","desc"]).isRequired,label:oe.default.string.isRequired})).isRequired}),t.Component=se,t.galleryViewPropTypes=ue,t.galleryViewDefaultProps=ae,t.default=(0,S.compose)((0,te.inject)(["GalleryToolbar","Loading"],function(e,t){return{GalleryToolbar:e,LoadingComponent:t}},function(){return"AssetAdmin.Gallery"}),(0,E.connect)(a,u),z.default,function(e){return(0,W.withApollo)(e)})(se)},"./client/src/containers/Gallery/GalleryDND.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),u=o(a),d=n(9),c=o(d),p=n("./client/src/components/GalleryItem/GalleryItemDragLayer.js"),f=o(p),h=n(1),m=o(h),g=n(46),y=o(g),_=function(e){function t(e){r(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={dragging:!1},n.mounted=!1,n.handleDrop=n.handleDrop.bind(n),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("drop",this.handleDrop,!0)}},{key:"componentWillUpdate",value:function(){var e=this;setTimeout(function(){if(e.mounted&&e.context.dragDropManager){var t=e.context.dragDropManager,n=t.monitor.isDragging();e.state.dragging!==n&&e.setState({dragging:n})}})}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("drop",this.handleDrop,!0)}},{key:"handleDrop",value:function(){var e=this.context.dragDropManager,t=e&&e.backend;t&&t.isDraggingNativeItem()&&t.endDragNativeItem()}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.children;return u.default.createElement("div",{className:(0,c.default)(t,{"gallery__main--dragging":this.state.dragging})},n,u.default.createElement(f.default,null))}}]),t}(a.Component);_.contextTypes={dragDropManager:m.default.object},_.propTypes={className:m.default.string,children:m.default.oneOfType([m.default.arrayOf(m.default.node),m.default.node])},t.default=(0,y.default)(_)},"./client/src/containers/HistoryList/HistoryItem.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),u=o(a),d=n(1),c=o(d),p=function(e){function t(e){r(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return i(t,e),l(t,[{key:"handleClick",value:function(e){e.preventDefault(),"function"==typeof this.props.onClick&&this.props.onClick(this.props.versionid)}},{key:"render",value:function(){var e=null;return"Published"===this.props.status&&(e=u.default.createElement("p",null,u.default.createElement("span",{className:"history-item__status-flag"},this.props.status)," at ",this.props.date_formatted)),u.default.createElement("li",{className:"list-group-item history-item",onClick:this.handleClick},u.default.createElement("p",null,u.default.createElement("span",{className:"history-item__version"},"v.",this.props.versionid),u.default.createElement("span",{className:"history-item__date"},this.props.date_ago," ",this.props.author),this.props.summary),e)}}]),t}(a.Component);p.propTypes={versionid:c.default.number.isRequired,summary:c.default.oneOfType([c.default.bool,c.default.string]).isRequired,status:c.default.string,author:c.default.string,date_formatted:c.default.string,date_ago:c.default.string,onClick:c.default.func},t.default=p},"./client/src/containers/HistoryList/HistoryList.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.config.sections.find(function(e){return e.name===j});return{sectionConfig:t,historySchemaUrl:t.form.fileHistoryForm.schemaUrl}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(0),c=o(d),p=n(4),f=n(24),h=o(f),m=n(25),g=o(m),y=n("./client/src/containers/HistoryList/HistoryItem.js"),_=o(y),v=n(26),b=o(v),E=n(1),S=o(E),j="SilverStripe\\AssetAdmin\\Controller\\AssetAdmin",C=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return h.default.createEndpointFetcher(Object.assign({},e,t?{defaultData:{SecurityID:g.default.get("SecurityID")}}:{}))},w=function(e){function t(e){r(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={detailView:null,history:[],loadedDetails:!1},n.handleClick=n.handleClick.bind(n),n.handleBack=n.handleBack.bind(n),n.timer=null,n.api=C(e.sectionConfig.historyEndpoint),n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){this.refreshHistoryIfNeeded()}},{key:"componentWillReceiveProps",value:function(e){this.refreshHistoryIfNeeded(e)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer),this.timer=null}},{key:"refreshHistoryIfNeeded",value:function(e){var t=this;if(!e&&!this.state.loadedDetails||e.data.fileId!==this.props.data.fileId||e.data.latestVersionId!==this.props.data.latestVersionId){this.setState({loadedDetails:!1});var n=e?e.data.fileId:this.props.data.fileId;clearTimeout(this.timer),this.timer=setTimeout(function(){t.api({fileId:n}).then(function(e){t.timer&&t.setState({history:e,loadedDetails:!0})})},250)}}},{key:"handleClick",value:function(e){this.setState({viewDetails:e})}},{key:"handleBack",value:function(e){e.preventDefault(),this.setState({viewDetails:null})}},{key:"render",value:function(){var e=this;if(!this.state.loadedDetails)return c.default.createElement("div",{className:"history-list history-list--loading"},"Loading...");if(this.state.viewDetails){var t=[this.props.historySchemaUrl,this.props.data.fileId,this.state.viewDetails].join("/"),n=["btn","btn-secondary","btn--icon-xl","btn--no-text","font-icon-left-open-big","history-list__back"].join(" ");return c.default.createElement("div",{className:"history-list"},c.default.createElement("a",{href:"#",className:n,onClick:this.handleBack}),c.default.createElement(b.default,{identifier:"AssetAdmin.HistoryList",schemaUrl:t,formTag:"div"}))}var o=this.state.history||[];return c.default.createElement("div",{className:"history-list"},c.default.createElement("ul",{className:"list-group list-group-flush history-list__list"},o.map(function(t){return c.default.createElement(_.default,a({key:t.versionid},t,{onClick:e.handleClick}))})))}}]),t}(d.Component);w.propTypes={sectionConfig:S.default.shape({form:S.default.object,historyEndpoint:S.default.shape({url:S.default.string,method:S.default.string,responseFormat:S.default.string})}),historySchemaUrl:S.default.string,data:S.default.object},w.defaultProps={data:{fieldId:0}},t.Component=w,t.default=(0,p.connect)(l)(w)},"./client/src/containers/MoveModal/MoveModal.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.assetAdmin.gallery,n=t.modal,o=t.selectedFiles;return{isOpen:n===y.default.MODAL_MOVE,selectedFiles:o,title:m.default.sprintf(m.default._t("AssetAdmin.MOVE_ITEMS_TO","Move %s item(s) to..."),o.length)}}function a(e){return{onClosed:function(){e((0,b.deactivateModal)())},setNotice:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e((0,E.display)({text:t,type:"success",actions:n}))},setError:function(t){e((0,E.display)({text:t,type:"error"}))},setBadge:function(){e(b.setFileBadge.apply(void 0,arguments))}}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(0),c=o(d),p=n(4),f=n(5),h=n(2),m=o(h),g=n("./client/src/constants/index.js"),y=o(g),_=n(1),v=o(_),b=n("./client/src/state/gallery/GalleryActions.js"),E=n(22),S=n(13),j=o(S),C=n("./client/src/lib/configShape.js"),w=o(C),O=n("./client/src/state/files/moveFilesMutation.js"),I=o(O),F=function(e){function t(e){r(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSubmit=n.handleSubmit.bind(n),n.timeout=null,n}return i(t,e),u(t,[{key:"handleSubmit",value:function(e){var t=this,n=e.FolderID,o=this.props.actions.files.moveFiles,r=this.props,s=r.selectedFiles,i=r.onSuccess,l=r.onClosed,a=r.setNotice,u=r.setError,d=r.setBadge;return o(n||0,s).then(function(e){var o=e.data.moveFiles,r=o.id,u=o.filename;"function"==typeof i&&i(n,s),d(r,""+s.length,"success",y.default.MOVE_SUCCESS_DURATION),a(m.default.sprintf(m.default._t("AssetAdmin.MOVED_ITEMS_TO","Moved %s item(s) to %s"),s.length,u),[{label:m.default._t("AssetAdmin.GO_TO_FOLDER","Go to folder"),onClick:function(){return t.props.onOpenFolder(r)}}]),l()}).catch(function(){u(m.default._t("AssetAdmin.FAILED_MOVE","There was an error moving the selected items."))})}},{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.onClosed,o=e.title,r=e.folderId,s=e.sectionConfig,i=s.form.moveForm.schemaUrl;return c.default.createElement(j.default,{title:o,isOpen:t,onClosed:n,onSubmit:this.handleSubmit,identifier:"AssetAdmin.MoveForm",schemaUrl:i+"/"+r})}}]),t}(c.default.Component);F.propTypes={sectionConfig:w.default,folderId:v.default.number.isRequired,isOpen:v.default.bool,onClosed:v.default.func,setNotice:v.default.func,setBadge:v.default.func,setError:v.default.func,title:v.default.string,onSuccess:v.default.func,onOpenFolder:v.default.func.isRequired,selectedFiles:v.default.array.isRequired,actions:v.default.shape({files:v.default.shape({moveFiles:v.default.func})}).isRequired},F.defaultProps={isOpen:!1},t.default=(0,f.compose)((0,p.connect)(l,a),I.default)(F)},"./client/src/containers/TableView/TableView.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(){function e(e,t){var n=[],o=!0,r=!1,s=void 0;try{for(var i,l=e[Symbol.iterator]();!(o=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,s=e}finally{try{!o&&l.return&&l.return()}finally{if(r)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(0),p=o(c),f=n(1),h=o(f),m=n("./node_modules/griddle-react/modules/griddle.jsx.js"),g=o(m),y=n(2),_=o(y),v=n(17),b=o(v),E=n("./client/src/containers/Gallery/Gallery.js"),S=n(14),j=n(3),C=n(5),w=function(e){function t(e){s(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getColumns=n.getColumns.bind(n),n.handleSort=n.handleSort.bind(n),n.handleSetPage=n.handleSetPage.bind(n),n.handleRowClick=n.handleRowClick.bind(n),n.renderSelect=n.renderSelect.bind(n),n.renderTitle=n.renderTitle.bind(n),n.renderStatus=n.renderStatus.bind(n),n.renderNoItemsNotice=n.renderNoItemsNotice.bind(n),n}return l(t,e),d(t,[{key:"getColumns",value:function(){var e=["thumbnail","title","status","size","lastEdited"];return this.props.selectableItems&&e.unshift("selected"),e}},{key:"getColumnConfig",value:function(){return[{columnName:"selected",sortable:!1,displayName:"",cssClassName:"gallery__table-column--select",customComponent:this.renderSelect},{columnName:"thumbnail",sortable:!1,displayName:"",cssClassName:"gallery__table-column--image",customComponent:this.renderThumbnail},{columnName:"title",customCompareFn:function(){return 0},displayName:_.default._t("File.TITLE","Title"),cssClassName:"gallery__table-column--title",customComponent:this.renderTitle},{columnName:"status",sortable:!1,cssClassName:"sort--disabled",customComponent:this.renderStatus,displayName:_.default._t("File.STATUS","Status")},{columnName:"lastEdited",displayName:_.default._t("File.MODIFIED","Modified"),customComponent:this.renderDate},{columnName:"size",sortable:!1,displayName:_.default._t("File.SIZE","Size"),cssClassName:"sort--disabled",customComponent:this.renderSize}]}},{key:"getRowMetadata",value:function(e){return"gallery__table-row "+(e.highlighted?"gallery__table-row--highlighted":"")}},{key:"getTableProps",value:function(){var e=this.props.sort.split(","),t=u(e,2),n=t[0],o=t[1];return{tableClassName:"gallery__table table table-hover",gridClassName:"gallery__main-view--table",rowMetadata:{bodyCssClassName:this.getRowMetadata,key:"key"},sortAscendingComponent:"",sortDescendingComponent:"",useExternal:!0,externalSetPage:this.handleSetPage,externalChangeSort:this.handleSort,externalSetFilter:function(){return null},externalSetPageSize:function(){return null},externalCurrentPage:this.props.page-1,externalMaxPage:Math.ceil(this.props.totalCount/this.props.limit),externalSortColumn:n,externalSortAscending:"asc"===o,initialSort:n,columns:this.getColumns(),columnMetadata:this.getColumnConfig(),useGriddleStyles:!1,onRowClick:this.handleRowClick,results:this.props.files,customNoDataComponent:this.renderNoItemsNotice}}},{key:"handleActivate",value:function(e,t){"folder"===t.type?this.props.onOpenFolder(e,t):this.props.onOpenFile(e,t)}},{key:"handleRowClick",value:function(e,t){var n=e.props.data;if(t.currentTarget.classList.contains("gallery__table-column--select")&&(t.stopPropagation(),t.preventDefault(),"function"==typeof this.props.onSelect))return void this.props.onSelect(t,n);this.handleActivate(t,n)}},{key:"handleSort",value:function(e,t){var n=t?"asc":"desc";this.props.onSort(e+","+n)}},{key:"handleSetPage",value:function(e){this.props.onSetPage(e+1)}},{key:"preventFocus",value:function(e){e.preventDefault()}},{key:"renderNoItemsNotice",value:function(){return 0!==this.props.files.length||this.props.loading?null:p.default.createElement("p",{className:"gallery__no-item-notice"},_.default._t("AssetAdmin.NOITEMSFOUND"))}},{key:"renderSize",value:function(e){if("folder"===e.rowData.type)return null;var t=(0,S.fileSize)(e.data);return p.default.createElement("span",null,t)}},{key:"renderStatus",value:function(e){var t=[],n=e.rowData,o=this.props.VersionedBadge;return"folder"!==n.type&&(n.draft?t.push({key:"status-draft",status:"draft"}):n.modified&&t.push({key:"status-modified",status:"modified"})),t=t.map(function(e){var t=r(e,[]);return p.default.createElement(o,t)}),t?p.default.createElement("span",null,t):null}},{key:"renderProgressBar",value:function(e){if(!e.queuedId||e.message&&"error"===e.message.type)return null;if(e.id>0)return p.default.createElement("div",{className:"gallery__progress-bar--complete"});var t={className:"gallery__progress-bar-progress",style:{width:e.progress+"%"}};return p.default.createElement("div",{className:"gallery__progress-bar"},p.default.createElement("div",t))}},{key:"renderRestrictedAccess",value:function(e){var t=e.hasRestrictedAccess,n={fileID:e.id,placement:"top",hasRestrictedAccess:t};return p.default.createElement(b.default,n)}},{key:"renderTrackedFormUpload",value:function(e){var t=e.isTrackedFormUpload,n=e.hasRestrictedAccess,o={fileID:e.id,placement:"top",isTrackedFormUpload:t,hasRestrictedAccess:n};return p.default.createElement(b.default,o)}},{key:"renderTitle",value:function(e){var t=this.renderProgressBar(e.rowData);return p.default.createElement("div",{className:"fill-width"},p.default.createElement("div",{className:"flexbox-area-grow"},e.data,e.rowData.hasRestrictedAccess&&this.renderRestrictedAccess(e.rowData),e.rowData.isTrackedFormUpload&&this.renderTrackedFormUpload(e.rowData)),t)}},{key:"renderSelect",value:function(e){if(this.props.selectableItems&&(this.props.selectableFolders||"folder"!==e.rowData.type)){var t={type:"checkbox",title:_.default._t("AssetAdmin.SELECT"),defaultChecked:e.data,tabIndex:-1,onMouseDown:this.preventFocus};return![null,1].includes(this.props.maxFilesSelect)&&this.props.selectedFiles.length>=this.props.maxFilesSelect&&!e.data&&(t.disabled=!0),p.default.createElement("input",t)}return null}},{key:"renderDate",value:function(e){return"folder"===e.rowData.type?null:(moment.locale(_.default.detectLocale()),p.default.createElement("span",null,moment(e.data).format("L LT")))}},{key:"renderThumbnail",value:function(e){var t=e.data||e.rowData.url,n=e.rowData.queuedId&&!e.rowData.id,o=e.rowData.category||"false",r="gallery__table-image",s=[r],i={};return s.push(r+"--"+o),"image"===o&&t&&(i.backgroundImage='url("'+t+'")'),n||t||"folder"===o||s.push(r+"--error"),p.default.createElement("div",{className:s.join(" "),style:i})}},{key:"render",value:function(){return p.default.createElement(g.default,this.getTableProps())}}]),t}(c.Component);w.defaultProps=E.galleryViewDefaultProps,w.propTypes=a({},E.galleryViewPropTypes,{sort:h.default.string.isRequired,VersionedBadge:h.default.oneOfType([h.default.node,h.default.func])}),t.Component=w,t.default=(0,C.compose)((0,j.inject)(["VersionedBadge"],function(e){return{VersionedBadge:e}}))(w)},"./client/src/containers/ThumbnailView/ThumbnailView.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(2),d=o(u),c=n(0),p=o(c),f=n(3),h=n("./client/src/containers/Gallery/Gallery.js"),m=n("./node_modules/griddle-react/modules/griddle.jsx.js"),g=o(m),y=n(1),_=o(y),v=function(e){function t(e){r(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderItem=n.renderItem.bind(n),n.handleSetPage=n.handleSetPage.bind(n),n.handlePrevPage=n.handlePrevPage.bind(n),n.handleNextPage=n.handleNextPage.bind(n),n.handleDrag=n.handleDrag.bind(n),n}return i(t,e),a(t,[{key:"handleDrag",value:function(e){this.props.onEnableDropzone(!e)}},{key:"handleSetPage",value:function(e){this.props.onSetPage(e+1)}},{key:"handleNextPage",value:function(){var e=this.props.page-1;this.handleSetPage(e+1)}},{key:"handlePrevPage",value:function(){var e=this.props.page-1;if(0===e)return void this.handleSetPage(e);this.handleSetPage(e-1)}},{key:"folderFilter",value:function(e){return"folder"===e.type}},{key:"fileFilter",value:function(e){return"folder"!==e.type}},{key:"renderPagination",value:function(){if(this.props.totalCount<=this.props.limit)return null;var e={setPage:this.handleSetPage,maxPage:Math.ceil(this.props.totalCount/this.props.limit),next:this.handleNextPage,nextText:d.default._t("AssetAdmin.NEXT","Next"),previous:this.handlePrevPage,previousText:d.default._t("AssetAdmin.PREVIOUS","Previous"),currentPage:this.props.page-1,useGriddleStyles:!1};return p.default.createElement("div",{className:"griddle-footer"},p.default.createElement(g.default.GridPagination,e))}},{key:"renderItem",value:function(e){var t=this.props,n=t.File,o=t.Folder,r=t.badges,s=t.sectionConfig,i=t.selectedFiles,a=t.selectableItems,u=t.selectableFolders,d=r.find(function(t){return t.id===e.id}),c={sectionConfig:s,key:e.key,selectableKey:e.id,item:e,selectedFiles:i,onDrag:this.handleDrag,badge:d,canDrag:this.props.canDrag};if(e.queuedId&&!e.id){var f=this.props,h=f.onCancelUpload,m=f.onRemoveErroredUpload;c=l({},c,{onCancelUpload:h,onRemoveErroredUpload:m})}else{var g=this.props,y=g.onOpenFolder,_=g.onOpenFile;c=l({},c,{onActivate:"folder"===e.type?y:_})}if(a&&(u||"folder"!==e.type)){var v=![null,1].includes(this.props.maxFilesSelect)&&this.props.selectedFiles.length>=this.props.maxFilesSelect,b=1===this.props.maxFilesSelect?c.onActivate:this.props.onSelect;c=l({},c,{selectable:!0,onSelect:b,maxSelected:v})}if("folder"===e.type){var E=this.props.onDropFiles;return c=l({},c,{onDropFiles:E}),p.default.createElement(o,c)}return p.default.createElement(n,c)}},{key:"render",value:function(){return p.default.createElement("div",{className:"gallery__main-view--tile"},p.default.createElement("div",{className:"gallery__folders"},this.props.files.filter(this.folderFilter).map(this.renderItem)),p.default.createElement("div",{className:"gallery__files"},this.props.files.filter(this.fileFilter).map(this.renderItem)),0===this.props.files.length&&!this.props.loading&&p.default.createElement("p",{className:"gallery__no-item-notice"},d.default._t("AssetAdmin.NOITEMSFOUND")),p.default.createElement("div",{className:"gallery__load"},this.renderPagination()))}}]),t}(c.Component);v.defaultProps=h.galleryViewDefaultProps,v.propTypes=l({},h.galleryViewPropTypes,{File:_.default.oneOfType([_.default.node,_.default.func]).isRequired,Folder:_.default.oneOfType([_.default.node,_.default.func]).isRequired});var b=(0,f.inject)(["GalleryItemFile","GalleryItemFolder"],function(e,t){return{File:e,Folder:t}},function(){return"AssetAdmin.Gallery.ThumbnailView"});t.Component=v,t.default=b(v)},"./client/src/entwine/UploadField/UploadFieldEntwine.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=n(7),i=o(s),l=n(0),a=o(l),u=n(6),d=o(u),c=n(45),p=n(3);i.default.entwine("ss",function(e){e(".js-injector-boot input.entwine-uploadfield").entwine({Component:null,getContainer:function(){var t=this.siblings(".uploadfield-holder")[0];if(!t){var n=e('<div class="uploadfield-holder"></div>');this.before(n),t=n[0]}return t},onunmatch:function(){this._super(),d.default.unmountComponentAtNode(this.siblings(".uploadfield-holder")[0])},onmatch:function(){var e=this.closest(".cms-content").attr("id"),t=e?{context:e}:{},n=(0,p.loadComponent)("UploadField",t);this.setComponent(n),this._super(),this.hide(),this.refresh()},onclick:function(e){e.preventDefault()},refresh:function(){var t=this.getAttributes(),n=e(this).closest("form"),o=function(){setTimeout(function(){n.trigger("change")},0)},s=this.getComponent();d.default.render(a.default.createElement(s,r({},t,{onChange:o,noHolder:!0})),this.getContainer())},getAttributes:function(){var t=e(this).data("state"),n=e(this).data("schema");return(0,c.schemaMerge)(n,t)}})})},"./client/src/lib/configShape.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(o),s=r.default.shape({url:r.default.string,limit:r.default.number,imageRetry:r.default.shape({minRetry:r.default.number,maxRetry:r.default.number,expiry:r.default.number}),form:r.default.object,dropzoneOptions:r.default.object});t.default=s},"./client/src/lib/fileFragments.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fileInterface="\n  fragment FileInterfaceFields on FileInterface {\n    canDelete\n    canEdit\n    canView\n    category\n    exists\n    filename\n    id\n    lastEdited\n    name\n    parentId\n    title\n    type\n    url\n    visibility\n    hasRestrictedAccess\n  }\n",t.file="\n  fragment FileFields on File {\n    draft\n    extension\n    published\n    modified\n    size\n    smallThumbnail\n    thumbnail\n    version\n    isTrackedFormUpload\n  }\n"},"./client/src/lib/fileShape.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(o),s=r.default.shape({canEdit:r.default.bool,canDelete:r.default.bool,canView:r.default.bool,exists:r.default.bool,type:r.default.string,smallThumbnail:r.default.string,thumbnail:r.default.string,width:r.default.number,height:r.default.number,category:r.default.oneOfType([r.default.bool,r.default.string]),id:r.default.number,url:r.default.string,title:r.default.string,progress:r.default.number,visibility:r.default.string,hasRestrictedAccess:r.default.bool,isTrackedFormUpload:r.default.bool});t.default=s},"./client/src/lib/fileStructure.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),r=function(e){return e&&e.__esModule?e:{default:e}}(o),s=(0,r.default)({name:null,canDelete:!1,canEdit:!1,category:null,created:null,extension:null,filename:null,id:0,lastEdited:null,messages:null,owner:{id:0,title:null},parent:{filename:null,id:0,title:null},queuedId:null,size:null,title:null,type:null,url:null,xhr:null,thumbnail:null,smallThumbnail:null,height:null,width:null});t.default=s},"./client/src/lib/getFormSchema.js":function(e,t,n){"use strict";function o(e){var t=e.config.form,n=e.viewAction,o=e.folderId,r=e.fileId,s=e.type,i=null,u=null;if(n===l)return i=t.folderCreateForm.schemaUrl,u=o,{schemaUrl:i,targetId:u};if(n===a&&r){switch(s){case"insert-media":i=t.fileInsertForm.schemaUrl;break;case"insert-link":i=t.fileEditorLinkForm.schemaUrl;break;case"select":i=t.fileSelectForm.schemaUrl;break;case"admin":default:i=t.fileEditForm.schemaUrl}return u=r,{schemaUrl:i,targetId:u}}return{}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n("./client/src/constants/index.js"),s=function(e){return e&&e.__esModule?e:{default:e}}(r),i=s.default.ACTIONS,l=i.CREATE_FOLDER,a=i.EDIT_FILE},"./client/src/lib/getStatusCodeMessage.js":function(e,t,n){"use strict";function o(e){return 413===e?s.default._t("AssetAdmin.ERROR_FILE_SIZE","File size limit exceeded"):s.default._t("AssetAdmin.ERROR_DEFAULT","Something went wrong, please try again")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(2),s=function(e){return e&&e.__esModule?e:{default:e}}(r)},"./client/src/state/confirmDeletion/ConfirmDeletionActionTypes.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={CONFIRM_DELETION_ASK:"CONFIRM_DELETION_ASK",CONFIRM_DELETION_CONFIRM:"CONFIRM_DELETION_CONFIRM",CONFIRM_DELETION_CANCEL:"CONFIRM_DELETION_CANCEL",CONFIRM_DELETION_RESET:"CONFIRM_DELETION_RESET",CONFIRM_DELETION_MODAL_CLOSE:"CONFIRM_DELETION_MODAL_CLOSE"}},"./client/src/state/confirmDeletion/ConfirmDeletionActions.js":function(e,t,n){"use strict";function o(e){return{type:u.default.CONFIRM_DELETION_ASK,payload:{files:e}}}function r(){return{type:u.default.CONFIRM_DELETION_CONFIRM,payload:{}}}function s(){return{type:u.default.CONFIRM_DELETION_CANCEL,payload:{}}}function i(){return{type:u.default.CONFIRM_DELETION_RESET,payload:{}}}function l(){return{type:u.default.CONFIRM_DELETION_MODAL_CLOSE,payload:{}}}Object.defineProperty(t,"__esModule",{value:!0}),t.confirm=o,t.deleting=r,t.cancel=s,t.reset=i,t.modalClose=l;var a=n("./client/src/state/confirmDeletion/ConfirmDeletionActionTypes.js"),u=function(e){return e&&e.__esModule?e:{default:e}}(a)},"./client/src/state/confirmDeletion/ConfirmDeletionReducer.js":function(e,t,n){"use strict";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case i.default.CONFIRM_DELETION_ASK:return r({},u,{showConfirmation:!0,files:t.payload.files});case i.default.CONFIRM_DELETION_CANCEL:if(e.showConfirmation)return r({},e,{transition:a.CANCELING});break;case i.default.CONFIRM_DELETION_CONFIRM:if(e.showConfirmation)return r({},e,{transition:a.DELETING});break;case i.default.CONFIRM_DELETION_MODAL_CLOSE:return r({},e,{showConfirmation:!1,transition:a.NO_TRANSITION});case i.default.CONFIRM_DELETION_RESET:return u}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=n("./client/src/state/confirmDeletion/ConfirmDeletionActionTypes.js"),i=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n("./client/src/state/confirmDeletion/ConfirmDeletionTransitions.js"),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),u=t.initialState={showConfirmation:!1,files:[],transition:a.NO_TRANSITION};t.default=o},"./client/src/state/confirmDeletion/ConfirmDeletionTransitions.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NO_TRANSITION=!1,t.CANCELING="canceling",t.DELETING="deleting"},"./client/src/state/displaySearch/DisplaySearchActionTypes.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={TOGGLE_SEARCH:"TOGGLE_SEARCH",OPEN_SEARCH:"OPEN_SEARCH",CLOSE_SEARCH:"CLOSE_SEARCH"}},"./client/src/state/displaySearch/DisplaySearchActions.js":function(e,t,n){"use strict";function o(){return{type:l.default.TOGGLE_SEARCH,payload:null}}function r(){return{type:l.default.OPEN_SEARCH,payload:null}}function s(){return{type:l.default.CLOSE_SEARCH,payload:null}}Object.defineProperty(t,"__esModule",{value:!0}),t.toggleSearch=o,t.openSearch=r,t.closeSearch=s;var i=n("./client/src/state/displaySearch/DisplaySearchActionTypes.js"),l=function(e){return e&&e.__esModule?e:{default:e}}(i)},"./client/src/state/displaySearch/DisplaySearchReducer.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;switch(arguments[1].type){case u.default.TOGGLE_SEARCH:return(0,l.default)(s({},e,{isOpen:!e.isOpen}));case u.default.OPEN_SEARCH:return(0,l.default)(s({},e,{isOpen:!0}));case u.default.CLOSE_SEARCH:return(0,l.default)(s({},e,{isOpen:!1}));default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=n(15),l=o(i),a=n("./client/src/state/displaySearch/DisplaySearchActionTypes.js"),u=o(a),d={isOpen:!1};t.default=r},"./client/src/state/files/buildPublicationMutation.js":function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  mutation ","($IDs:[ID]!, $Force:Boolean, $Quiet:Boolean) {\n    ","(IDs: $IDs, Force: $Force, Quiet: $Quiet) {\n      ...on File {\n        __typename\n        ...FileInterfaceFields\n        ...FileFields\n      }\n      ...on PublicationNotice {\n        __typename\n        Type\n        Message\n        IDs\n      }\n    }\n  }\n  ","\n  ","\n"],["\n  mutation ","($IDs:[ID]!, $Force:Boolean, $Quiet:Boolean) {\n    ","(IDs: $IDs, Force: $Force, Quiet: $Quiet) {\n      ...on File {\n        __typename\n        ...FileInterfaceFields\n        ...FileFields\n      }\n      ...on PublicationNotice {\n        __typename\n        Type\n        Message\n        IDs\n      }\n    }\n  }\n  ","\n  ","\n"]),i=n(18),l=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n("./client/src/lib/fileFragments.js"),u=function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);return{mutation:(0,l.default)(s,t,e,a.fileInterface,a.file),config:{props:function(t){var n=t.mutate,s=t.ownProps.actions,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n({variables:{IDs:e,Quiet:o,Force:t}})};return{actions:r({},s,{files:r({},s.files,o({},e,i))})}}}}};t.default=u},"./client/src/state/files/deleteFilesMutation.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.mutation=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["mutation DeleteFiles($IDs:[ID]!) {\n  deleteFiles(IDs: $IDs)\n}"],["mutation DeleteFiles($IDs:[ID]!) {\n  deleteFiles(IDs: $IDs)\n}"]),i=n(11),l=n(18),a=o(l),u=n(3),d=o(u),c=(0,a.default)(s),p={props:function(e){var t=e.mutate,n=e.ownProps,o=n.actions,s=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t({variables:{IDs:e},update:function(t){var r=d.default.query.get("ReadFilesQuery"),s=r.getApolloConfig(),i=s.options(n).variables;null!==o&&(i.rootFilter.id=o,i.rootFilter.anyChildId=null);var l=r.getGraphqlAST(),a=t.readQuery({query:l,variables:i}),u=JSON.parse(JSON.stringify(a)),c=u.readFiles.edges[0].node.children.edges;c=c.filter(function(t){return!e.includes(t.node.id)}),u.readFiles.edges[0].node.children.edges=c,u.readFiles.edges[0].node.children.pageInfo.totalCount=c.length,t.writeQuery({query:l,data:u,variables:i})}})};return{actions:r({},o,{files:r({},o.files,{deleteFiles:s})})}}};t.mutation=c,t.config=p,t.default=(0,i.graphql)(c,p)},"./client/src/state/files/moveFilesMutation.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.mutation=void 0;var o=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  mutation MoveFiles($folderId:ID!, $fileIds:[ID]!) {\n    moveFiles(folderId: $folderId, fileIds: $fileIds) {\n      ...FileInterfaceFields\n      ...FileFields\n    }\n  }\n  ","\n  ","\n"],["\n  mutation MoveFiles($folderId:ID!, $fileIds:[ID]!) {\n    moveFiles(folderId: $folderId, fileIds: $fileIds) {\n      ...FileInterfaceFields\n      ...FileFields\n    }\n  }\n  ","\n  ","\n"]),r=n(11),s=n(18),i=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n("./client/src/lib/fileFragments.js"),a=(0,i.default)(o,l.fileInterface,l.file),u={props:function(e){var t=e.mutate,n=e.ownProps.actions,o=void 0===n?{}:n;return{actions:Object.assign({},o,{files:Object.assign({},o.files,{moveFiles:function(e,n){return t({variables:{folderId:e,fileIds:n},update:function(){window.ss.apolloClient.resetStore()}})}})})}}};t.mutation=a,t.config=u,t.default=(0,r.graphql)(a,u)},"./client/src/state/files/publishFilesMutation.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.mutation=void 0;var o=n(11),r=n("./client/src/state/files/buildPublicationMutation.js"),s=function(e){return e&&e.__esModule?e:{default:e}}(r),i=(0,s.default)("publishFiles"),l=i.mutation,a=i.config;t.mutation=l,t.config=a,t.default=(0,o.graphql)(l,a)},"./client/src/state/files/readFileUsageQuery.js":function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=n(3),i={options:function(e){return{variables:{ids:e.files.map(function(e){return e.id})}}},props:function(e){var t=e.data,n=t.error,s=t.readFileUsage,i=t.loading,l=n&&n.graphQLErrors&&n.graphQLErrors.map(function(e){return e.message});return{loading:i,fileUsage:s?s.reduce(function(e,t){var n=t.id,s=t.inUseCount;return r({},e,o({},n,s))},{}):{},graphQLErrors:l}}},l=s.graphqlTemplates.READ,a={apolloConfig:i,templateName:l,pluralName:"FileUsage",pagination:!1,params:{ids:"[ID]!"},args:{root:{IDs:"ids"}},fields:["id","inUseCount"]};t.default=a},"./client/src/state/files/readFilesQuery.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],o=!0,r=!1,s=void 0;try{for(var i,l=e[Symbol.iterator]();!(o=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,s=e}finally{try{!o&&l.return&&l.return()}finally{if(r)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n(21),s=n(3),i={options:function(e){var t=e.sectionConfig,n=e.folderId,s=e.fileId,i=e.query,l=Object.assign({},i.filter),a=Object.assign({},l,{parentId:void 0,recursive:(0,r.hasFilters)(l),currentFolderOnly:void 0}),u=(0,r.hasFilters)(l)?null:s||null,d=u?null:n||0,c={id:d,anyChildId:u},p=i.sort?i.sort.split(","):["",""],f=o(p,2),h=f[0],m=f[1],g=i.limit||t.limit;return{variables:{rootFilter:c,childrenFilter:a,limit:g,offset:((i.page||1)-1)*g,sortBy:h&&m?[{field:h,direction:m.toUpperCase()}]:void 0}}},props:function(e){var t=e.data,n=t.error,o=t.refetch,r=t.readFiles,s=t.loading,i=e.ownProps.actions,l=r&&r.edges[0]?r.edges[0].node:null,a=l&&l.children?l.children.edges.map(function(e){return e.node}).filter(function(e){return e}):[],u=l&&l.children?l.children.pageInfo.totalCount:0,d=l&&!l.children,c=n&&n.graphQLErrors&&n.graphQLErrors.map(function(e){return e.message});return{loading:s||d,folder:l,files:a,filesTotalCount:u,graphQLErrors:c,actions:Object.assign({},i,{files:Object.assign({},i.files,{readFiles:o})})}}},l=s.graphqlTemplates.READ,a={apolloConfig:i,templateName:l,pluralName:"Files",pagination:!1,params:{limit:"Int!",offset:"Int!",rootFilter:"FileFilterInput",childrenFilter:"FileFilterInput",sortBy:"[ChildrenSortInputType]"},args:{root:{filter:"rootFilter"},"root/edges/node/...on Folder/children":{limit:"limit",offset:"offset",filter:"childrenFilter",sortBy:"sortBy"}},fragments:["FileInterfaceFields","FileFields"],fields:["pageInfo",["totalCount"],"edges",["node",["...FileInterfaceFields","...FileFields","...on Folder",["children",["pageInfo",["totalCount"],"edges",["node",["...FileInterfaceFields","...FileFields"]]],"parents",["id","title"]]]]]};t.default=a},"./client/src/state/files/unpublishFilesMutation.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.mutation=void 0;var o=n(11),r=n("./client/src/state/files/buildPublicationMutation.js"),s=function(e){return e&&e.__esModule?e:{default:e}}(r),i=(0,s.default)("unpublishFiles"),l=i.mutation,a=i.config;t.mutation=l,t.config=a,t.default=(0,o.graphql)(l,a)},"./client/src/state/gallery/GalleryActionTypes.js":function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=["SET_LAST_SELECTED","SET_SELECTED_FILES","DESELECT_FILES","SELECT_FILES","LOAD_FILE_REQUEST","LOAD_FILE_SUCCESS","HIGHLIGHT_FILES","UPDATE_BATCH_ACTIONS","SET_NOTICE_MESSAGE","SET_ERROR_MESSAGE","SET_ENABLE_DROPZONE","SET_FILE_BADGE","CLEAR_FILE_BADGE","ACTIVATE_MODAL","DEACTIVATE_MODAL","CONCATENATE_SELECT","SET_LOADING"].reduce(function(e,t){return Object.assign(e,o({},t,"GALLERY."+t))},{})},"./client/src/state/gallery/GalleryActions.js":function(e,t,n){"use strict";function o(e){return function(t){t({type:_.default.SET_LAST_SELECTED,payload:{id:e}})}}function r(e){return function(t){t({type:_.default.SET_SELECTED_FILES,payload:{files:e}})}}function s(e,t){return function(n){n({type:_.default.LOAD_FILE_SUCCESS,payload:{id:e,file:t}})}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t({type:_.default.SELECT_FILES,payload:{ids:e}})}}function l(e){return function(t){return t({type:_.default.CONCATENATE_SELECT,payload:!!e})}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t({type:_.default.DESELECT_FILES,payload:{ids:e}})}}function u(e){return function(t){return t({type:_.default.SET_NOTICE_MESSAGE,payload:{message:e}})}}function d(e){return function(t){return t({type:_.default.SET_ERROR_MESSAGE,payload:{message:e}})}}function c(e){return function(t){return t({type:_.default.SET_ENABLE_DROPZONE,payload:{enableDropzone:e}})}}function p(e){return function(t){t({type:_.default.CLEAR_FILE_BADGE,payload:{id:e}})}}function f(e,t,n,o){return function(r,s){var i=s(),l=i.assetAdmin,a=l.gallery.badges.find(function(t){return t.id===e});a&&a.timer&&clearTimeout(a.timer);var u=o>0?setTimeout(function(){return p(e)(r)},o):null;r({type:_.default.SET_FILE_BADGE,payload:{id:e,message:t,status:n,timer:u}})}}function h(e){return function(t){t({type:_.default.ACTIVATE_MODAL,payload:e})}}function m(){return function(e){e({type:_.default.DEACTIVATE_MODAL})}}function g(e){return function(t){t({type:_.default.SET_LOADING,payload:!!e})}}Object.defineProperty(t,"__esModule",{value:!0}),t.setLastSelected=o,t.setSelectedFiles=r,t.loadFile=s,t.selectFiles=i,t.setConcatenateSelect=l,t.deselectFiles=a,t.setNoticeMessage=u,t.setErrorMessage=d,t.setEnableDropzone=c,t.clearFileBadge=p,t.setFileBadge=f,t.activateModal=h,t.deactivateModal=m,t.setLoading=g;var y=n("./client/src/state/gallery/GalleryActionTypes.js"),_=function(e){return e&&e.__esModule?e:{default:e}}(y)},"./client/src/state/gallery/GalleryReducer.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,o=t.payload;switch(n){case u.default.SET_LAST_SELECTED:return s({},e,{lastSelected:o.id});case u.default.SET_FILE_BADGE:return s({},e,{badges:e.badges.filter(function(e){return e.id!==o.id}).concat([o])});case u.default.CLEAR_FILE_BADGE:return s({},e,{badges:e.badges.filter(function(e){return e.id!==o.id})});case u.default.SET_ENABLE_DROPZONE:return s({},e,{enableDropzone:o.enableDropzone});case u.default.SET_NOTICE_MESSAGE:return s({},e,{noticeMessage:o.message});case u.default.SET_ERROR_MESSAGE:return s({},e,{errorMessage:o.message});case u.default.LOAD_FILE_SUCCESS:var r=e.files.find(function(e){return e.id===o.id});if(r){var i=s({},r,o.file);return(0,l.default)(s({},e,{files:e.files.map(function(e){return e.id===i.id?i:e})}))}return e.folder.id===o.id?(0,l.default)(s({},e,{folder:s({},e.folder,o.file)})):e;case u.default.SET_SELECTED_FILES:return(0,l.default)(s({},e,{selectedFiles:Array.isArray(o.files)?o.files:[]}));case u.default.SELECT_FILES:var a=null;return a=null===o.ids?e.files.map(function(e){return e.id}):e.selectedFiles.concat(o.ids.filter(function(t){return-1===e.selectedFiles.indexOf(t)})),(0,l.default)(s({},e,{selectedFiles:a}));case u.default.DESELECT_FILES:var d=null;return d=null===o.ids?[]:e.selectedFiles.filter(function(e){return-1===o.ids.indexOf(e)}),(0,l.default)(s({},e,{selectedFiles:d}));case u.default.ACTIVATE_MODAL:return(0,l.default)(s({},e,{modal:o}));case u.default.DEACTIVATE_MODAL:return(0,l.default)(s({},e,{modal:null}));case u.default.CONCATENATE_SELECT:return(0,l.default)(s({},e,{concatenateSelect:o}));case u.default.SET_LOADING:return(0,l.default)(s({},e,{loading:o}));default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=r;var i=n(15),l=o(i),a=n("./client/src/state/gallery/GalleryActionTypes.js"),u=o(a),d=n(2),c=o(d),p={selectedFiles:[],errorMessage:null,noticeMessage:null,enableDropzone:!0,modal:null,badges:[],concatenateSelect:!1,loading:!1,sorters:[{field:"title",direction:"asc",label:c.default._t("AssetAdmin.FILTER_TITLE_ASC","title a-z")},{field:"title",direction:"desc",label:c.default._t("AssetAdmin.FILTER_TITLE_DESC","title z-a")},{field:"lastEdited",direction:"desc",label:c.default._t("AssetAdmin.FILTER_DATE_DESC","newest")},{field:"lastEdited",direction:"asc",label:c.default._t("AssetAdmin.FILTER_DATE_ASC","oldest")}],lastSelected:null}},"./client/src/state/imageLoad/ImageLoadActionHandler.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultImageFactory=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n("./client/src/state/imageLoad/ImageLoadStatus.js"),a=o(l),u=n("./client/src/state/imageLoad/ImageLoadLocker.js"),d=o(u),c={minRetry:0,maxRetry:0,expiry:0,onStatusChange:function(){return null},onRetry:function(){return null},onReset:function(){return null},onTimeout:function(){return null}},p=function(e,t,n){var o=new Image;o.onload=t,o.onerror=n,o.src=e},f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;r(this,e),this.options=s({},c,t),this.factory=n}return i(e,[{key:"loadImage",value:function(e){return this.options.minRetry&&d.default.lock(e)?this.loadImageLoop(e,this.options.minRetry):null}},{key:"loadImageLoop",value:function(e,t){var n=this;return this.options.onStatusChange(e,a.default.LOADING),new Promise(function(t,o){return n.factory(e,t,o)}).then(function(){return n.handleSuccess(e)}).catch(function(){return n.handleError(e,t)})}},{key:"handleReset",value:function(e,t){this.options.onReset(e),t()}},{key:"handleTimeout",value:function(e,t){var n=setTimeout(e,t);return this.options.onTimeout(n,t),n}},{key:"handleSuccess",value:function(e){d.default.unlock(e),this.options.onStatusChange(e,a.default.SUCCESS)}},{key:"handleFailure",value:function(e){var t=this;return d.default.unlock(e),this.options.onStatusChange(e,a.default.FAILED),this.options.expiry?new Promise(function(n){t.handleTimeout(function(){return t.handleReset(e,n)},1e3*t.options.expiry)}):null}},{key:"handleError",value:function(e,t){return t>this.options.maxRetry?this.handleFailure(e):(this.options.onStatusChange(e,a.default.WAITING),this.handleRetry(e,t))}},{key:"handleRetry",value:function(e,t){var n=this,o=new Promise(function(o){n.handleTimeout(function(){return o(n.loadImageLoop(e,2*t))},1e3*t)});return this.options.onRetry(e,t,o),o}},{key:"setOnRetry",value:function(e){this.options.onRetry=e}},{key:"setOnReset",value:function(e){this.options.onReset=e}},{key:"setOnStatusChange",value:function(e){this.options.onStatusChange=e}},{key:"setOnTimeout",value:function(e){this.options.onTimeout=e}}]),e}();t.defaultImageFactory=p,t.default=f},"./client/src/state/imageLoad/ImageLoadActionTypes.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SET_STATUS:"IMAGE_LOAD_SET_STATUS",RESET:"IMAGE_LOAD_RESET"}},"./client/src/state/imageLoad/ImageLoadActions.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return function(n,o){if(!e)return null;if(o().assetAdmin.imageLoad.files.find(function(t){return t.url===e}))return null;var r=s({},t,{onStatusChange:function(e,t){return n({type:l.default.SET_STATUS,payload:{status:t,url:e}})},onReset:function(e){return n({type:l.default.RESET,payload:{url:e}})}});return new u.default(r).loadImage(e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.loadImage=r;var i=n("./client/src/state/imageLoad/ImageLoadActionTypes.js"),l=o(i),a=n("./client/src/state/imageLoad/ImageLoadActionHandler.js"),u=o(a)},"./client/src/state/imageLoad/ImageLoadLocker.js":function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(){r(this,e),this.urls=[]}return s(e,[{key:"lock",value:function(e){return!(this.urls.indexOf(e)>=0||(this.urls=[].concat(o(this.urls),[e]),0))}},{key:"unlock",value:function(e){this.urls=this.urls.filter(function(t){return t!==e})}}]),e}();window.ss=window.ss||{},window.ss.imagelocker=window.ss.imagelocker||new i,t.Component=i,t.default=window.ss.imagelocker},"./client/src/state/imageLoad/ImageLoadReducer.js":function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case l.default.SET_STATUS:return s({},e,{files:[].concat(o(e.files.filter(function(e){return e.url!==r.url})),[r])});case l.default.RESET:return s({},e,{files:[].concat(o(e.files.filter(function(e){return e.url!==r.url})))});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=r;var i=n("./client/src/state/imageLoad/ImageLoadActionTypes.js"),l=function(e){return e&&e.__esModule?e:{default:e}}(i),a={files:[]}},"./client/src/state/imageLoad/ImageLoadStatus.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={DISABLED:"DISABLED",NONE:"NONE",SUCCESS:"SUCCESS",LOADING:"LOADING",WAITING:"WAITING",FAILED:"FAILED"}},"./client/src/state/modal/ModalActionTypes.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={DEFINE_IMAGE_SIZE_PRESETS:"DEFINE_IMAGE_SIZE_PRESETS",INIT_FORM_SCHEMA_STACK:"INIT_FORM_SCHEMA_STACK",POP_FORM_SCHEMA:"POP_FORM_SCHEMA",PUSH_FORM_SCHEMA:"PUSH_FORM_SCHEMA",RESET:"RESET",RESET_FORM_STACK:"RESET_FORM_STACK"}},"./client/src/state/modal/ModalActions.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){return{type:p.default.DEFINE_IMAGE_SIZE_PRESETS,payload:{imageSizePresets:e}}}function s(e,t){return function(n,o){var r=o(),s=(0,h.default)(r.form.formState,e+".values"),i=(0,h.default)(r.form.formSchemas,t+".schema.fields");if(s){var l=Object.keys(s).filter(function(e){return null!==s[e]&&(0,y.default)(e,i)}).map(function(e){return{name:e,value:s[e]}});n((0,m.setSchemaStateOverrides)(t,{fields:l}))}}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return{type:p.default.PUSH_FORM_SCHEMA,payload:{formSchema:{type:e,nextType:t}}}}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return{type:p.default.INIT_FORM_SCHEMA_STACK,payload:{formSchema:{type:e,nextType:t}}}}function a(){return{type:p.default.POP_FORM_SCHEMA}}function u(){return{type:p.default.RESET}}function d(){return{type:p.default.RESET_FORM_STACK}}Object.defineProperty(t,"__esModule",{value:!0}),t.defineImageSizePresets=r,t.stashFormValues=s,t.pushFormStackEntry=i,t.initFormStack=l,t.popFormStackEntry=a,t.reset=u,t.resetFormStack=d;var c=n("./client/src/state/modal/ModalActionTypes.js"),p=o(c),f=n("./node_modules/redux-form/lib/structure/plain/getIn.js"),h=o(f),m=n(8),g=n("./client/src/state/modal/helpers.js"),y=o(g)},"./client/src/state/modal/ModalReducer.js":function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1],n=t.type,r=t.payload,i=e.formSchemaStack;switch(n){case l.default.DEFINE_IMAGE_SIZE_PRESETS:return s({},e,{imageSizePresets:r.imageSizePresets});case l.default.PUSH_FORM_SCHEMA:return s({},e,{formSchemaStack:[].concat(o(i),[r.formSchema])});case l.default.INIT_FORM_SCHEMA_STACK:return s({},e,{formSchemaStack:[r.formSchema]});case l.default.POP_FORM_SCHEMA:return s({},e,{formSchemaStack:i.slice(0,-1)});case l.default.RESET:return a;case l.default.RESET_FORM_STACK:return s({},e,{formSchemaStack:i.slice(0,1)});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=n("./client/src/state/modal/ModalActionTypes.js"),l=function(e){return e&&e.__esModule?e:{default:e}}(i),a=t.initialState={imageSizePresets:[],formSchemaStack:[],formSchema:void 0},u=function(e){return s({},e,{formSchema:e.formSchemaStack.slice(-1).pop()})};t.default=function(){return u(r.apply(void 0,arguments))}},"./client/src/state/modal/helpers.js":function(e,t,n){"use strict";function o(e,t){var n=void 0;for(n=0;n<t.length;n++){var r=t[n];if(r.name===e)return r;if(r.children){var s=o(e,r.children);if(s)return s}}return!1}function r(e,t){var n=o(e,t);return n&&"hidden"!==n.type&&"Structural"!==n.schemaType&&!n.readOnly&&!n.disabled}Object.defineProperty(t,"__esModule",{value:!0}),t.findField=o,t.default=r},"./client/src/state/previewField/PreviewFieldActionTypes.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={PREVIEWFIELD_ADD_FILE:"PREVIEWFIELD_ADD_FILE",PREVIEWFIELD_REMOVE_FILE:"PREVIEWFIELD_REMOVE_FILE",PREVIEWFIELD_UPDATE_FILE:"PREVIEWFIELD_UPDATE_FILE",PREVIEWFIELD_FAIL_UPLOAD:"PREVIEWFIELD_FAIL_UPLOAD"}},"./client/src/state/previewField/PreviewFieldActions.js":function(e,t,n){"use strict";function o(e){return{type:a.default.PREVIEWFIELD_REMOVE_FILE,payload:{id:e}}}function r(e,t){return{type:a.default.PREVIEWFIELD_ADD_FILE,payload:{id:e,file:t}}}function s(e,t){return{type:a.default.PREVIEWFIELD_FAIL_UPLOAD,payload:{id:e,message:t}}}function i(e,t){return{type:a.default.PREVIEWFIELD_UPDATE_FILE,payload:{id:e,data:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.removeFile=o,t.addFile=r,t.failUpload=s,t.updateFile=i;var l=n("./client/src/state/previewField/PreviewFieldActionTypes.js"),a=function(e){return e&&e.__esModule?e:{default:e}}(l)},"./client/src/state/previewField/PreviewFieldReducer.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1];switch(t.type){case u.default.PREVIEWFIELD_ADD_FILE:return(0,l.default)(Object.assign({},e,r({},t.payload.id,t.payload.file)));case u.default.PREVIEWFIELD_FAIL_UPLOAD:return(0,l.default)(Object.assign({},e,r({},t.payload.id,Object.assign({},e[t.payload.id],t.payload.message))));case u.default.PREVIEWFIELD_REMOVE_FILE:return(0,l.default)(Object.assign({},e,r({},t.payload.id,void 0)));case u.default.PREVIEWFIELD_UPDATE_FILE:return(0,l.default)(Object.assign({},e,r({},t.payload.id,Object.assign({},e[t.payload.id],t.payload.data))));default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),l=o(i),a=n("./client/src/state/previewField/PreviewFieldActionTypes.js"),u=o(a),d={};t.default=s},"./client/src/state/queuedFiles/QueuedFilesActionTypes.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ADD_QUEUED_FILE:"ADD_QUEUED_FILE",FAIL_UPLOAD:"FAIL_UPLOAD",PURGE_UPLOAD_QUEUE:"PURGE_UPLOAD_QUEUE",REMOVE_QUEUED_FILE:"REMOVE_QUEUED_FILE",SUCCEED_UPLOAD:"SUCCEED_UPLOAD",UPDATE_QUEUED_FILE:"UPDATE_QUEUED_FILE"}},"./client/src/state/queuedFiles/QueuedFilesActions.js":function(e,t,n){"use strict";function o(e){return function(t){return t({type:d.default.ADD_QUEUED_FILE,payload:{file:e}})}}function r(e,t,n){return function(o){var r=t.message;return t.errors&&t.errors.length&&(r=t.errors[0]),"string"==typeof t&&(r={value:n||t,type:"error"}),o({type:d.default.FAIL_UPLOAD,payload:{queuedId:e,message:r}})}}function s(){return function(e){return e({type:d.default.PURGE_UPLOAD_QUEUE,payload:null})}}function i(e){return function(t){return t({type:d.default.REMOVE_QUEUED_FILE,payload:{queuedId:e}})}}function l(e,t){return function(n){return n({type:d.default.SUCCEED_UPLOAD,payload:{queuedId:e,json:t}})}}function a(e,t){return function(n){return n({type:d.default.UPDATE_QUEUED_FILE,payload:{queuedId:e,updates:t}})}}Object.defineProperty(t,"__esModule",{value:!0}),t.addQueuedFile=o,t.failUpload=r,t.purgeUploadQueue=s,t.removeQueuedFile=i,t.succeedUpload=l,t.updateQueuedFile=a;var u=n("./client/src/state/queuedFiles/QueuedFilesActionTypes.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u)},"./client/src/state/queuedFiles/QueuedFilesReducer.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments[1];switch(t.type){case d.default.ADD_QUEUED_FILE:return(0,a.default)(i({},e,{items:[].concat(r(e.items),[i({},p.default,t.payload.file)])}));case d.default.FAIL_UPLOAD:return(0,a.default)(i({},e,{items:e.items.map(function(e){return e.queuedId===t.payload.queuedId?i({},e,{message:t.payload.message}):e})}));case d.default.PURGE_UPLOAD_QUEUE:return(0,a.default)(i({},e,{items:e.items.filter(function(e){return!e.id})}));case d.default.REMOVE_QUEUED_FILE:return(0,a.default)(i({},e,{items:e.items.filter(function(e){return e.queuedId!==t.payload.queuedId})}));case d.default.SUCCEED_UPLOAD:return(0,a.default)(i({},e,{items:e.items.map(function(e){return e.queuedId===t.payload.queuedId?i({},e,t.payload.json,{messages:[{value:h.default._t("AssetAdmin.DROPZONE_SUCCESS_UPLOAD"),type:"success",extraClass:"success"}]}):e})}));case d.default.UPDATE_QUEUED_FILE:return(0,a.default)(i({},e,{items:e.items.map(function(e){return e.queuedId===t.payload.queuedId?i({},e,t.payload.updates):e})}));default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=n(15),a=o(l),u=n("./client/src/state/queuedFiles/QueuedFilesActionTypes.js"),d=o(u),c=n("./client/src/lib/fileStructure.js"),p=o(c),f=n(2),h=o(f),m={items:[]};t.default=s},"./client/src/state/uploadField/UploadFieldActionTypes.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={UPLOADFIELD_ADD_FILE:"UPLOADFIELD_ADD_FILE",UPLOADFIELD_SET_FILES:"UPLOADFIELD_SET_FILES",UPLOADFIELD_REMOVE_FILE:"UPLOADFIELD_REMOVE_FILE",UPLOADFIELD_UPLOAD_FAILURE:"UPLOADFIELD_UPLOAD_FAILURE",UPLOADFIELD_UPLOAD_SUCCESS:"UPLOADFIELD_UPLOAD_SUCCESS",UPLOADFIELD_UPDATE_QUEUED_FILE:"UPLOADFIELD_UPDATE_QUEUED_FILE"}},"./client/src/state/uploadField/UploadFieldActions.js":function(e,t,n){"use strict";function o(e,t){return function(n){return n({type:d.default.UPLOADFIELD_ADD_FILE,payload:{fieldId:e,file:t}})}}function r(e,t){return function(n){return n({type:d.default.UPLOADFIELD_SET_FILES,payload:{fieldId:e,files:t}})}}function s(e,t,n,o){return function(r){var s=n.message;return"string"==typeof n&&(s={value:o||n,type:"error"}),r({type:d.default.UPLOADFIELD_UPLOAD_FAILURE,payload:{fieldId:e,queuedId:t,message:s}})}}function i(e,t){return function(n){return n({type:d.default.UPLOADFIELD_REMOVE_FILE,payload:{fieldId:e,file:t}})}}function l(e,t,n){return function(o){return o({type:d.default.UPLOADFIELD_UPLOAD_SUCCESS,payload:{fieldId:e,queuedId:t,json:n}})}}function a(e,t,n){return function(o){return o({type:d.default.UPLOADFIELD_UPDATE_QUEUED_FILE,payload:{fieldId:e,queuedId:t,updates:n}})}}Object.defineProperty(t,"__esModule",{value:!0}),t.addFile=o,t.setFiles=r,t.failUpload=s,t.removeFile=i,t.succeedUpload=l,t.updateQueuedFile=a;var u=n("./client/src/state/uploadField/UploadFieldActionTypes.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u)},"./client/src/state/uploadField/UploadFieldReducer.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1],n=(0,p.default)(e,t,h);switch(t.type){case a.default.UPLOADFIELD_ADD_FILE:return n(function(e){return e.files.find(function(e){return e.id===t.payload.file.id})?e:i({},e,{files:[].concat(r(e.files),[i({},d.default,t.payload.file)])})});case a.default.UPLOADFIELD_SET_FILES:return n(function(){return{files:t.payload.files}});case a.default.UPLOADFIELD_UPLOAD_FAILURE:return n(function(e){return{files:e.files.map(function(e){return e.queuedId===t.payload.queuedId?Object.assign({},e,{message:t.payload.message}):e})}});case a.default.UPLOADFIELD_REMOVE_FILE:return n(function(e){return{files:e.files.filter(function(e){return!(t.payload.file.queuedId&&e.queuedId===t.payload.file.queuedId||t.payload.file.id&&e.id===t.payload.file.id)})}});case a.default.UPLOADFIELD_UPLOAD_SUCCESS:return n(function(e){return{files:e.files.map(function(e){return e.queuedId===t.payload.queuedId?Object.assign({},e,t.payload.json):e})}});case a.default.UPLOADFIELD_UPDATE_QUEUED_FILE:return n(function(e){return{files:e.files.map(function(e){return e.queuedId===t.payload.queuedId?Object.assign({},e,t.payload.updates):e})}});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=n("./client/src/state/uploadField/UploadFieldActionTypes.js"),a=o(l),u=n("./client/src/lib/fileStructure.js"),d=o(u),c=n(44),p=o(c),f={fields:{}},h={files:[]};t.default=s},"./client/src/transforms/FormAction/ownerAwareUnpublish.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=n(0),i=o(s),l=n(2),a=o(l),u=function(e){return function(t){var n=t.onClick,o=r({},t,{onClick:function(e,o){var r=t.data.owners,s=null;s=r&&parseInt(r,10)>0?[a.default.inject(a.default._t("AssetAdmin.SINGLE_OWNED_WARNING_1","This file is being used in {count} other published section(s)."),{count:r}),a.default._t("AssetAdmin.SINGLE_OWNED_WARNING_2","Ensure files are removed from content areas prior to unpublishing them. Otherwise, they will appear as broken links."),a.default._t("AssetAdmin.SINGLE_OWNED_WARNING_3","Do you want to unpublish this file anyway?")].join("\n\n"):a.default._t("AssetAdmin.CONFIRMUNPUBLISH","Are you sure you want to unpublish this record?"),confirm(s)?n(e,o):e.preventDefault()}});return i.default.createElement(e,o)}};t.default=u},"./client/src/transforms/TreeDropdownField/moveTreeDropdownField.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.disabledTreeDropdownField=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(4),l=n(5),a=n(42),u=function(e){return function(t){var n=t.disabledIDs,r=t.findTreeByPath||a.findTreeByPath,i=o({},t,{findTreeByPath:function(e,t){var s=r(e,t),i=t.some(function(e){return n.includes(e)});return s?o({},s,{children:s.children.map(function(e){return o({},e,{disabled:i||n.includes(e.id)})})}):null}});return s.default.createElement(e,i)}},d=(0,l.compose)((0,i.connect)(function(e){return{disabledIDs:e.assetAdmin.gallery.selectedFiles}}),u);t.disabledTreeDropdownField=u,t.default=d},'./node_modules/babel-loader/lib/index.js?{"presets":[["env",{"modules":false}],"react"],"plugins":["transform-object-rest-spread"],"comments":false,"cacheDirectory":false}!./client/src/components/InsertEmbedModal/InsertEmbedModal.js':function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n=e.config.sections.find(function(e){return e.name===j}),o=t.fileAttributes?t.fileAttributes.Url:"",r=n.form.remoteEditForm.schemaUrl,s=o&&r+"/?embedurl="+encodeURIComponent(o),i=n.form.remoteCreateForm.schemaUrl;return{sectionConfig:n,schemaUrl:s||i,targetUrl:o}}function a(e){return{actions:{schema:(0,m.bindActionCreators)(b,e)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var u=function(){function e(e,t){var n=[],o=!0,r=!1,s=void 0;try{for(var i,l=e[Symbol.iterator]();!(o=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,s=e}finally{try{!o&&l.return&&l.return()}finally{if(r)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(2),p=o(c),f=n(0),h=o(f),m=n(5),g=n(4),y=n(13),_=o(y),v=n(8),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(v),E=n(1),S=o(E),j="SilverStripe\\AssetAdmin\\Controller\\AssetAdmin",C=function(e){function t(e){r(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSubmit=n.handleSubmit.bind(n),n}return i(t,e),d(t,[{key:"componentWillMount",value:function(){this.setOverrides(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.isOpen&&!this.props.isOpen&&this.setOverrides(e)}},{key:"componentWillUnmount",value:function(){this.clearOverrides()}},{key:"setOverrides",value:function(e){if(this.props.schemaUrl!==e.schemaUrl&&this.clearOverrides(),e.schemaUrl){var t=Object.assign({},e.fileAttributes);delete t.ID;var n={fields:Object.entries(t).map(function(e){var t=u(e,2);return{name:t[0],value:t[1]}})};this.props.actions.schema.setSchemaStateOverrides(e.schemaUrl,n)}}},{key:"getModalProps",value:function(){var e=Object.assign({onSubmit:this.handleSubmit,onLoadingError:this.handleLoadingError,showErrorMessage:!0,responseClassBad:"alert alert-danger",identifier:"AssetAdmin.InsertEmbedModal"},this.props,{className:"insert-embed-modal "+this.props.className,size:"lg",onClosed:this.props.onClosed,title:this.props.targetUrl?p.default._t("AssetAdmin.EditTitle","Media from the web"):p.default._t("AssetAdmin.CreateTitle","Insert new media from the web")});return delete e.sectionConfig,delete e.onInsert,delete e.fileAttributes,e}},{key:"clearOverrides",value:function(){this.props.actions.schema.setSchemaStateOverrides(this.props.schemaUrl,null)}},{key:"handleLoadingError",value:function(e){"function"==typeof this.props.onLoadingError&&this.props.onLoadingError(e)}},{key:"handleSubmit",value:function(e,t){switch(t){case"action_addmedia":this.props.onCreate(e);break;case"action_insertmedia":this.props.onInsert(e);break;case"action_cancel":this.props.onClosed()}return Promise.resolve()}},{key:"render",value:function(){return h.default.createElement(_.default,this.getModalProps())}}]),t}(f.Component);C.propTypes={sectionConfig:S.default.shape({url:S.default.string,form:S.default.object}),isOpen:S.default.bool,onInsert:S.default.func.isRequired,onCreate:S.default.func.isRequired,fileAttributes:S.default.shape({Url:S.default.string,CaptionText:S.default.string,PreviewUrl:S.default.string,Placement:S.default.string,Width:S.default.number,Height:S.default.number}),onClosed:S.default.func.isRequired,className:S.default.string,actions:S.default.object,schemaUrl:S.default.string.isRequired,targetUrl:S.default.string,onLoadingError:S.default.func},C.defaultProps={className:"",fileAttributes:{}},t.Component=C,t.default=(0,g.connect)(l,a)(C)},'./node_modules/babel-loader/lib/index.js?{"presets":[["env",{"modules":false}],"react"],"plugins":["transform-object-rest-spread"],"comments":false,"cacheDirectory":false}!./client/src/containers/InsertMediaModal/InsertMediaModal.js':function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){var n=t.sectionConfig;if(!n)return{};var o=0;null!==t.folderId?o=t.folderId:t.folder&&(o=t.folder.id);var r=t.fileAttributes?t.fileAttributes.ID:t.fileId,s=e.assetAdmin.modal.formSchema,i={config:n,viewAction:t.viewAction,folderId:o,type:s&&s.type,fileId:r},l=(0,R.default)(i),a=l.schemaUrl,u=l.targetId;return a?{schemaUrl:a+"/"+u+(t.requireLinkText?"?requireLinkText=true":""),type:s&&s.type}:{}}function d(e){return{actions:{gallery:(0,y.bindActionCreators)(O,e),modal:(0,y.bindActionCreators)(F,e)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(2),h=r(f),m=n(0),g=r(m),y=n(5),_=n(4),v=n("./client/src/containers/AssetAdmin/AssetAdmin.js"),b=r(v),E=n("./client/src/containers/AssetAdmin/stateRouter.js"),S=r(E),j=n(35),C=r(j),w=n("./client/src/state/gallery/GalleryActions.js"),O=o(w),I=n("./client/src/state/modal/ModalActions.js"),F=o(I),A=n(13),x=r(A),D=n(9),P=r(D),k=n(1),T=r(k),N=n("./client/src/lib/getFormSchema.js"),R=r(N),M=function(e){function t(e){i(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSubmit=n.handleSubmit.bind(n),n}return a(t,e),p(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isOpen,n=e.onBrowse,o=e.setOverrides,r=e.fileAttributes,s=e.folderId;t?"function"==typeof o&&r.ID&&(o(this.props),n(s,r.ID)):n(s||0)}},{key:"componentWillReceiveProps",value:function(e){!e.isOpen&&this.props.isOpen&&(e.onBrowse(e.folderId),e.actions.gallery.deselectFiles()),"function"==typeof this.props.setOverrides&&e.isOpen&&!this.props.isOpen&&(this.props.setOverrides(e),e.onBrowse(e.folderId,e.fileAttributes?e.fileAttributes.ID:null))}},{key:"getSectionProps",value:function(){return c({},this.props,{dialog:!0,toolbarChildren:this.renderToolbarChildren(),onSubmitEditor:this.handleSubmit,onReplaceUrl:this.props.onBrowse})}},{key:"getModalProps",value:function(){var e=this.props,t=(e.onHide,e.onInsert,e.sectionConfig,e.schemaUrl,e.className),n=s(e,["onHide","onInsert","sectionConfig","schemaUrl","className"]);return c({},n,{className:(0,P.default)("insert-media-modal",t),size:"lg",showCloseButton:!1})}},{key:"handleSubmit",value:function(e,t,n,o){return"action_insert"===t?this.props.onInsert(e,o):n()}},{key:"renderToolbarChildren",value:function(){return g.default.createElement("button",{type:"button",className:"close modal__close-button insert-media-modal__close-button",onClick:this.props.onClosed,"aria-label":h.default._t("FormBuilderModal.CLOSE","Close")},g.default.createElement("span",{"aria-hidden":"true"},"×"))}},{key:"render",value:function(){var e=this.getModalProps(),t=this.getSectionProps(),n=this.props.isOpen?g.default.createElement(b.default,t):null;return g.default.createElement(x.default,e,n)}}]),t}(m.Component);M.propTypes={sectionConfig:T.default.shape({url:T.default.string,form:T.default.object}),type:T.default.oneOf(["insert-media","insert-link","select","admin"]),schemaUrl:T.default.string,isOpen:T.default.bool,setOverrides:T.default.func,onInsert:T.default.func.isRequired,fileAttributes:T.default.shape({ID:T.default.number,AltText:T.default.string,Width:T.default.number,Height:T.default.number,TitleTooltip:T.default.string,Alignment:T.default.string,Description:T.default.string,TargetBlank:T.default.bool}),requireLinkText:T.default.bool,folderId:T.default.number,fileId:T.default.number,viewAction:T.default.string,query:T.default.object,getUrl:T.default.func,onBrowse:T.default.func.isRequired,onClosed:T.default.func,className:T.default.string,actions:T.default.object,maxFiles:T.default.number,fileSelected:T.default.bool},M.defaultProps={className:"",fileAttributes:{},type:"insert-media",folderId:0,maxFiles:1},t.Component=M,t.default=(0,y.compose)(S.default,(0,_.connect)(u,d),C.default)(M)},"./node_modules/constants-browserify/constants.json":function(e,t){e.exports={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,E2BIG:7,EACCES:13,EADDRINUSE:48,EADDRNOTAVAIL:49,EAFNOSUPPORT:47,EAGAIN:35,EALREADY:37,EBADF:9,EBADMSG:94,EBUSY:16,ECANCELED:89,ECHILD:10,ECONNABORTED:53,ECONNREFUSED:61,ECONNRESET:54,EDEADLK:11,EDESTADDRREQ:39,EDOM:33,EDQUOT:69,EEXIST:17,EFAULT:14,EFBIG:27,EHOSTUNREACH:65,EIDRM:90,EILSEQ:92,EINPROGRESS:36,EINTR:4,EINVAL:22,EIO:5,EISCONN:56,EISDIR:21,ELOOP:62,EMFILE:24,EMLINK:31,EMSGSIZE:40,EMULTIHOP:95,ENAMETOOLONG:63,ENETDOWN:50,ENETRESET:52,ENETUNREACH:51,ENFILE:23,ENOBUFS:55,ENODATA:96,ENODEV:19,ENOENT:2,ENOEXEC:8,ENOLCK:77,ENOLINK:97,ENOMEM:12,ENOMSG:91,ENOPROTOOPT:42,ENOSPC:28,ENOSR:98,ENOSTR:99,ENOSYS:78,ENOTCONN:57,ENOTDIR:20,ENOTEMPTY:66,ENOTSOCK:38,ENOTSUP:45,ENOTTY:25,ENXIO:6,EOPNOTSUPP:102,EOVERFLOW:84,EPERM:1,EPIPE:32,EPROTO:100,EPROTONOSUPPORT:43,EPROTOTYPE:41,ERANGE:34,EROFS:30,ESPIPE:29,ESRCH:3,ESTALE:70,ETIME:101,ETIMEDOUT:60,ETXTBSY:26,EWOULDBLOCK:35,EXDEV:18,SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:10,SIGFPE:8,SIGKILL:9,SIGUSR1:30,SIGSEGV:11,SIGUSR2:31,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGCHLD:20,SIGCONT:19,SIGSTOP:17,SIGTSTP:18,SIGTTIN:21,SIGTTOU:22,SIGURG:16,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:23,SIGSYS:12,SSL_OP_ALL:2147486719,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:262144,SSL_OP_CIPHER_SERVER_PREFERENCE:4194304,SSL_OP_CISCO_ANYCONNECT:32768,SSL_OP_COOKIE_EXCHANGE:8192,SSL_OP_CRYPTOPRO_TLSEXT_BUG:2147483648,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:2048,SSL_OP_EPHEMERAL_RSA:0,SSL_OP_LEGACY_SERVER_CONNECT:4,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:32,SSL_OP_MICROSOFT_SESS_ID_BUG:1,SSL_OP_MSIE_SSLV2_RSA_PADDING:0,SSL_OP_NETSCAPE_CA_DN_BUG:536870912,SSL_OP_NETSCAPE_CHALLENGE_BUG:2,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:1073741824,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:8,SSL_OP_NO_COMPRESSION:131072,SSL_OP_NO_QUERY_MTU:4096,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:65536,SSL_OP_NO_SSLv2:16777216,SSL_OP_NO_SSLv3:33554432,SSL_OP_NO_TICKET:16384,SSL_OP_NO_TLSv1:67108864,SSL_OP_NO_TLSv1_1:268435456,SSL_OP_NO_TLSv1_2:134217728,SSL_OP_PKCS1_CHECK_1:0,SSL_OP_PKCS1_CHECK_2:0,SSL_OP_SINGLE_DH_USE:1048576,SSL_OP_SINGLE_ECDH_USE:524288,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:128,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:0,SSL_OP_TLS_BLOCK_PADDING_BUG:512,SSL_OP_TLS_D5_BUG:256,SSL_OP_TLS_ROLLBACK_BUG:8388608,ENGINE_METHOD_DSA:2,ENGINE_METHOD_DH:4,ENGINE_METHOD_RAND:8,ENGINE_METHOD_ECDH:16,ENGINE_METHOD_ECDSA:32,ENGINE_METHOD_CIPHERS:64,ENGINE_METHOD_DIGESTS:128,ENGINE_METHOD_STORE:256,ENGINE_METHOD_PKEY_METHS:512,ENGINE_METHOD_PKEY_ASN1_METHS:1024,ENGINE_METHOD_ALL:65535,ENGINE_METHOD_NONE:0,DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_UDP_REUSEADDR:4}},"./node_modules/create-react-class/factory.js":function(e,t,n){"use strict";function o(e){return e}function r(e,t,n){function r(e,t){var n=_.hasOwnProperty(t)?_[t]:null;j.hasOwnProperty(t)&&l("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&l("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function u(e,n){if(n){l("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),l(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var o=e.prototype,s=o.__reactAutoBindPairs;n.hasOwnProperty(a)&&b.mixins(e,n.mixins);for(var i in n)if(n.hasOwnProperty(i)&&i!==a){var u=n[i],d=o.hasOwnProperty(i);if(r(d,i),b.hasOwnProperty(i))b[i](e,u);else{var c=_.hasOwnProperty(i),h="function"==typeof u,m=h&&!c&&!d&&!1!==n.autobind;if(m)s.push(i,u),o[i]=u;else if(d){var g=_[i];l(c&&("DEFINE_MANY_MERGED"===g||"DEFINE_MANY"===g),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",g,i),"DEFINE_MANY_MERGED"===g?o[i]=p(o[i],u):"DEFINE_MANY"===g&&(o[i]=f(o[i],u))}else o[i]=u}}}}function d(e,t){if(t)for(var n in t){var o=t[n];if(t.hasOwnProperty(n)){var r=n in b;l(!r,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var s=n in e;if(s){var i=v.hasOwnProperty(n)?v[n]:null;return l("DEFINE_MANY_MERGED"===i,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=p(e[n],o))}e[n]=o}}}function c(e,t){l(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in t)t.hasOwnProperty(n)&&(l(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function p(e,t){return function(){var n=e.apply(this,arguments),o=t.apply(this,arguments);if(null==n)return o;if(null==o)return n;var r={};return c(r,n),c(r,o),r}}function f(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function h(e,t){return t.bind(e)}function m(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var o=t[n],r=t[n+1];e[o]=h(e,r)}}function g(e){var t=o(function(e,o,r){this.__reactAutoBindPairs.length&&m(this),this.props=e,this.context=o,this.refs=i,this.updater=r||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;l("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s});t.prototype=new C,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],y.forEach(u.bind(null,t)),u(t,E),u(t,e),u(t,S),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),l(t.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var r in _)t.prototype[r]||(t.prototype[r]=null);return t}var y=[],_={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},v={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},b={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)u(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=s({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=s({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=p(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=s({},e.propTypes,t)},statics:function(e,t){d(e,t)},autobind:function(){}},E={componentDidMount:function(){this.__isMounted=!0}},S={componentWillUnmount:function(){this.__isMounted=!1}},j={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},C=function(){};return s(C.prototype,e.prototype,j),g}var s=n("./node_modules/object-assign/index.js"),i=n("./node_modules/fbjs/lib/emptyObject.js"),l=n("./node_modules/fbjs/lib/invariant.js"),a="mixins";e.exports=r},"./node_modules/create-react-class/index.js":function(e,t,n){"use strict";var o=n(0),r=n("./node_modules/create-react-class/factory.js");if(void 0===o)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var s=(new o.Component).updater;e.exports=r(o.Component,o.isValidElement,s)},"./node_modules/dropzone/dist/dropzone.js":function(e,t,n){"use strict";(function(e,t){function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?s(e):t}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function c(e,t){return void 0!==e&&null!==e?t(e):void 0}function p(e,t,n){return void 0!==e&&null!==e&&"function"==typeof e[t]?n(e,t):void 0}var f=function(){function e(){a(this,e)}return d(e,[{key:"on",value:function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:"emit",value:function(e){this._callbacks=this._callbacks||{};var t=this._callbacks[e];if(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];var s=!0,i=!1,l=void 0;try{for(var a,u=t[Symbol.iterator]();!(s=(a=u.next()).done);s=!0)a.value.apply(this,o)}catch(e){i=!0,l=e}finally{try{s||null==u.return||u.return()}finally{if(i)throw l}}}return this}},{key:"off",value:function(e,t){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(var o=0;o<n.length;o++)if(n[o]===t){n.splice(o,1);break}return this}}]),e}(),h=function(e){function t(e,n){var i;a(this,t),i=o(this,r(t).call(this));var l,u;if(i.element=e,i.version=t.version,i.defaultOptions.previewTemplate=i.defaultOptions.previewTemplate.replace(/\n*/g,""),i.clickableElements=[],i.listeners=[],i.files=[],"string"==typeof i.element&&(i.element=document.querySelector(i.element)),!i.element||null==i.element.nodeType)throw new Error("Invalid dropzone element.");if(i.element.dropzone)throw new Error("Dropzone already attached.");t.instances.push(s(i)),i.element.dropzone=s(i);var d=null!=(u=t.optionsForElement(i.element))?u:{};if(i.options=t.extend({},i.defaultOptions,d,null!=n?n:{}),i.options.forceFallback||!t.isBrowserSupported())return o(i,i.options.fallback.call(s(i)));if(null==i.options.url&&(i.options.url=i.element.getAttribute("action")),!i.options.url)throw new Error("No URL provided.");if(i.options.acceptedFiles&&i.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(i.options.uploadMultiple&&i.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return i.options.acceptedMimeTypes&&(i.options.acceptedFiles=i.options.acceptedMimeTypes,delete i.options.acceptedMimeTypes),null!=i.options.renameFilename&&(i.options.renameFile=function(e){return i.options.renameFilename.call(s(i),e.name,e)}),i.options.method=i.options.method.toUpperCase(),(l=i.getExistingFallback())&&l.parentNode&&l.parentNode.removeChild(l),!1!==i.options.previewsContainer&&(i.options.previewsContainer?i.previewsContainer=t.getElement(i.options.previewsContainer,"previewsContainer"):i.previewsContainer=i.element),i.options.clickable&&(!0===i.options.clickable?i.clickableElements=[i.element]:i.clickableElements=t.getElements(i.options.clickable,"clickable")),i.init(),i}return i(t,e),d(t,null,[{key:"initClass",value:function(){this.prototype.Emitter=f,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(e,t,n){if(n)return{dzuuid:n.file.upload.uuid,dzchunkindex:n.index,dztotalfilesize:n.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:n.file.upload.totalChunkCount,dzchunkbyteoffset:n.index*this.options.chunkSize}},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},fallback:function(){var e;this.element.className="".concat(this.element.className," dz-browser-not-supported");var n=!0,o=!1,r=void 0;try{for(var s,i=this.element.getElementsByTagName("div")[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var l=s.value;if(/(^| )dz-message($| )/.test(l.className)){e=l,l.className="dz-message";break}}}catch(e){o=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}e||(e=t.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e));var a=e.getElementsByTagName("span")[0];return a&&(null!=a.textContent?a.textContent=this.options.dictFallbackMessage:null!=a.innerText&&(a.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e,t,n,o){var r={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},s=e.width/e.height;null==t&&null==n?(t=r.srcWidth,n=r.srcHeight):null==t?t=n*s:null==n&&(n=t/s),t=Math.min(t,r.srcWidth),n=Math.min(n,r.srcHeight);var i=t/n;if(r.srcWidth>t||r.srcHeight>n)if("crop"===o)s>i?(r.srcHeight=e.height,r.srcWidth=r.srcHeight*i):(r.srcWidth=e.width,r.srcHeight=r.srcWidth/i);else{if("contain"!==o)throw new Error("Unknown resizeMethod '".concat(o,"'"));s>i?n=t/s:t=n*s}return r.srcX=(e.width-r.srcWidth)/2,r.srcY=(e.height-r.srcHeight)/2,r.trgWidth=t,r.trgHeight=n,r},transformFile:function(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Check</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Error</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:function(e){},dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:function(e){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var n=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){e.previewElement=t.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement);var o=!0,r=!1,s=void 0;try{for(var i,l=e.previewElement.querySelectorAll("[data-dz-name]")[Symbol.iterator]();!(o=(i=l.next()).done);o=!0){var a=i.value;a.textContent=e.name}}catch(e){r=!0,s=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw s}}var u=!0,d=!1,c=void 0;try{for(var p,f=e.previewElement.querySelectorAll("[data-dz-size]")[Symbol.iterator]();!(u=(p=f.next()).done);u=!0)a=p.value,a.innerHTML=this.filesize(e.size)}catch(e){d=!0,c=e}finally{try{u||null==f.return||f.return()}finally{if(d)throw c}}this.options.addRemoveLinks&&(e._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),e.previewElement.appendChild(e._removeLink));var h=function(o){return o.preventDefault(),o.stopPropagation(),e.status===t.UPLOADING?t.confirm(n.options.dictCancelUploadConfirmation,function(){return n.removeFile(e)}):n.options.dictRemoveFileConfirmation?t.confirm(n.options.dictRemoveFileConfirmation,function(){return n.removeFile(e)}):n.removeFile(e)},m=!0,g=!1,y=void 0;try{for(var _,v=e.previewElement.querySelectorAll("[data-dz-remove]")[Symbol.iterator]();!(m=(_=v.next()).done);m=!0)_.value.addEventListener("click",h)}catch(e){g=!0,y=e}finally{try{m||null==v.return||v.return()}finally{if(g)throw y}}}},removedfile:function(e){return null!=e.previewElement&&null!=e.previewElement.parentNode&&e.previewElement.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");var n=!0,o=!1,r=void 0;try{for(var s,i=e.previewElement.querySelectorAll("[data-dz-thumbnail]")[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var l=s.value;l.alt=e.name,l.src=t}}catch(e){o=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}return setTimeout(function(){return e.previewElement.classList.add("dz-image-preview")},1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error);var n=!0,o=!1,r=void 0;try{for(var s,i=e.previewElement.querySelectorAll("[data-dz-errormessage]")[Symbol.iterator]();!(n=(s=i.next()).done);n=!0)s.value.textContent=t}catch(e){o=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}}},errormultiple:function(){},processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(e,t,n){if(e.previewElement){var o=!0,r=!1,s=void 0;try{for(var i,l=e.previewElement.querySelectorAll("[data-dz-uploadprogress]")[Symbol.iterator]();!(o=(i=l.next()).done);o=!0){var a=i.value;"PROGRESS"===a.nodeName?a.value=t:a.style.width="".concat(t,"%")}}catch(e){r=!0,s=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw s}}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(e){return this.emit("error",e,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(e){if(e._removeLink&&(e._removeLink.innerHTML=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];for(var r=0,s=n;r<s.length;r++){var i=s[r];for(var l in i){var a=i[l];e[l]=a}}return e}}]),d(t,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(e){return e.accepted}).map(function(e){return e})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(e){return!e.accepted}).map(function(e){return e})}},{key:"getFilesWithStatus",value:function(e){return this.files.filter(function(t){return t.status===e}).map(function(e){return e})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(t.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(t.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(t.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(e){return e.status===t.UPLOADING||e.status===t.QUEUED}).map(function(e){return e})}},{key:"init",value:function(){var e=this;"form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(t.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length&&function n(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null===e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!==e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!==e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",t.getElement(e.options.hiddenInputContainer,"hiddenInputContainer").appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var t=e.hiddenFileInput.files;if(t.length){var o=!0,r=!1,s=void 0;try{for(var i,l=t[Symbol.iterator]();!(o=(i=l.next()).done);o=!0){var a=i.value;e.addFile(a)}}catch(e){r=!0,s=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw s}}}return e.emit("addedfiles",t),n()})}(),this.URL=null!==window.URL?window.URL:window.webkitURL;var n=!0,o=!1,r=void 0;try{for(var s,i=this.events[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var l=s.value;this.on(l,this.options[l])}}catch(e){o=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}this.on("uploadprogress",function(){return e.updateTotalUploadProgress()}),this.on("removedfile",function(){return e.updateTotalUploadProgress()}),this.on("canceled",function(t){return e.emit("complete",t)}),this.on("complete",function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout(function(){return e.emit("queuecomplete")},0)});var a=function(e){return e.dataTransfer.types&&e.dataTransfer.types.some(function(e){return"Files"==e})},u=function(e){if(a(e))return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(t){return e.emit("dragstart",t)},dragenter:function(t){return u(t),e.emit("dragenter",t)},dragover:function(t){var n;try{n=t.dataTransfer.effectAllowed}catch(e){}return t.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",u(t),e.emit("dragover",t)},dragleave:function(t){return e.emit("dragleave",t)},drop:function(t){return u(t),e.drop(t)},dragend:function(t){return e.emit("dragend",t)}}}],this.clickableElements.forEach(function(n){return e.listeners.push({element:n,events:{click:function(o){return(n!==e.element||o.target===e.element||t.elementInside(o.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,t.instances.splice(t.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var e,t=0,n=0;if(this.getActiveFiles().length){var o=!0,r=!1,s=void 0;try{for(var i,l=this.getActiveFiles()[Symbol.iterator]();!(o=(i=l.next()).done);o=!0){var a=i.value;t+=a.upload.bytesSent,n+=a.upload.total}}catch(e){r=!0,s=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw s}}e=100*t/n}else e=100;return this.emit("totaluploadprogress",e,n,t)}},{key:"_getParamName",value:function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(e,"]"):"")}},{key:"_renameFile",value:function(e){return"function"!=typeof this.options.renameFile?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){var e,n;if(e=this.getExistingFallback())return e;var o='<div class="dz-fallback">';this.options.dictFallbackText&&(o+="<p>".concat(this.options.dictFallbackText,"</p>")),o+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var r=t.createElement(o);return"FORM"!==this.element.tagName?(n=t.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>')),n.appendChild(r)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=n?n:r}},{key:"getExistingFallback",value:function(){for(var e=0,t=["div","form"];e<t.length;e++){var n,o=t[e];if(n=function(e){var t=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var i=r.value;if(/(^| )fallback($| )/.test(i.className))return i}}catch(e){n=!0,o=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw o}}}(this.element.getElementsByTagName(o)))return n}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(e){return function(){var t=[];for(var n in e.events){var o=e.events[n];t.push(e.element.addEventListener(n,o,!1))}return t}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(e){return function(){var t=[];for(var n in e.events){var o=e.events[n];t.push(e.element.removeEventListener(n,o,!1))}return t}()})}},{key:"disable",value:function(){var e=this;return this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(t){return e.cancelUpload(t)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(e){var t=0,n="b";if(e>0){for(var o=["tb","gb","mb","kb","b"],r=0;r<o.length;r++){var s=o[r];if(e>=Math.pow(this.options.filesizeBase,4-r)/10){t=e/Math.pow(this.options.filesizeBase,4-r),n=s;break}}t=Math.round(10*t)/10}return"<strong>".concat(t,"</strong> ").concat(this.options.dictFileSizeUnits[n])}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e);for(var t=[],n=0;n<e.dataTransfer.files.length;n++)t[n]=e.dataTransfer.files[n];if(t.length){var o=e.dataTransfer.items;o&&o.length&&null!=o[0].webkitGetAsEntry?this._addFilesFromItems(o):this.handleFiles(t)}this.emit("addedfiles",t)}}},{key:"paste",value:function(e){if(null!=c(null!=e?e.clipboardData:void 0,function(e){return e.items})){this.emit("paste",e);var t=e.clipboardData.items;return t.length?this._addFilesFromItems(t):void 0}}},{key:"handleFiles",value:function(e){var t=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var i=r.value;this.addFile(i)}}catch(e){n=!0,o=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw o}}}},{key:"_addFilesFromItems",value:function(e){var t=this;return function(){var n=[],o=!0,r=!1,s=void 0;try{for(var i,l=e[Symbol.iterator]();!(o=(i=l.next()).done);o=!0){var a,u=i.value;null!=u.webkitGetAsEntry&&(a=u.webkitGetAsEntry())?a.isFile?n.push(t.addFile(u.getAsFile())):a.isDirectory?n.push(t._addFilesFromDirectory(a,a.name)):n.push(void 0):null==u.getAsFile||null!=u.kind&&"file"!==u.kind?n.push(void 0):n.push(t.addFile(u.getAsFile()))}}catch(e){r=!0,s=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw s}}return n}()}},{key:"_addFilesFromDirectory",value:function(e,t){var n=this,o=e.createReader(),r=function(e){return p(console,"log",function(t){return t.log(e)})};return function e(){return o.readEntries(function(o){if(o.length>0){var r=!0,s=!1,i=void 0;try{for(var l,a=o[Symbol.iterator]();!(r=(l=a.next()).done);r=!0){var u=l.value;u.isFile?u.file(function(e){if(!n.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath="".concat(t,"/").concat(e.name),n.addFile(e)}):u.isDirectory&&n._addFilesFromDirectory(u,"".concat(t,"/").concat(u.name))}}catch(e){s=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(s)throw i}}e()}return null},r)}()}},{key:"accept",value:function(e,n){this.options.maxFilesize&&e.size>1024*this.options.maxFilesize*1024?n(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):t.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(n(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,n):n(this.options.dictInvalidFileType)}},{key:"addFile",value:function(e){var n=this;e.upload={uuid:t.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e)},this.files.push(e),e.status=t.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){t?(e.accepted=!1,n._errorProcessing([e],t)):(e.accepted=!0,n.options.autoQueue&&n.enqueueFile(e)),n._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(e){var t=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var i=r.value;this.enqueueFile(i)}}catch(e){n=!0,o=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw o}}return null}},{key:"enqueueFile",value:function(e){var n=this;if(e.status!==t.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=t.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return n.processQueue()},0)}},{key:"_enqueueThumbnail",value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout(function(){return t._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var e=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(n){return e.emit("thumbnail",t,n),e._processingThumbnail=!1,e._processThumbnailQueue()})}}},{key:"removeFile",value:function(e){if(e.status===t.UPLOADING&&this.cancelUpload(e),this.files=m(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(e){null==e&&(e=!1);var n=!0,o=!1,r=void 0;try{for(var s,i=this.files.slice()[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var l=s.value;(l.status!==t.UPLOADING||e)&&this.removeFile(l)}}catch(e){o=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}return null}},{key:"resizeImage",value:function(e,n,o,r,s){var i=this;return this.createThumbnail(e,n,o,r,!0,function(n,o){if(null==o)return s(e);var r=i.options.resizeMimeType;null==r&&(r=e.type);var l=o.toDataURL(r,i.options.resizeQuality);return"image/jpeg"!==r&&"image/jpg"!==r||(l=v.restore(e.dataURL,l)),s(t.dataURItoBlob(l))})}},{key:"createThumbnail",value:function(e,t,n,o,r,s){var i=this,l=new FileReader;l.onload=function(){if(e.dataURL=l.result,"image/svg+xml"===e.type)return void(null!=s&&s(l.result));i.createThumbnailFromUrl(e,t,n,o,r,s)},l.readAsDataURL(e)}},{key:"displayExistingFile",value:function(e,t,n,o){var r=this,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this.emit("addedfile",e),this.emit("complete",e),s){var i=function(t){r.emit("thumbnail",e,t),n&&n()};e.dataURL=t,this.createThumbnailFromUrl(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.resizeMethod,this.options.fixOrientation,i,o)}else this.emit("thumbnail",e,t),n&&n()}},{key:"createThumbnailFromUrl",value:function(e,t,n,o,r,s,i){var l=this,a=document.createElement("img");return i&&(a.crossOrigin=i),a.onload=function(){var i=function(e){return e(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&r&&(i=function(e){return EXIF.getData(a,function(){return e(EXIF.getTag(this,"Orientation"))})}),i(function(r){e.width=a.width,e.height=a.height;var i=l.options.resize.call(l,e,t,n,o),u=document.createElement("canvas"),d=u.getContext("2d");switch(u.width=i.trgWidth,u.height=i.trgHeight,r>4&&(u.width=i.trgHeight,u.height=i.trgWidth),r){case 2:d.translate(u.width,0),d.scale(-1,1);break;case 3:d.translate(u.width,u.height),d.rotate(Math.PI);break;case 4:d.translate(0,u.height),d.scale(1,-1);break;case 5:d.rotate(.5*Math.PI),d.scale(1,-1);break;case 6:d.rotate(.5*Math.PI),d.translate(0,-u.width);break;case 7:d.rotate(.5*Math.PI),d.translate(u.height,-u.width),d.scale(-1,1);break;case 8:d.rotate(-.5*Math.PI),d.translate(-u.height,0)}_(d,a,null!=i.srcX?i.srcX:0,null!=i.srcY?i.srcY:0,i.srcWidth,i.srcHeight,null!=i.trgX?i.trgX:0,null!=i.trgY?i.trgY:0,i.trgWidth,i.trgHeight);var c=u.toDataURL("image/png");if(null!=s)return s(c,u)})},null!=s&&(a.onerror=s),a.src=e.dataURL}},{key:"processQueue",value:function(){var e=this.options.parallelUploads,t=this.getUploadingFiles().length,n=t;if(!(t>=e)){var o=this.getQueuedFiles();if(o.length>0){if(this.options.uploadMultiple)return this.processFiles(o.slice(0,e-t));for(;n<e;){if(!o.length)return;this.processFile(o.shift()),n++}}}}},{key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(e){var n=!0,o=!1,r=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var l=s.value;l.processing=!0,l.status=t.UPLOADING,this.emit("processing",l)}}catch(e){o=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function(e){return this.files.filter(function(t){return t.xhr===e}).map(function(e){return e})}},{key:"cancelUpload",value:function(e){if(e.status===t.UPLOADING){var n=this._getFilesWithXhr(e.xhr),o=!0,r=!1,s=void 0;try{for(var i,l=n[Symbol.iterator]();!(o=(i=l.next()).done);o=!0)i.value.status=t.CANCELED}catch(e){r=!0,s=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw s}}void 0!==e.xhr&&e.xhr.abort();var a=!0,u=!1,d=void 0;try{for(var c,p=n[Symbol.iterator]();!(a=(c=p.next()).done);a=!0){var f=c.value;this.emit("canceled",f)}}catch(e){u=!0,d=e}finally{try{a||null==p.return||p.return()}finally{if(u)throw d}}this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else e.status!==t.ADDED&&e.status!==t.QUEUED||(e.status=t.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return e.apply(this,n)}return e}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(e){var n=this;this._transformFiles(e,function(o){if(n.options.chunking){var r=o[0];e[0].upload.chunked=n.options.chunking&&(n.options.forceChunking||r.size>n.options.chunkSize),e[0].upload.totalChunkCount=Math.ceil(r.size/n.options.chunkSize)}if(e[0].upload.chunked){var s=e[0],i=o[0],l=0;s.upload.chunks=[];var a=function(){for(var o=0;void 0!==s.upload.chunks[o];)o++;if(!(o>=s.upload.totalChunkCount)){l++;var r=o*n.options.chunkSize,a=Math.min(r+n.options.chunkSize,s.size),u={name:n._getParamName(0),data:i.webkitSlice?i.webkitSlice(r,a):i.slice(r,a),filename:s.upload.filename,chunkIndex:o};s.upload.chunks[o]={file:s,index:o,dataBlock:u,status:t.UPLOADING,progress:0,retries:0},n._uploadData(e,[u])}};if(s.upload.finishedChunkUpload=function(o){var r=!0;o.status=t.SUCCESS,o.dataBlock=null,o.xhr=null;for(var i=0;i<s.upload.totalChunkCount;i++){if(void 0===s.upload.chunks[i])return a();s.upload.chunks[i].status!==t.SUCCESS&&(r=!1)}r&&n.options.chunksUploaded(s,function(){n._finished(e,"",null)})},n.options.parallelChunkUploads)for(var u=0;u<s.upload.totalChunkCount;u++)a();else a()}else{for(var d=[],c=0;c<e.length;c++)d[c]={name:n._getParamName(c),data:o[c],filename:e[c].upload.filename};n._uploadData(e,d)}})}},{key:"_getChunk",value:function(e,t){for(var n=0;n<e.upload.totalChunkCount;n++)if(void 0!==e.upload.chunks[n]&&e.upload.chunks[n].xhr===t)return e.upload.chunks[n]}},{key:"_uploadData",value:function(e,n){var o=this,r=new XMLHttpRequest,s=!0,i=!1,l=void 0;try{for(var a,u=e[Symbol.iterator]();!(s=(a=u.next()).done);s=!0)a.value.xhr=r}catch(e){i=!0,l=e}finally{try{s||null==u.return||u.return()}finally{if(i)throw l}}e[0].upload.chunked&&(e[0].upload.chunks[n[0].chunkIndex].xhr=r);var d=this.resolveOption(this.options.method,e),c=this.resolveOption(this.options.url,e);r.open(d,c,!0),r.timeout=this.resolveOption(this.options.timeout,e),r.withCredentials=!!this.options.withCredentials,r.onload=function(t){o._finishedUploading(e,r,t)},r.ontimeout=function(){o._handleUploadError(e,r,"Request timedout after ".concat(o.options.timeout," seconds"))},r.onerror=function(){o._handleUploadError(e,r)},(null!=r.upload?r.upload:r).onprogress=function(t){return o._updateFilesUploadProgress(e,r,t)};var p={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&t.extend(p,this.options.headers);for(var f in p){var h=p[f];h&&r.setRequestHeader(f,h)}var m=new FormData;if(this.options.params){var g=this.options.params;"function"==typeof g&&(g=g.call(this,e,r,e[0].upload.chunked?this._getChunk(e[0],r):null));for(var y in g){var _=g[y];m.append(y,_)}}var v=!0,b=!1,E=void 0;try{for(var S,j=e[Symbol.iterator]();!(v=(S=j.next()).done);v=!0){var C=S.value;this.emit("sending",C,r,m)}}catch(e){b=!0,E=e}finally{try{v||null==j.return||j.return()}finally{if(b)throw E}}this.options.uploadMultiple&&this.emit("sendingmultiple",e,r,m),this._addFormElementData(m);for(var w=0;w<n.length;w++){var O=n[w];m.append(O.name,O.data,O.filename)}this.submitRequest(r,m,e)}},{key:"_transformFiles",value:function(e,t){for(var n=this,o=[],r=0,s=0;s<e.length;s++)!function(s){n.options.transformFile.call(n,e[s],function(n){o[s]=n,++r===e.length&&t(o)})}(s)}},{key:"_addFormElementData",value:function(e){if("FORM"===this.element.tagName){var t=!0,n=!1,o=void 0;try{for(var r,s=this.element.querySelectorAll("input, textarea, select, button")[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var i=r.value,l=i.getAttribute("name"),a=i.getAttribute("type");if(a&&(a=a.toLowerCase()),void 0!==l&&null!==l)if("SELECT"===i.tagName&&i.hasAttribute("multiple")){var u=!0,d=!1,c=void 0;try{for(var p,f=i.options[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var h=p.value;h.selected&&e.append(l,h.value)}}catch(e){d=!0,c=e}finally{try{u||null==f.return||f.return()}finally{if(d)throw c}}}else(!a||"checkbox"!==a&&"radio"!==a||i.checked)&&e.append(l,i.value)}}catch(e){n=!0,o=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw o}}}}},{key:"_updateFilesUploadProgress",value:function(e,t,n){var o;if(void 0!==n){if(o=100*n.loaded/n.total,e[0].upload.chunked){var r=e[0],s=this._getChunk(r,t);s.progress=o,s.total=n.total,s.bytesSent=n.loaded,r.upload.progress=0,r.upload.total=0,r.upload.bytesSent=0;for(var i=0;i<r.upload.totalChunkCount;i++)void 0!==r.upload.chunks[i]&&void 0!==r.upload.chunks[i].progress&&(r.upload.progress+=r.upload.chunks[i].progress,r.upload.total+=r.upload.chunks[i].total,r.upload.bytesSent+=r.upload.chunks[i].bytesSent);r.upload.progress=r.upload.progress/r.upload.totalChunkCount}else{var l=!0,a=!1,u=void 0;try{for(var d,c=e[Symbol.iterator]();!(l=(d=c.next()).done);l=!0){var p=d.value;p.upload.progress=o,p.upload.total=n.total,p.upload.bytesSent=n.loaded}}catch(e){a=!0,u=e}finally{try{l||null==c.return||c.return()}finally{if(a)throw u}}}var f=!0,h=!1,m=void 0;try{for(var g,y=e[Symbol.iterator]();!(f=(g=y.next()).done);f=!0){var _=g.value;this.emit("uploadprogress",_,_.upload.progress,_.upload.bytesSent)}}catch(e){h=!0,m=e}finally{try{f||null==y.return||y.return()}finally{if(h)throw m}}}else{var v=!0;o=100;var b=!0,E=!1,S=void 0;try{for(var j,C=e[Symbol.iterator]();!(b=(j=C.next()).done);b=!0){var w=j.value;100===w.upload.progress&&w.upload.bytesSent===w.upload.total||(v=!1),w.upload.progress=o,w.upload.bytesSent=w.upload.total}}catch(e){E=!0,S=e}finally{try{b||null==C.return||C.return()}finally{if(E)throw S}}if(v)return;var O=!0,I=!1,F=void 0;try{for(var A,x=e[Symbol.iterator]();!(O=(A=x.next()).done);O=!0){var D=A.value;this.emit("uploadprogress",D,o,D.upload.bytesSent)}}catch(e){I=!0,F=e}finally{try{O||null==x.return||x.return()}finally{if(I)throw F}}}}},{key:"_finishedUploading",value:function(e,n,o){var r;if(e[0].status!==t.CANCELED&&4===n.readyState){if("arraybuffer"!==n.responseType&&"blob"!==n.responseType&&(r=n.responseText,n.getResponseHeader("content-type")&&~n.getResponseHeader("content-type").indexOf("application/json")))try{r=JSON.parse(r)}catch(e){o=e,r="Invalid JSON response from server."}this._updateFilesUploadProgress(e),200<=n.status&&n.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],n)):this._finished(e,r,o):this._handleUploadError(e,n,r)}}},{key:"_handleUploadError",value:function(e,n,o){if(e[0].status!==t.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var r=this._getChunk(e[0],n);if(r.retries++<this.options.retryChunksLimit)return void this._uploadData(e,[r.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(e,o||this.options.dictResponseError.replace("{{statusCode}}",n.status),n)}}},{key:"submitRequest",value:function(e,t,n){e.send(t)}},{key:"_finished",value:function(e,n,o){var r=!0,s=!1,i=void 0;try{for(var l,a=e[Symbol.iterator]();!(r=(l=a.next()).done);r=!0){var u=l.value;u.status=t.SUCCESS,this.emit("success",u,n,o),this.emit("complete",u)}}catch(e){s=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(s)throw i}}if(this.options.uploadMultiple&&(this.emit("successmultiple",e,n,o),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(e,n,o){var r=!0,s=!1,i=void 0;try{for(var l,a=e[Symbol.iterator]();!(r=(l=a.next()).done);r=!0){var u=l.value;u.status=t.ERROR,this.emit("error",u,n,o),this.emit("complete",u)}}catch(e){s=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(s)throw i}}if(this.options.uploadMultiple&&(this.emit("errormultiple",e,n,o),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}}]),t}(f);h.initClass(),h.version="5.7.0",h.options={},h.optionsForElement=function(e){return e.getAttribute("id")?h.options[g(e.getAttribute("id"))]:void 0},h.instances=[],h.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},h.autoDiscover=!0,h.discover=function(){var e;if(document.querySelectorAll)e=document.querySelectorAll(".dropzone");else{e=[];var t=function(t){return function(){var n=[],o=!0,r=!1,s=void 0;try{for(var i,l=t[Symbol.iterator]();!(o=(i=l.next()).done);o=!0){var a=i.value;/(^| )dropzone($| )/.test(a.className)?n.push(e.push(a)):n.push(void 0)}}catch(e){r=!0,s=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw s}}return n}()};t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))}return function(){var t=[],n=!0,o=!1,r=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var l=s.value;!1!==h.optionsForElement(l)?t.push(new h(l)):t.push(void 0)}}catch(e){o=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}return t}()},h.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],h.isBrowserSupported=function(){var e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){var t=!0,n=!1,o=void 0;try{for(var r,s=h.blacklistedBrowsers[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var i=r.value;i.test(navigator.userAgent)&&(e=!1)}}catch(e){n=!0,o=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw o}}}else e=!1;else e=!1;return e},h.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(t.length),r=new Uint8Array(o),s=0,i=t.length,l=0<=i;l?s<=i:s>=i;l?s++:s--)r[s]=t.charCodeAt(s);return new Blob([o],{type:n})};var m=function(e,t){return e.filter(function(e){return e!==t}).map(function(e){return e})},g=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})};h.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},h.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},h.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector or a plain HTML element."));return n},h.getElements=function(e,t){var n,o;if(e instanceof Array){o=[];try{var r=!0,s=!1,i=void 0;try{for(var l,a=e[Symbol.iterator]();!(r=(l=a.next()).done);r=!0)n=l.value,o.push(this.getElement(n,t))}catch(e){s=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(s)throw i}}}catch(e){o=null}}else if("string"==typeof e){o=[];var u=!0,d=!1,c=void 0;try{for(var p,f=document.querySelectorAll(e)[Symbol.iterator]();!(u=(p=f.next()).done);u=!0)n=p.value,o.push(n)}catch(e){d=!0,c=e}finally{try{u||null==f.return||f.return()}finally{if(d)throw c}}}else null!=e.nodeType&&(o=[e]);if(null==o||!o.length)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return o},h.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},h.isValidFile=function(e,t){if(!t)return!0;t=t.split(",");var n=e.type,o=n.replace(/\/.*$/,""),r=!0,s=!1,i=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done);r=!0){var u=l.value;if(u=u.trim(),"."===u.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(u.toLowerCase(),e.name.length-u.length))return!0}else if(/\/\*$/.test(u)){if(o===u.replace(/\/.*$/,""))return!0}else if(n===u)return!0}}catch(e){s=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(s)throw i}}return!1},void 0!==e&&null!==e&&(e.fn.dropzone=function(e){return this.each(function(){return new h(this,e)})}),void 0!==t&&null!==t?t.exports=h:window.Dropzone=h,h.ADDED="added",h.QUEUED="queued",h.ACCEPTED=h.QUEUED,h.UPLOADING="uploading",h.PROCESSING=h.UPLOADING,h.CANCELED="canceled",h.ERROR="error",h.SUCCESS="success";var y=function(e){var t=(e.naturalWidth,e.naturalHeight),n=document.createElement("canvas");n.width=1,n.height=t;var o=n.getContext("2d");o.drawImage(e,0,0);for(var r=o.getImageData(1,0,1,t),s=r.data,i=0,l=t,a=t;a>i;)0===s[4*(a-1)+3]?l=a:i=a,a=l+i>>1;var u=a/t;return 0===u?1:u},_=function(e,t,n,o,r,s,i,l,a,u){var d=y(t);return e.drawImage(t,n,o,r,s,i,l,a,u/d)},v=function(){function e(){a(this,e)}return d(e,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(e){for(var t="",n=void 0,o=void 0,r="",s=void 0,i=void 0,l=void 0,a="",u=0;n=e[u++],o=e[u++],r=e[u++],s=n>>2,i=(3&n)<<4|o>>4,l=(15&o)<<2|r>>6,a=63&r,isNaN(o)?l=a=64:isNaN(r)&&(a=64),t=t+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(l)+this.KEY_STR.charAt(a),n=o=r="",s=i=l=a="",u<e.length;);return t}},{key:"restore",value:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var n=this.decode64(e.replace("data:image/jpeg;base64,","")),o=this.slice2Segments(n),r=this.exifManipulation(t,o);return"data:image/jpeg;base64,".concat(this.encode64(r))}},{key:"exifManipulation",value:function(e,t){var n=this.getExifArray(t),o=this.insertExif(e,n);return new Uint8Array(o)}},{key:"getExifArray",value:function(e){for(var t=void 0,n=0;n<e.length;){if(t=e[n],255===t[0]&225===t[1])return t;n++}return[]}},{key:"insertExif",value:function(e,t){var n=e.replace("data:image/jpeg;base64,",""),o=this.decode64(n),r=o.indexOf(255,3),s=o.slice(0,r),i=o.slice(r),l=s;return l=l.concat(t),l=l.concat(i)}},{key:"slice2Segments",value:function(e){for(var t=0,n=[];;){var o;if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{o=256*e[t+2]+e[t+3];var r=t+o+2,s=e.slice(t,r);n.push(s),t=r}if(t>e.length)break}return n}},{key:"decode64",value:function(e){var t=void 0,n=void 0,o="",r=void 0,s=void 0,i=void 0,l="",a=0,u=[],d=/[^A-Za-z0-9\+\/\=]/g;for(d.exec(e)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");r=this.KEY_STR.indexOf(e.charAt(a++)),s=this.KEY_STR.indexOf(e.charAt(a++)),i=this.KEY_STR.indexOf(e.charAt(a++)),l=this.KEY_STR.indexOf(e.charAt(a++)),t=r<<2|s>>4,n=(15&s)<<4|i>>2,o=(3&i)<<6|l,u.push(t),64!==i&&u.push(n),64!==l&&u.push(o),t=n=o="",r=s=i=l="",a<e.length;);return u}}]),e}();v.initClass(),h._autoDiscoverFunction=function(){if(h.autoDiscover)return h.discover()},function(e,t){var n=!1,o=!0,r=e.document,s=r.documentElement,i=r.addEventListener?"addEventListener":"attachEvent",l=r.addEventListener?"removeEventListener":"detachEvent",a=r.addEventListener?"":"on",u=function o(s){if("readystatechange"!==s.type||"complete"===r.readyState)return("load"===s.type?e:r)[l](a+s.type,o,!1),!n&&(n=!0)?t.call(e,s.type||s):void 0};if("complete"!==r.readyState){if(r.createEventObject&&s.doScroll){try{o=!e.frameElement}catch(e){}o&&function e(){try{s.doScroll("left")}catch(t){return void setTimeout(e,50)}return u("poll")}()}r[i](a+"DOMContentLoaded",u,!1),r[i](a+"readystatechange",u,!1),e[i](a+"load",u,!1)}}(window,h._autoDiscoverFunction)}).call(t,n(7),n("./node_modules/webpack/buildin/module.js")(e))},"./node_modules/expose-loader/index.js?InsertEmbedModal!./client/src/components/InsertEmbedModal/InsertEmbedModal.js-exposed":function(e,t,n){(function(t){e.exports=t.InsertEmbedModal=n('./node_modules/babel-loader/lib/index.js?{"presets":[["env",{"modules":false}],"react"],"plugins":["transform-object-rest-spread"],"comments":false,"cacheDirectory":false}!./client/src/components/InsertEmbedModal/InsertEmbedModal.js')}).call(t,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/expose-loader/index.js?InsertMediaModal!./client/src/containers/InsertMediaModal/InsertMediaModal.js-exposed":function(e,t,n){(function(t){e.exports=t.InsertMediaModal=n('./node_modules/babel-loader/lib/index.js?{"presets":[["env",{"modules":false}],"react"],"plugins":["transform-object-rest-spread"],"comments":false,"cacheDirectory":false}!./client/src/containers/InsertMediaModal/InsertMediaModal.js')}).call(t,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/fbjs/lib/emptyObject.js":function(e,t,n){"use strict";var o={};e.exports=o},"./node_modules/fbjs/lib/invariant.js":function(e,t,n){"use strict";function o(e,t,n,o,s,i,l,a){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,o,s,i,l,a],c=0;u=new Error(t.replace(/%s/g,function(){return d[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var r=function(e){};e.exports=o},"./node_modules/griddle-react/modules/columnProperties.js":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n("./node_modules/lodash/map.js"),i=n("./node_modules/lodash/filter.js"),l=n("./node_modules/lodash/find.js"),a=n("./node_modules/lodash/sortBy.js"),u=n("./node_modules/lodash/difference.js"),d=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],n=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],r=arguments.length<=2||void 0===arguments[2]?"children":arguments[2],s=arguments.length<=3||void 0===arguments[3]?[]:arguments[3],i=arguments.length<=4||void 0===arguments[4]?[]:arguments[4];o(this,e),this.allColumns=t,this.filteredColumns=n,this.childrenColumnName=r,this.columnMetadata=s,this.metadataColumns=i}return r(e,[{key:"getMetadataColumns",value:function(){var e=s(i(this.columnMetadata,{visible:!1}),function(e){return e.columnName});return e.indexOf(this.childrenColumnName)<0&&e.push(this.childrenColumnName),e.concat(this.metadataColumns)}},{key:"getVisibleColumnCount",value:function(){return this.getColumns().length}},{key:"getColumnMetadataByName",value:function(e){return l(this.columnMetadata,{columnName:e})}},{key:"hasColumnMetadata",value:function(){return null!==this.columnMetadata&&this.columnMetadata.length>0}},{key:"getMetadataColumnProperty",value:function(e,t,n){var o=this.getColumnMetadataByName(e);return void 0===o||null===o?n:o.hasOwnProperty(t)?o[t]:n}},{key:"orderColumns",value:function(e){var t=this;return a(e,function(e){var n=l(t.columnMetadata,{columnName:e});return void 0===n||null===n||isNaN(n.order)?100:n.order})}},{key:"getColumns",value:function(){var e=0===this.filteredColumns.length?this.allColumns:this.filteredColumns;return e=u(e,this.metadataColumns),e=this.orderColumns(e)}}]),e}();e.exports=d},"./node_modules/griddle-react/modules/customFilterContainer.jsx.js":function(e,t,n){"use strict";var o=n(0),r=n("./node_modules/create-react-class/index.js"),s=r({getDefaultProps:function(){return{placeholderText:""}},render:function(){var e=this;return"function"!=typeof e.props.customFilterComponent?(console.log("Couldn't find valid template."),o.createElement("div",null)):o.createElement(e.props.customFilterComponent,{changeFilter:this.props.changeFilter,results:this.props.results,currentResults:this.props.currentResults,placeholderText:this.props.placeholderText})}});e.exports=s},"./node_modules/griddle-react/modules/customPaginationContainer.jsx.js":function(e,t,n){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(0),s=n("./node_modules/create-react-class/index.js"),i=s({getDefaultProps:function(){return{maxPage:0,nextText:"",previousText:"",currentPage:0,customPagerComponent:{},customPagerComponentOptions:{}}},render:function(){var e=this;return"function"!=typeof e.props.customPagerComponent?(console.log("Couldn't find valid template."),r.createElement("div",null)):r.createElement(e.props.customPagerComponent,o({},this.props.customPagerComponentOptions,{maxPage:this.props.maxPage,nextText:this.props.nextText,previousText:this.props.previousText,currentPage:this.props.currentPage,setPage:this.props.setPage,previous:this.props.previous,next:this.props.next}))}});e.exports=i},"./node_modules/griddle-react/modules/customRowComponentContainer.jsx.js":function(e,t,n){"use strict";var o=n(0),r=n("./node_modules/create-react-class/index.js"),s=r({getDefaultProps:function(){return{data:[],metadataColumns:[],className:"",customComponent:{},globalData:{}}},render:function(){var e=this;if("function"!=typeof e.props.customComponent)return console.log("Couldn't find valid template."),o.createElement("div",{className:this.props.className});var t=this.props.data.map(function(t,n){return o.createElement(e.props.customComponent,{data:t,metadataColumns:e.props.metadataColumns,key:n,globalData:e.props.globalData})});return this.props.showPager&&this.props.pagingContent,o.createElement("div",{className:this.props.className,style:this.props.style},t)}});e.exports=s},"./node_modules/griddle-react/modules/deep.js":function(e,t,n){"use strict";function o(e){for(var t,n=/\[("|')(.+)\1\]|([^.\[\]]+)/g,o=[];null!==(t=n.exec(e));)o.push(t[2]||t[3]);return o}function r(e,t){if("string"==typeof t){if(void 0!==e[t])return e[t];t=o(t)}for(var n=-1,r=t.length;++n<r&&null!=e;)e=e[t[n]];return n===r?e:void 0}function s(e,t){var n,o={},s=e;n=function(e,t){return e in t},s=Object(s);for(var i=0,l=t.length;i<l;i++){var a=t[i];n(a,s)&&(o[a]=r(s,a))}return o}function i(e,t){var n=[];return u(e,function(e,o){var r=t?t+"."+o:o;!d(e)||c(e)||p(e)||e instanceof Date?n.push(r):n=n.concat(i(e,r))}),n}function l(e,t){c(e)?u(e,function(e){l(e,t)}):f(e)?h(e,function(e){l(e,t)}):t(e)}function a(e){var t=[];return l(e,function(e){t.push(e)}),t}var u=n("./node_modules/lodash/forEach.js"),d=n("./node_modules/lodash/isObject.js"),c=n("./node_modules/lodash/isArray.js"),p=n("./node_modules/lodash/isFunction.js"),f=n("./node_modules/lodash/isPlainObject.js"),h=n("./node_modules/lodash/forOwn.js");e.exports={pick:s,getAt:r,keys:i,getObjectValues:a}},"./node_modules/griddle-react/modules/gridFilter.jsx.js":function(e,t,n){"use strict";var o=n(0),r=n("./node_modules/create-react-class/index.js"),s=r({getDefaultProps:function(){return{placeholderText:""}},handleChange:function(e){this.props.changeFilter(e.target.value)},render:function(){return o.createElement("div",{className:"filter-container"},o.createElement("input",{type:"text",name:"filter",placeholder:this.props.placeholderText,className:"form-control",onChange:this.handleChange}))}});e.exports=s},"./node_modules/griddle-react/modules/gridNoData.jsx.js":function(e,t,n){"use strict";var o=n(0),r=n("./node_modules/create-react-class/index.js"),s=r({getDefaultProps:function(){return{noDataMessage:"No Data"}},render:function(){return o.createElement("div",null,this.props.noDataMessage)}});e.exports=s},"./node_modules/griddle-react/modules/gridPagination.jsx.js":function(e,t,n){"use strict";var o=n(0),r=n("./node_modules/create-react-class/index.js"),s=n("./node_modules/lodash/assign.js"),i=r({getDefaultProps:function(){return{maxPage:0,nextText:"",previousText:"",currentPage:0,useGriddleStyles:!0,nextClassName:"griddle-next",previousClassName:"griddle-previous",nextIconComponent:null,previousIconComponent:null}},pageChange:function(e){this.props.setPage(parseInt(e.target.value,10)-1)},render:function(){var e="",t="";this.props.currentPage>0&&(e=o.createElement("button",{type:"button",onClick:this.props.previous,style:this.props.useGriddleStyles?{color:"#222",border:"none",background:"none",margin:"0 0 0 10px"}:null},this.props.previousIconComponent,this.props.previousText)),this.props.currentPage!==this.props.maxPage-1&&(t=o.createElement("button",{type:"button",onClick:this.props.next,style:this.props.useGriddleStyles?{color:"#222",border:"none",background:"none",margin:"0 10px 0 0"}:null},this.props.nextText,this.props.nextIconComponent));var n=null,r=null,i=null;if(!0===this.props.useGriddleStyles){var l={float:"left",minHeight:"1px",marginTop:"5px"};i=s({textAlign:"right",width:"34%"},l),r=s({textAlign:"center",width:"33%"},l),n=s({width:"33%"},l)}for(var a=[],u=1;u<=this.props.maxPage;u++)a.push(o.createElement("option",{value:u,key:u},u));return o.createElement("div",{style:this.props.useGriddleStyles?{minHeight:"35px"}:null},o.createElement("div",{className:this.props.previousClassName,style:n},e),o.createElement("div",{className:"griddle-page",style:r},o.createElement("select",{value:this.props.currentPage+1,onChange:this.pageChange},a)," / ",this.props.maxPage),o.createElement("div",{className:this.props.nextClassName,style:i},t))}});e.exports=i},"./node_modules/griddle-react/modules/gridRow.jsx.js":function(e,t,n){"use strict";var o=n(0),r=n("./node_modules/create-react-class/index.js"),s=(n("./node_modules/griddle-react/modules/columnProperties.js"),n("./node_modules/griddle-react/modules/deep.js")),i=n("./node_modules/lodash/isFunction.js"),l=n("./node_modules/lodash/zipObject.js"),a=n("./node_modules/lodash/assign.js"),u=n("./node_modules/lodash/defaults.js"),d=n("./node_modules/lodash/toPairs.js"),c=n("./node_modules/lodash/without.js"),p=r({getDefaultProps:function(){return{isChildRow:!1,showChildren:!1,data:{},columnSettings:null,rowSettings:null,hasChildren:!1,useGriddleStyles:!0,useGriddleIcons:!0,isSubGriddle:!1,paddingHeight:null,rowHeight:null,parentRowCollapsedClassName:"parent-row",parentRowExpandedClassName:"parent-row expanded",parentRowCollapsedComponent:"▶",parentRowExpandedComponent:"▼",onRowClick:null,multipleSelectionSettings:null,onRowMouseEnter:null,onRowMouseLeave:null,onRowWillMount:null,onRowWillUnmount:null}},componentWillMount:function(){null!==this.props.onRowWillMount&&i(this.props.onRowWillMount)&&this.props.onRowWillMount(this)},componentWillUnmount:function(){null!==this.props.onRowWillUnmount&&i(this.props.onRowWillUnmount)&&this.props.onRowWillUnmount(this)},handleClick:function(e){null!==this.props.onRowClick&&i(this.props.onRowClick)?this.props.onRowClick(this,e):this.props.hasChildren&&this.props.toggleChildren()},handleMouseEnter:function(e){null!==this.props.onRowMouseEnter&&i(this.props.onRowMouseEnter)&&this.props.onRowMouseEnter(this,e)},handleMouseLeave:function(e){null!==this.props.onRowMouseLeave&&i(this.props.onRowMouseLeave)&&this.props.onRowMouseLeave(this,e)},handleSelectionChange:function(e){},handleSelectClick:function(e){this.props.multipleSelectionSettings.isMultipleSelection&&("checkbox"===e.target.type?this.props.multipleSelectionSettings.toggleSelectRow(this.props.data,this.refs.selected.checked):this.props.multipleSelectionSettings.toggleSelectRow(this.props.data,!this.refs.selected.checked))},verifyProps:function(){null===this.props.columnSettings&&console.error("gridRow: The columnSettings prop is null and it shouldn't be")},formatData:function(e){return"boolean"==typeof e?String(e):e},render:function(){var e=this;this.verifyProps();var t=this,n=null;this.props.useGriddleStyles&&(n={margin:"0px",padding:t.props.paddingHeight+"px 5px "+t.props.paddingHeight+"px 5px",height:t.props.rowHeight?this.props.rowHeight-2*t.props.paddingHeight+"px":null,backgroundColor:"#FFF",borderTopColor:"#DDD",color:"#222"});var r=this.props.columnSettings.getColumns(),p=l(r,[]),f=a({},this.props.data);u(f,p);var h,m,g=d(s.pick(f,c(r,"children"))),y=g.map(function(t,r){var s=null,i=e.props.columnSettings.getColumnMetadataByName(t[0]),l=0===r&&e.props.hasChildren&&!1===e.props.showChildren&&e.props.useGriddleIcons?o.createElement("span",{style:e.props.useGriddleStyles?{fontSize:"10px",marginRight:"5px"}:null},e.props.parentRowCollapsedComponent):0===r&&e.props.hasChildren&&e.props.showChildren&&e.props.useGriddleIcons?o.createElement("span",{style:e.props.useGriddleStyles?{fontSize:"10px"}:null},e.props.parentRowExpandedComponent):"";if(0===r&&e.props.isChildRow&&e.props.useGriddleStyles&&(n=a(n,{paddingLeft:10})),e.props.columnSettings.hasColumnMetadata()&&void 0!==i&&null!==i)if(void 0!==i.customComponent&&null!==i.customComponent){var u=o.createElement(i.customComponent,{data:t[1],rowData:f,metadata:i});s=o.createElement("td",{onClick:e.handleClick,onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,className:i.cssClassName,key:r,style:n},u)}else s=o.createElement("td",{onClick:e.handleClick,onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,className:i.cssClassName,key:r,style:n},l,e.formatData(t[1]));return s||o.createElement("td",{onClick:e.handleClick,onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,key:r,style:n},l,t[1])});null!==this.props.onRowClick&&i(this.props.onRowClick)?(h=null,m=this.handleSelectClick):this.props.multipleSelectionSettings&&this.props.multipleSelectionSettings.isMultipleSelection?(h=this.handleSelectClick,m=null):(h=null,m=null),y&&this.props.multipleSelectionSettings&&this.props.multipleSelectionSettings.isMultipleSelection&&(this.props.multipleSelectionSettings.getSelectedRowIds(),y.unshift(o.createElement("td",{key:"selection",style:n,className:"griddle-select griddle-select-cell",onClick:m},o.createElement("input",{type:"checkbox",checked:this.props.multipleSelectionSettings.getIsRowChecked(f),onChange:this.handleSelectionChange,ref:"selected"}))));var _=t.props.rowSettings&&t.props.rowSettings.getBodyRowMetadataClass(t.props.data)||"standard-row";return t.props.isChildRow?_="child-row":t.props.hasChildren&&(_=t.props.showChildren?this.props.parentRowExpandedClassName:this.props.parentRowCollapsedClassName),o.createElement("tr",{onClick:h,className:_},y)}});e.exports=p},"./node_modules/griddle-react/modules/gridRowContainer.jsx.js":function(e,t,n){"use strict";var o=n(0),r=n("./node_modules/create-react-class/index.js"),s=(n("./node_modules/griddle-react/modules/columnProperties.js"),n("./node_modules/lodash/pick.js")),i=r({getDefaultProps:function(){return{useGriddleStyles:!0,useGriddleIcons:!0,isSubGriddle:!1,columnSettings:null,rowSettings:null,paddingHeight:null,rowHeight:null,parentRowCollapsedClassName:"parent-row",parentRowExpandedClassName:"parent-row expanded",parentRowCollapsedComponent:"▶",parentRowExpandedComponent:"▼",onRowClick:null,onRowMouseEnter:null,onRowMouseLeave:null,onRowWillMount:null,onRowWillUnmount:null,multipleSelectionSettings:null}},getInitialState:function(){return{data:{},showChildren:!1}},componentWillReceiveProps:function(){this.setShowChildren(!1)},toggleChildren:function(){this.setShowChildren(!1===this.state.showChildren)},setShowChildren:function(e){this.setState({showChildren:e})},verifyProps:function(){null===this.props.columnSettings&&console.error("gridRowContainer: The columnSettings prop is null and it shouldn't be")},render:function(){this.verifyProps();var e=this;if(void 0===this.props.data)return o.createElement("tbody",null);var t=[],n=this.props.columnSettings.getColumns();t.push(o.createElement(this.props.rowSettings.rowComponent,{useGriddleStyles:this.props.useGriddleStyles,isSubGriddle:this.props.isSubGriddle,data:this.props.rowSettings.isCustom?s(this.props.data,n):this.props.data,rowData:this.props.rowSettings.isCustom?this.props.data:null,columnSettings:this.props.columnSettings,rowSettings:this.props.rowSettings,hasChildren:e.props.hasChildren,toggleChildren:e.toggleChildren,showChildren:e.state.showChildren,key:e.props.uniqueId+"_base_row",useGriddleIcons:e.props.useGriddleIcons,parentRowExpandedClassName:this.props.parentRowExpandedClassName,parentRowCollapsedClassName:this.props.parentRowCollapsedClassName,parentRowExpandedComponent:this.props.parentRowExpandedComponent,parentRowCollapsedComponent:this.props.parentRowCollapsedComponent,paddingHeight:e.props.paddingHeight,rowHeight:e.props.rowHeight,onRowClick:e.props.onRowClick,onRowMouseEnter:e.props.onRowMouseEnter,onRowMouseLeave:e.props.onRowMouseLeave,multipleSelectionSettings:this.props.multipleSelectionSettings,onRowWillMount:e.props.onRowWillMount,onRowWillUnmount:e.props.onRowWillUnmount}));var r=null;return e.state.showChildren&&(r=e.props.hasChildren&&this.props.data.children.map(function(t,n){var r=e.props.rowSettings.getRowKey(t,n);if(void 0!==t.children){var s=e.constructor.Griddle;return o.createElement("tr",{key:r,style:{paddingLeft:5}},o.createElement("td",{colSpan:e.props.columnSettings.getVisibleColumnCount(),className:"griddle-parent",style:e.props.useGriddleStyles?{border:"none",padding:"0 0 0 5px"}:null},o.createElement(s,{rowMetadata:{key:"id"},isSubGriddle:!0,results:[t],columns:e.props.columnSettings.getColumns(),tableClassName:e.props.tableClassName,parentRowExpandedClassName:e.props.parentRowExpandedClassName,parentRowCollapsedClassName:e.props.parentRowCollapsedClassName,showTableHeading:!1,showPager:!1,columnMetadata:e.props.columnSettings.columnMetadata,parentRowExpandedComponent:e.props.parentRowExpandedComponent,parentRowCollapsedComponent:e.props.parentRowCollapsedComponent,paddingHeight:e.props.paddingHeight,rowHeight:e.props.rowHeight})))}return o.createElement(e.props.rowSettings.rowComponent,{useGriddleStyles:e.props.useGriddleStyles,isSubGriddle:e.props.isSubGriddle,data:t,columnSettings:e.props.columnSettings,isChildRow:!0,columnMetadata:e.props.columnSettings.columnMetadata,key:r})})),!1===e.props.hasChildren?t[0]:o.createElement("tbody",null,e.state.showChildren?t.concat(r):t)}});e.exports=i},"./node_modules/griddle-react/modules/gridSettings.jsx.js":function(e,t,n){"use strict";var o=n(0),r=n("./node_modules/create-react-class/index.js"),s=n("./node_modules/lodash/includes.js"),i=n("./node_modules/lodash/without.js"),l=n("./node_modules/lodash/find.js"),a=r({getDefaultProps:function(){return{columns:[],columnMetadata:[],selectedColumns:[],settingsText:"",maxRowsText:"",resultsPerPage:0,enableToggleCustom:!1,useCustomComponent:!1,useGriddleStyles:!0,toggleCustomComponent:function(){}}},setPageSize:function(e){var t=parseInt(e.target.value,10);this.props.setPageSize(t)},handleChange:function(e){var t=e.target.dataset?e.target.dataset.name:e.target.getAttribute("data-name");!0===e.target.checked&&!1===s(this.props.selectedColumns,t)?(this.props.selectedColumns.push(t),this.props.setColumns(this.props.selectedColumns)):this.props.setColumns(i(this.props.selectedColumns,t))},render:function(){var e=this,t=[];!1===e.props.useCustomComponent&&(t=this.props.columns.map(function(t,n){var r=s(e.props.selectedColumns,t),i=l(e.props.columnMetadata,{columnName:t}),a=t;return void 0!==i&&void 0!==i.displayName&&null!=i.displayName&&(a=i.displayName),void 0!==i&&null!=i&&i.locked?o.createElement("div",{className:"column checkbox"},o.createElement("label",null,o.createElement("input",{type:"checkbox",disabled:!0,name:"check",checked:r,"data-name":t}),a)):void 0!==i&&null!=i&&void 0!==i.visible&&!1===i.visible?null:o.createElement("div",{className:"griddle-column-selection checkbox",key:t,style:e.props.useGriddleStyles?{float:"left",width:"20%"}:null},o.createElement("label",null,o.createElement("input",{type:"checkbox",name:"check",onChange:e.handleChange,checked:r,"data-name":t}),a))}));var n=e.props.enableToggleCustom?o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:"maxRows"},o.createElement("input",{type:"checkbox",checked:this.props.useCustomComponent,onChange:this.props.toggleCustomComponent})," ",this.props.enableCustomFormatText)):"",r=this.props.showSetPageSize?o.createElement("div",null,o.createElement("label",{htmlFor:"maxRows"},this.props.maxRowsText,":",o.createElement("select",{onChange:this.setPageSize,value:this.props.resultsPerPage},o.createElement("option",{value:"5"},"5"),o.createElement("option",{value:"10"},"10"),o.createElement("option",{value:"25"},"25"),o.createElement("option",{value:"50"},"50"),o.createElement("option",{value:"100"},"100")))):"";return o.createElement("div",{className:"griddle-settings",style:this.props.useGriddleStyles?{backgroundColor:"#FFF",border:"1px solid #DDD",color:"#222",padding:"10px",marginBottom:"10px"}:null},o.createElement("h6",null,this.props.settingsText),o.createElement("div",{className:"griddle-columns",style:this.props.useGriddleStyles?{clear:"both",display:"table",width:"100%",borderBottom:"1px solid #EDEDED",marginBottom:"10px"}:null},t),r,n)}});e.exports=a},"./node_modules/griddle-react/modules/gridTable.jsx.js":function(e,t,n){"use strict";var o=n(0),r=n("./node_modules/create-react-class/index.js"),s=n("./node_modules/griddle-react/modules/gridTitle.jsx.js"),i=n("./node_modules/griddle-react/modules/gridRowContainer.jsx.js"),l=(n("./node_modules/griddle-react/modules/columnProperties.js"),n("./node_modules/griddle-react/modules/rowProperties.js"),r({getDefaultProps:function(){return{data:[],columnSettings:null,rowSettings:null,sortSettings:null,multipleSelectionSettings:null,className:"",enableInfiniteScroll:!1,nextPage:null,hasMorePages:!1,useFixedHeader:!1,useFixedLayout:!0,paddingHeight:null,rowHeight:null,filterByColumn:null,infiniteScrollLoadTreshold:null,bodyHeight:null,useGriddleStyles:!0,useGriddleIcons:!0,isSubGriddle:!1,parentRowCollapsedClassName:"parent-row",parentRowExpandedClassName:"parent-row expanded",parentRowCollapsedComponent:"▶",parentRowExpandedComponent:"▼",externalLoadingComponent:null,externalIsLoading:!1,onRowClick:null,onRowMouseEnter:null,onRowMouseLeave:null,onRowWillMount:null,onRowWillUnmount:null}},getInitialState:function(){return{scrollTop:0,scrollHeight:this.props.bodyHeight,clientHeight:this.props.bodyHeight}},componentDidMount:function(){this.gridScroll()},componentDidUpdate:function(e,t){this.gridScroll()},gridScroll:function(){if(this.props.enableInfiniteScroll&&!this.props.externalIsLoading){var e=this.refs.scrollable,t=e.scrollTop,n=e.scrollHeight,o=e.clientHeight;if(null!==this.props.rowHeight&&this.state.scrollTop!==t&&Math.abs(this.state.scrollTop-t)>=this.getAdjustedRowHeight()){var r={scrollTop:t,scrollHeight:n,clientHeight:o};this.setState(r)}.6*(n-(t+o)-this.props.infiniteScrollLoadTreshold)<=this.props.infiniteScrollLoadTreshold&&this.props.nextPage()}},verifyProps:function(){null===this.props.columnSettings&&console.error("gridTable: The columnSettings prop is null and it shouldn't be"),null===this.props.rowSettings&&console.error("gridTable: The rowSettings prop is null and it shouldn't be")},getAdjustedRowHeight:function(){return this.props.rowHeight+2*this.props.paddingHeight},getNodeContent:function(){this.verifyProps();var e=this,t=!1;if(!this.props.externalIsLoading||this.props.enableInfiniteScroll){var n=e.props.data,r=null,s=null;if(this.props.enableInfiniteScroll&&null!==this.props.rowHeight&&void 0!==this.refs.scrollable){var l=e.getAdjustedRowHeight(),a=Math.ceil(e.state.clientHeight/l),u=Math.max(0,Math.floor(e.state.scrollTop/l)-.25*a),d=Math.min(u+1.25*a,this.props.data.length-1);n=n.slice(u,d+1);var c={height:u*l+"px"};r=o.createElement("tr",{key:"above-"+c.height,style:c});var p={height:(this.props.data.length-d)*l+"px"};s=o.createElement("tr",{key:"below-"+p.height,style:p})}var f=n.map(function(n,r){var s=void 0!==n.children&&n.children.length>0,l=e.props.rowSettings.getRowKey(n,r);return s&&(t=s),o.createElement(i,{useGriddleStyles:e.props.useGriddleStyles,isSubGriddle:e.props.isSubGriddle,parentRowExpandedClassName:e.props.parentRowExpandedClassName,parentRowCollapsedClassName:e.props.parentRowCollapsedClassName,parentRowExpandedComponent:e.props.parentRowExpandedComponent,parentRowCollapsedComponent:e.props.parentRowCollapsedComponent,data:n,key:l+"-container",uniqueId:l,columnSettings:e.props.columnSettings,rowSettings:e.props.rowSettings,paddingHeight:e.props.paddingHeight,multipleSelectionSettings:e.props.multipleSelectionSettings,rowHeight:e.props.rowHeight,hasChildren:s,tableClassName:e.props.className,onRowClick:e.props.onRowClick,onRowMouseEnter:e.props.onRowMouseEnter,onRowMouseLeave:e.props.onRowMouseLeave,onRowWillMount:e.props.onRowWillMount,onRowWillUnmount:e.props.onRowWillUnmount})});if(this.props.showNoData){var h=this.props.columnSettings.getVisibleColumnCount();f.push(o.createElement("tr",{key:"no-data-section"},o.createElement("td",{colSpan:h},this.props.noDataSection)))}return r&&f.unshift(r),s&&f.push(s),{nodes:f,anyHasChildren:t}}return null},render:function(){var e=[],t=!1,n=this.getNodeContent();n&&(e=n.nodes,t=n.anyHasChildren);var r=null,i=null,l={width:"100%"};if(this.props.useFixedLayout&&(l.tableLayout="fixed"),this.props.enableInfiniteScroll&&(r={position:"relative",overflowY:"scroll",height:this.props.bodyHeight+"px",width:"100%"}),this.props.externalIsLoading){var a=null,u=null;this.props.useGriddleStyles&&(a={textAlign:"center",paddingBottom:"40px"}),u=this.props.columnSettings.getVisibleColumnCount();var d=this.props.externalLoadingComponent?o.createElement(this.props.externalLoadingComponent,null):o.createElement("div",null,"Loading...");i=o.createElement("tbody",null,o.createElement("tr",null,o.createElement("td",{style:a,colSpan:u},d)))}var c=this.props.showTableHeading?o.createElement(s,{useGriddleStyles:this.props.useGriddleStyles,useGriddleIcons:this.props.useGriddleIcons,sortSettings:this.props.sortSettings,multipleSelectionSettings:this.props.multipleSelectionSettings,columnSettings:this.props.columnSettings,filterByColumn:this.props.filterByColumn,rowSettings:this.props.rowSettings}):void 0;t||(e=o.createElement("tbody",null,e));var p=o.createElement("tbody",null);if(this.props.showPager){var f=this.props.useGriddleStyles?{padding:"0px",backgroundColor:"#EDEDED",border:"0px",color:"#222",height:this.props.showNoData?"20px":null}:null;p=o.createElement("tbody",null,o.createElement("tr",null,o.createElement("td",{colSpan:this.props.multipleSelectionSettings.isMultipleSelection?this.props.columnSettings.getVisibleColumnCount()+1:this.props.columnSettings.getVisibleColumnCount(),style:f,className:"footer-container"},this.props.showNoData?null:this.props.pagingContent)))}return this.props.useFixedHeader?(this.props.useGriddleStyles&&(l.tableLayout="fixed"),o.createElement("div",null,o.createElement("table",{className:this.props.className,style:this.props.useGriddleStyles&&l||null},c),o.createElement("div",{ref:"scrollable",onScroll:this.gridScroll,style:r},o.createElement("table",{className:this.props.className,style:this.props.useGriddleStyles&&l||null},e,i,p)))):o.createElement("div",{ref:"scrollable",onScroll:this.gridScroll,style:r},o.createElement("table",{className:this.props.className,style:this.props.useGriddleStyles&&l||null},c,e,i,p))}}));e.exports=l},"./node_modules/griddle-react/modules/gridTitle.jsx.js":function(e,t,n){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(0),s=n("./node_modules/create-react-class/index.js"),i=(n("./node_modules/griddle-react/modules/columnProperties.js"),n("./node_modules/lodash/assign.js")),l=s({render:function(){return r.createElement("span",null,this.props.displayName)}}),a=s({getDefaultProps:function(){return{columnSettings:null,filterByColumn:function(){},rowSettings:null,sortSettings:null,multipleSelectionSettings:null,headerStyle:null,useGriddleStyles:!0,useGriddleIcons:!0,headerStyles:{}}},componentWillMount:function(){this.verifyProps()},sort:function(e){var t=this;return function(n){t.props.sortSettings.changeSort(e)}},toggleSelectAll:function(e){this.props.multipleSelectionSettings.toggleSelectAll()},handleSelectionChange:function(e){},verifyProps:function(){null===this.props.columnSettings&&console.error("gridTitle: The columnSettings prop is null and it shouldn't be"),null===this.props.sortSettings&&console.error("gridTitle: The sortSettings prop is null and it shouldn't be")},render:function(){this.verifyProps();var e=this,t={},n=this.props.columnSettings.getColumns().map(function(n,s){var a={},u="",d=e.props.columnSettings.getMetadataColumnProperty(n,"sortable",!0),c=d?e.props.sortSettings.sortDefaultComponent:null;e.props.sortSettings.sortColumn==n&&"asc"===e.props.sortSettings.sortDirection?(u=e.props.sortSettings.sortAscendingClassName,c=e.props.useGriddleIcons&&e.props.sortSettings.sortAscendingComponent):e.props.sortSettings.sortColumn==n&&"desc"===e.props.sortSettings.sortDirection&&(u+=e.props.sortSettings.sortDescendingClassName,c=e.props.useGriddleIcons&&e.props.sortSettings.sortDescendingComponent);var p=e.props.columnSettings.getColumnMetadataByName(n),f=e.props.columnSettings.getMetadataColumnProperty(n,"displayName",n),h=e.props.columnSettings.getMetadataColumnProperty(n,"customHeaderComponent",l),m=e.props.columnSettings.getMetadataColumnProperty(n,"customHeaderComponentProps",{});u=null==p?u:(u&&u+" "||u)+e.props.columnSettings.getMetadataColumnProperty(n,"cssClassName",""),e.props.useGriddleStyles&&(a={backgroundColor:"#EDEDEF",border:"0px",borderBottom:"1px solid #DDD",color:"#222",padding:"5px",cursor:d?"pointer":"default"}),t=p&&p.titleStyles?i({},a,p.titleStyles):i({},a);var g=f?"th":"td";return r.createElement(g,{onClick:d?e.sort(n):null,"data-title":n,className:u,key:n,style:t},r.createElement(h,o({columnName:n,displayName:f,filterByColumn:e.props.filterByColumn},m)),c)});n&&this.props.multipleSelectionSettings.isMultipleSelection&&n.unshift(r.createElement("th",{key:"selection",onClick:this.toggleSelectAll,style:t,className:"griddle-select griddle-select-title"},r.createElement("input",{type:"checkbox",checked:this.props.multipleSelectionSettings.getIsSelectAllChecked(),onChange:this.handleSelectionChange})));var s=e.props.rowSettings&&e.props.rowSettings.getHeaderRowMetadataClass()||null;return r.createElement("thead",null,r.createElement("tr",{className:s,style:this.props.headerStyles},n))}});e.exports=a},"./node_modules/griddle-react/modules/griddle.jsx.js":function(e,t,n){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(0),s=n(1),i=n("./node_modules/create-react-class/index.js"),l=n("./node_modules/griddle-react/modules/gridTable.jsx.js"),a=n("./node_modules/griddle-react/modules/gridFilter.jsx.js"),u=n("./node_modules/griddle-react/modules/gridPagination.jsx.js"),d=n("./node_modules/griddle-react/modules/gridSettings.jsx.js"),c=n("./node_modules/griddle-react/modules/gridNoData.jsx.js"),p=n("./node_modules/griddle-react/modules/gridRow.jsx.js"),f=n("./node_modules/griddle-react/modules/gridRowContainer.jsx.js"),h=n("./node_modules/griddle-react/modules/customRowComponentContainer.jsx.js"),m=n("./node_modules/griddle-react/modules/customPaginationContainer.jsx.js"),g=n("./node_modules/griddle-react/modules/customFilterContainer.jsx.js"),y=n("./node_modules/griddle-react/modules/columnProperties.js"),_=n("./node_modules/griddle-react/modules/rowProperties.js"),v=n("./node_modules/griddle-react/modules/deep.js"),b=n("./node_modules/lodash/drop.js"),E=n("./node_modules/lodash/dropRight.js"),S=n("./node_modules/lodash/find.js"),j=n("./node_modules/lodash/take.js"),C=n("./node_modules/lodash/forEach.js"),w=n("./node_modules/lodash/initial.js"),O=n("./node_modules/lodash/intersection.js"),I=n("./node_modules/lodash/isArray.js"),F=n("./node_modules/lodash/isEmpty.js"),A=n("./node_modules/lodash/isNull.js"),x=n("./node_modules/lodash/isUndefined.js"),D=n("./node_modules/lodash/omit.js"),P=n("./node_modules/lodash/map.js"),k=n("./node_modules/lodash/assign.js"),T=n("./node_modules/lodash/filter.js"),N=n("./node_modules/lodash/orderBy.js"),R=(n("./node_modules/lodash/property.js"),n("./node_modules/lodash/get.js")),M=n("./node_modules/lodash/some.js"),L=i({statics:{GridTable:l,GridFilter:a,GridPagination:u,GridSettings:d,GridRow:p},columnSettings:null,rowSettings:null,getDefaultProps:function(){return{columns:[],gridMetadata:null,columnMetadata:[],rowMetadata:null,results:[],initialSort:"",gridClassName:"",tableClassName:"",customRowComponentClassName:"",settingsText:"Settings",filterPlaceholderText:"Filter Results",nextText:"Next",previousText:"Previous",maxRowsText:"Rows per page",enableCustomFormatText:"Enable Custom Formatting",childrenColumnName:"children",metadataColumns:[],showFilter:!1,showSettings:!1,useCustomRowComponent:!1,useCustomGridComponent:!1,useCustomPagerComponent:!1,useCustomFilterer:!1,useCustomFilterComponent:!1,useGriddleStyles:!0,useGriddleIcons:!0,customRowComponent:null,customGridComponent:null,customPagerComponent:{},customFilterComponent:null,customFilterer:null,globalData:null,enableToggleCustom:!1,noDataMessage:"There is no data to display.",noDataClassName:"griddle-nodata",customNoDataComponent:null,customNoDataComponentProps:null,allowEmptyGrid:!1,showTableHeading:!0,showPager:!0,useFixedHeader:!1,useExternal:!1,externalSetPage:null,externalChangeSort:null,externalSetFilter:null,externalSetPageSize:null,externalMaxPage:null,externalCurrentPage:null,externalSortColumn:null,externalSortAscending:!0,externalLoadingComponent:null,externalIsLoading:!1,enableInfiniteScroll:!1,bodyHeight:null,paddingHeight:5,rowHeight:25,infiniteScrollLoadTreshold:50,useFixedLayout:!0,isSubGriddle:!1,enableSort:!0,onRowClick:null,onRowMouseEnter:null,onRowMouseLeave:null,onRowWillMount:null,onRowWillUnmount:null,sortAscendingClassName:"sort-ascending",sortDescendingClassName:"sort-descending",parentRowCollapsedClassName:"parent-row",parentRowExpandedClassName:"parent-row expanded",settingsToggleClassName:"settings",nextClassName:"griddle-next",previousClassName:"griddle-previous",headerStyles:{},sortAscendingComponent:" ▲",sortDescendingComponent:" ▼",sortDefaultComponent:null,parentRowCollapsedComponent:"▶",parentRowExpandedComponent:"▼",settingsIconComponent:"",nextIconComponent:"",previousIconComponent:"",isMultipleSelection:!1,selectedRowIds:[],uniqueIdentifier:"id",onSelectionChange:null,columnFilterFunc:null}},propTypes:{isMultipleSelection:s.bool,selectedRowIds:s.oneOfType([s.arrayOf(s.number),s.arrayOf(s.string)]),uniqueIdentifier:s.string,onSelectionChange:s.func,columnFilterFunc:s.func},defaultFilter:function(e,t){var n=this;return T(e,function(e){for(var o=v.keys(e),r=0;r<o.length;r++)if(n.columnSettings.getMetadataColumnProperty(o[r],"filterable",!0)&&(v.getAt(e,o[r])||"").toString().toLowerCase().indexOf(t.toLowerCase())>=0)return!0;return!1})},defaultColumnFilter:function(e,t,n){var o=P(I(n)?n:[n],function(e){return(e||"").toLowerCase()});return M(v.getObjectValues(t),function(e){return e=e.toString().toLowerCase(),M(o,function(t){return e.indexOf(t)>=0})})},filterByColumnFilters:function(e){var t=this.props.columnFilterFunc||this.defaultColumnFilter,n=Object.keys(e).reduce(function(n,o){return T(n,function(n){var r=v.getAt(n,o||""),s=e[o];return t(o||"",r,s)})},this.props.results),o={columnFilters:e};e?(o.filteredResults=n,o.maxPage=this.getMaxPage(o.filteredResults)):this.state.filter?o.filteredResults=this.props.useCustomFilterer?this.props.customFilterer(this.props.results,filter):this.defaultFilter(this.props.results,filter):o.filteredResults=null,this.setState(o)},filterByColumn:function(e,t){var n=this.state.columnFilters;if(n.hasOwnProperty(t)&&!e)n=D(n,t);else{var o={};o[t]=e,n=k({},n,o)}this.filterByColumnFilters(n)},setFilter:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(this.props.useExternal)return void this.props.externalSetFilter(e);var n=this,o={page:0,filter:e};o.filteredResults=this.props.useCustomFilterer?this.props.customFilterer(t||this.props.results,e):this.defaultFilter(t||this.props.results,e),o.maxPage=n.getMaxPage(o.filteredResults),(x(e)||A(e)||F(e))&&(o.filter=e,o.filteredResults=null),n.setState(o),this._resetSelectedRows()},setPageSize:function(e){if(this.props.useExternal)return this.setState({resultsPerPage:e}),void this.props.externalSetPageSize(e);this.state.resultsPerPage=e,this.setMaxPage()},toggleColumnChooser:function(){this.setState({showColumnChooser:!this.state.showColumnChooser})},isNullOrUndefined:function(e){return void 0===e||null===e},shouldUseCustomRowComponent:function(){return this.isNullOrUndefined(this.state.useCustomRowComponent)?this.props.useCustomRowComponent:this.state.useCustomRowComponent},shouldUseCustomGridComponent:function(){return this.isNullOrUndefined(this.state.useCustomGridComponent)?this.props.useCustomGridComponent:this.state.useCustomGridComponent},toggleCustomComponent:function(){"grid"===this.state.customComponentType?this.setState({useCustomGridComponent:!this.shouldUseCustomGridComponent()}):"row"===this.state.customComponentType&&this.setState({useCustomRowComponent:!this.shouldUseCustomRowComponent()})},getMaxPage:function(e,t){return this.props.useExternal?this.props.externalMaxPage:(t||(t=(e||this.getCurrentResults()).length),Math.ceil(t/this.state.resultsPerPage))},setMaxPage:function(e){var t=this.getMaxPage(e);this.state.maxPage!==t&&this.setState({page:0,maxPage:t,filteredColumns:this.columnSettings.filteredColumns})},setPage:function(e){if(this.props.useExternal)return void this.props.externalSetPage(e);if(e*this.state.resultsPerPage<=this.state.resultsPerPage*this.state.maxPage){var t=this,n={page:e};t.setState(n)}this.props.enableInfiniteScroll&&this.setState({isSelectAllChecked:!1})},setColumns:function(e){this.columnSettings.filteredColumns=I(e)?e:[e],this.setState({filteredColumns:this.columnSettings.filteredColumns})},nextPage:function(){var e=this.getCurrentPage();e<this.getCurrentMaxPage()-1&&this.setPage(e+1)},previousPage:function(){var e=this.getCurrentPage();e>0&&this.setPage(e-1)},changeSort:function(e){if(!1!==this.props.enableSort){if(this.props.useExternal){var t=this.props.externalSortColumn!==e||!this.props.externalSortAscending;return this.setState({sortColumn:e,sortDirection:t?"asc":"desc"}),void this.props.externalChangeSort(e,t)}var n=S(this.props.columnMetadata,{columnName:e})||{},o=n.sortDirectionCycle?n.sortDirectionCycle:[null,"asc","desc"],r=null,s=o.indexOf(this.state.sortDirection&&e===this.state.sortColumn?this.state.sortDirection:null);s=(s+1)%o.length,r=o[s]?o[s]:null;var i={page:0,sortColumn:e,sortDirection:r};this.setState(i)}},componentWillReceiveProps:function(e){if(e.results!==this.props.results&&this.setFilter(this.state.filter,e.results),this.setMaxPage(e.results),e.resultsPerPage!==this.props.resultsPerPage&&this.setPageSize(e.resultsPerPage),this.columnSettings.columnMetadata=e.columnMetadata,e.results.length>0){var t=v.keys(e.results[0]);this.columnSettings.allColumns.length==t.length&&this.columnSettings.allColumns.every(function(e,n){return e===t[n]})||(this.columnSettings.allColumns=t)}else this.columnSettings.allColumns.length>0&&(this.columnSettings.allColumns=[]);if(e.selectedRowIds){var n=this.getDataForRender(this.getCurrentResults(e.results),this.columnSettings.getColumns(),!0);this.setState({isSelectAllChecked:this._getAreAllRowsChecked(e.selectedRowIds,P(n,this.props.uniqueIdentifier)),selectedRowIds:e.selectedRowIds})}},getInitialState:function(){return{maxPage:0,page:0,filteredResults:null,filteredColumns:[],filter:"",columnFilters:{},resultsPerPage:this.props.resultsPerPage||5,showColumnChooser:!1,isSelectAllChecked:!1,selectedRowIds:this.props.selectedRowIds}},componentWillMount:function(){this.verifyExternal(),this.verifyCustom(),this.columnSettings=new y(this.props.results.length>0?v.keys(this.props.results[0]):[],this.props.columns,this.props.childrenColumnName,this.props.columnMetadata,this.props.metadataColumns),this.rowSettings=new _(this.props.rowMetadata,this.props.useCustomTableRowComponent&&this.props.customTableRowComponent?this.props.customTableRowComponent:p,this.props.useCustomTableRowComponent),this.props.initialSort&&(this.props.useExternal?this.setState({sortColumn:this.props.externalSortColumn,sortDirection:this.props.externalSortAscending?"asc":"desc"}):this.changeSort(this.props.initialSort)),this.setMaxPage(),this.shouldUseCustomGridComponent()?this.setState({customComponentType:"grid"}):this.shouldUseCustomRowComponent()?this.setState({customComponentType:"row"}):this.setState({filteredColumns:this.columnSettings.filteredColumns})},componentDidMount:function(){if(this.props.componentDidMount&&"function"==typeof this.props.componentDidMount)return this.props.componentDidMount()},componentDidUpdate:function(){if(this.props.componentDidUpdate&&"function"==typeof this.props.componentDidUpdate)return this.props.componentDidUpdate(this.state)},verifyExternal:function(){!0===this.props.useExternal&&(null===this.props.externalSetPage&&console.error("useExternal is set to true but there is no externalSetPage function specified."),null===this.props.externalChangeSort&&console.error("useExternal is set to true but there is no externalChangeSort function specified."),null===this.props.externalSetFilter&&console.error("useExternal is set to true but there is no externalSetFilter function specified."),null===this.props.externalSetPageSize&&console.error("useExternal is set to true but there is no externalSetPageSize function specified."),null===this.props.externalMaxPage&&console.error("useExternal is set to true but externalMaxPage is not set."),null===this.props.externalCurrentPage&&console.error("useExternal is set to true but externalCurrentPage is not set. Griddle will not page correctly without that property when using external data."))},verifyCustom:function(){!0===this.props.useCustomGridComponent&&null===this.props.customGridComponent&&console.error("useCustomGridComponent is set to true but no custom component was specified."),!0===this.props.useCustomRowComponent&&null===this.props.customRowComponent&&console.error("useCustomRowComponent is set to true but no custom component was specified."),!0===this.props.useCustomGridComponent&&!0===this.props.useCustomRowComponent&&console.error("Cannot currently use both customGridComponent and customRowComponent."),!0===this.props.useCustomFilterer&&null===this.props.customFilterer&&console.error("useCustomFilterer is set to true but no custom filter function was specified."),!0===this.props.useCustomFilterComponent&&null===this.props.customFilterComponent&&console.error("useCustomFilterComponent is set to true but no customFilterComponent was specified.")},getDataForRender:function(e,t,n){var o=this,r=this;if(!this.props.useExternal){if(""!==this.state.sortColumn){var s,i=this.state.sortColumn,l=T(this.props.columnMetadata,{columnName:i}),a={columns:[],orders:[]};if(l.length>0&&(s=l[0].hasOwnProperty("customCompareFn")&&l[0].customCompareFn,l[0].multiSort&&(a=l[0].multiSort)),this.state.sortDirection)if("function"==typeof s)2===s.length?(e=e.sort(function(e,t){return s(R(e,i),R(t,i))}),"desc"===this.state.sortDirection&&e.reverse()):1===s.length&&(e=N(e,function(e){return s(R(e,i))},[this.state.sortDirection]));else{var u=[function(e){return(R(e,i)||"").toString().toLowerCase()}],d=[this.state.sortDirection];a.columns.forEach(function(e,t){u.push(function(t){return(R(t,e)||"").toString().toLowerCase()}),"asc"===a.orders[t]||"desc"===a.orders[t]?d.push(a.orders[t]):d.push(o.state.sortDirection)}),e=N(e,u,d)}}var c=this.getCurrentPage();if(!this.props.useExternal&&n&&this.state.resultsPerPage*(c+1)<=this.state.resultsPerPage*this.state.maxPage&&c>=0)if(this.isInfiniteScrollEnabled())e=j(e,(c+1)*this.state.resultsPerPage);else{var p=b(e,c*this.state.resultsPerPage);e=(E||w)(p,p.length-this.state.resultsPerPage)}}for(var f=[],h=0;h<e.length;h++){var m=e[h];void 0!==m[r.props.childrenColumnName]&&m[r.props.childrenColumnName].length>0&&(m.children=r.getDataForRender(m[r.props.childrenColumnName],t,!1),"children"!==r.props.childrenColumnName&&delete m[r.props.childrenColumnName]),f.push(m)}return f},getCurrentResults:function(e){return this.state.filteredResults||e||this.props.results},getCurrentPage:function(){return this.props.externalCurrentPage||this.state.page},getCurrentSort:function(){return this.props.useExternal?this.props.externalSortColumn:this.state.sortColumn},getCurrentSortAscending:function(){return this.props.useExternal?this.props.externalSortAscending:"asc"===this.state.sortDirection},getCurrentMaxPage:function(){return this.props.useExternal?this.props.externalMaxPage:this.state.maxPage},getSortObject:function(){return{enableSort:this.props.enableSort,changeSort:this.changeSort,sortColumn:this.getCurrentSort(),sortAscending:this.getCurrentSortAscending(),sortDirection:this.state.sortDirection,sortAscendingClassName:this.props.sortAscendingClassName,sortDescendingClassName:this.props.sortDescendingClassName,sortAscendingComponent:this.props.sortAscendingComponent,sortDescendingComponent:this.props.sortDescendingComponent,sortDefaultComponent:this.props.sortDefaultComponent}},_toggleSelectAll:function(){var e=this.getDataForRender(this.getCurrentResults(),this.columnSettings.getColumns(),!0),t=!this.state.isSelectAllChecked,n=JSON.parse(JSON.stringify(this.state.selectedRowIds)),o=this;C(e,function(e){o._updateSelectedRowIds(e[o.props.uniqueIdentifier],n,t)},this),this.setState({isSelectAllChecked:t,selectedRowIds:n}),this.props.onSelectionChange&&this.props.onSelectionChange(n,t)},_toggleSelectRow:function(e,t){var n=this.getDataForRender(this.getCurrentResults(),this.columnSettings.getColumns(),!0),o=JSON.parse(JSON.stringify(this.state.selectedRowIds));this._updateSelectedRowIds(e[this.props.uniqueIdentifier],o,t);var r=this._getAreAllRowsChecked(o,P(n,this.props.uniqueIdentifier));this.setState({isSelectAllChecked:r,selectedRowIds:o}),this.props.onSelectionChange&&this.props.onSelectionChange(o,r)},_updateSelectedRowIds:function(e,t,n){n?void 0===S(t,function(t){return e===t})&&t.push(e):t.splice(t.indexOf(e),1)},_getIsSelectAllChecked:function(){return this.state.isSelectAllChecked},_getAreAllRowsChecked:function(e,t){return t.length===O(t,e).length},_getIsRowChecked:function(e){return this.state.selectedRowIds.indexOf(e[this.props.uniqueIdentifier])>-1},getSelectedRowIds:function(){return this.state.selectedRowIds},_resetSelectedRows:function(){this.setState({isSelectAllChecked:!1,selectedRowIds:[]})},getMultipleSelectionObject:function(){return{isMultipleSelection:!S(this.props.results,function(e){return"children"in e})&&this.props.isMultipleSelection,toggleSelectAll:this._toggleSelectAll,getIsSelectAllChecked:this._getIsSelectAllChecked,toggleSelectRow:this._toggleSelectRow,getSelectedRowIds:this.getSelectedRowIds,getIsRowChecked:this._getIsRowChecked}},isInfiniteScrollEnabled:function(){return!this.props.useCustomPagerComponent&&this.props.enableInfiniteScroll},getClearFixStyles:function(){return{clear:"both",display:"table",width:"100%"}},getSettingsStyles:function(){return{float:"left",width:"50%",textAlign:"right"}},getFilterStyles:function(){return{float:"left",width:"50%",textAlign:"left",color:"#222",minHeight:"1px"}},getFilter:function(){return this.props.showFilter&&!1===this.shouldUseCustomGridComponent()?this.props.useCustomFilterComponent?r.createElement(g,{changeFilter:this.setFilter,placeholderText:this.props.filterPlaceholderText,customFilterComponent:this.props.customFilterComponent,results:this.props.results,currentResults:this.getCurrentResults()}):r.createElement(a,{changeFilter:this.setFilter,placeholderText:this.props.filterPlaceholderText}):""},getSettings:function(){return this.props.showSettings?r.createElement("button",{type:"button",className:this.props.settingsToggleClassName,onClick:this.toggleColumnChooser,style:this.props.useGriddleStyles?{background:"none",border:"none",padding:0,margin:0,fontSize:14}:null},this.props.settingsText,this.props.settingsIconComponent):""},getTopSection:function(e,t){if(!1===this.props.showFilter&&!1===this.props.showSettings)return"";var n=null,o=null,s=null;return this.props.useGriddleStyles&&(n=this.getFilterStyles(),o=this.getSettingsStyles(),s=this.getClearFixStyles()),r.createElement("div",{className:"top-section",style:s},r.createElement("div",{className:"griddle-filter",style:n},e),r.createElement("div",{className:"griddle-settings-toggle",style:o},t))},getPagingSection:function(e,t){if(!1!==(this.props.showPager&&!this.isInfiniteScrollEnabled()&&!this.shouldUseCustomGridComponent()))return r.createElement("div",{className:"griddle-footer"},this.props.useCustomPagerComponent?r.createElement(m,{customPagerComponentOptions:this.props.customPagerComponentOptions,next:this.nextPage,previous:this.previousPage,currentPage:e,maxPage:t,setPage:this.setPage,nextText:this.props.nextText,previousText:this.props.previousText,customPagerComponent:this.props.customPagerComponent}):r.createElement(u,{useGriddleStyles:this.props.useGriddleStyles,next:this.nextPage,previous:this.previousPage,nextClassName:this.props.nextClassName,nextIconComponent:this.props.nextIconComponent,previousClassName:this.props.previousClassName,previousIconComponent:this.props.previousIconComponent,currentPage:e,maxPage:t,setPage:this.setPage,nextText:this.props.nextText,previousText:this.props.previousText}))},getColumnSelectorSection:function(e,t){return this.state.showColumnChooser?r.createElement(d,{columns:e,selectedColumns:t,setColumns:this.setColumns,settingsText:this.props.settingsText,settingsIconComponent:this.props.settingsIconComponent,maxRowsText:this.props.maxRowsText,setPageSize:this.setPageSize,showSetPageSize:!this.shouldUseCustomGridComponent(),resultsPerPage:this.state.resultsPerPage,enableToggleCustom:this.props.enableToggleCustom,toggleCustomComponent:this.toggleCustomComponent,useCustomComponent:this.shouldUseCustomRowComponent()||this.shouldUseCustomGridComponent(),useGriddleStyles:this.props.useGriddleStyles,enableCustomFormatText:this.props.enableCustomFormatText,columnMetadata:this.props.columnMetadata}):""},getCustomGridSection:function(){return r.createElement(this.props.customGridComponent,o({data:this.props.results,className:this.props.customGridComponentClassName},this.props.gridMetadata))},getCustomRowSection:function(e,t,n,o,s){return r.createElement("div",null,r.createElement(h,{data:e,columns:t,metadataColumns:n,globalData:s,className:this.props.customRowComponentClassName,customComponent:this.props.customRowComponent,style:this.props.useGriddleStyles?this.getClearFixStyles():null}),this.props.showPager&&o)},getStandardGridSection:function(e,t,n,o,s){var i=this.getSortObject(),a=this.getMultipleSelectionObject(),u=this.shouldShowNoDataSection(e),d=this.getNoDataSection();return r.createElement("div",{className:"griddle-body"},r.createElement(l,{useGriddleStyles:this.props.useGriddleStyles,noDataSection:d,showNoData:u,columnSettings:this.columnSettings,rowSettings:this.rowSettings,sortSettings:i,multipleSelectionSettings:a,filterByColumn:this.filterByColumn,isSubGriddle:this.props.isSubGriddle,useGriddleIcons:this.props.useGriddleIcons,useFixedLayout:this.props.useFixedLayout,showPager:this.props.showPager,pagingContent:o,data:e,className:this.props.tableClassName,enableInfiniteScroll:this.isInfiniteScrollEnabled(),nextPage:this.nextPage,showTableHeading:this.props.showTableHeading,useFixedHeader:this.props.useFixedHeader,parentRowCollapsedClassName:this.props.parentRowCollapsedClassName,parentRowExpandedClassName:this.props.parentRowExpandedClassName,parentRowCollapsedComponent:this.props.parentRowCollapsedComponent,parentRowExpandedComponent:this.props.parentRowExpandedComponent,bodyHeight:this.props.bodyHeight,paddingHeight:this.props.paddingHeight,rowHeight:this.props.rowHeight,infiniteScrollLoadTreshold:this.props.infiniteScrollLoadTreshold,externalLoadingComponent:this.props.externalLoadingComponent,externalIsLoading:this.props.externalIsLoading,hasMorePages:s,onRowClick:this.props.onRowClick,onRowMouseEnter:this.props.onRowMouseEnter,onRowMouseLeave:this.props.onRowMouseLeave,onRowWillMount:this.props.onRowWillMount,onRowWillUnmount:this.props.onRowWillUnmount}))},getContentSection:function(e,t,n,o,r,s){return this.shouldUseCustomGridComponent()&&null!==this.props.customGridComponent?this.getCustomGridSection():this.shouldUseCustomRowComponent()?this.getCustomRowSection(e,t,n,o,s):this.getStandardGridSection(e,t,n,o,r)},getNoDataSection:function(){return null!=this.props.customNoDataComponent?r.createElement("div",{className:this.props.noDataClassName},r.createElement(this.props.customNoDataComponent,this.props.customNoDataComponentProps)):r.createElement(c,{noDataMessage:this.props.noDataMessage})},shouldShowNoDataSection:function(e){return!this.props.allowEmptyGrid&&(!1===this.props.useExternal&&(void 0===e||0===e.length)||!0===this.props.useExternal&&!1===this.props.externalIsLoading&&0===e.length)},render:function(){var e=this.getCurrentResults(),t=(this.props.tableClassName,this.getFilter()),n=this.getSettings(),o=this.getTopSection(t,n),s=[],i=this.columnSettings.getColumns(),l=this.getDataForRender(e,i,!0),a=this.columnSettings.getMetadataColumns();this.props.columnMetadata?C(this.props.columnMetadata,function(e){"boolean"==typeof e.visible&&!1===e.visible||s.push(e.columnName)}):s=v.keys(D(e[0],a)),s=this.columnSettings.orderColumns(s);var u=this.getCurrentPage(),d=this.getCurrentMaxPage(),c=u+1<d,p=this.getPagingSection(u,d),f=this.getContentSection(l,i,a,p,c,this.props.globalData),h=this.getColumnSelectorSection(s,i),m=this.props.gridClassName.length>0?"griddle "+this.props.gridClassName:"griddle";return m+=this.shouldUseCustomRowComponent()?" griddle-custom":"",r.createElement("div",{className:m},o,h,r.createElement("div",{className:"griddle-container",style:this.props.useGriddleStyles&&!this.props.isSubGriddle?{border:"1px solid #DDD"}:null},f))}});f.Griddle=e.exports=L},"./node_modules/griddle-react/modules/rowProperties.js":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n("./node_modules/lodash/uniqueId.js"),i=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];o(this,e),this.rowMetadata=t,this.rowComponent=n,this.isCustom=r}return r(e,[{key:"getRowKey",value:function(e,t){return this.hasRowMetadataKey()?e[this.rowMetadata.key]:s("grid_row")}},{key:"hasRowMetadataKey",value:function(){return this.hasRowMetadata()&&null!==this.rowMetadata.key&&void 0!==this.rowMetadata.key}},{key:"getBodyRowMetadataClass",value:function(e){return this.hasRowMetadata()&&null!==this.rowMetadata.bodyCssClassName&&void 0!==this.rowMetadata.bodyCssClassName?"function"==typeof this.rowMetadata.bodyCssClassName?this.rowMetadata.bodyCssClassName(e):this.rowMetadata.bodyCssClassName:null}},{key:"getHeaderRowMetadataClass",value:function(){return this.hasRowMetadata()&&null!==this.rowMetadata.headerCssClassName&&void 0!==this.rowMetadata.headerCssClassName?this.rowMetadata.headerCssClassName:null}},{key:"hasRowMetadata",value:function(){return null!==this.rowMetadata}}]),e}();e.exports=i},"./node_modules/lodash/_DataView.js":function(e,t,n){var o=n("./node_modules/lodash/_getNative.js"),r=n("./node_modules/lodash/_root.js"),s=o(r,"DataView");e.exports=s},"./node_modules/lodash/_Hash.js":function(e,t,n){function o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var r=n("./node_modules/lodash/_hashClear.js"),s=n("./node_modules/lodash/_hashDelete.js"),i=n("./node_modules/lodash/_hashGet.js"),l=n("./node_modules/lodash/_hashHas.js"),a=n("./node_modules/lodash/_hashSet.js");o.prototype.clear=r,o.prototype.delete=s,o.prototype.get=i,o.prototype.has=l,o.prototype.set=a,e.exports=o},"./node_modules/lodash/_ListCache.js":function(e,t,n){function o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var r=n("./node_modules/lodash/_listCacheClear.js"),s=n("./node_modules/lodash/_listCacheDelete.js"),i=n("./node_modules/lodash/_listCacheGet.js"),l=n("./node_modules/lodash/_listCacheHas.js"),a=n("./node_modules/lodash/_listCacheSet.js");o.prototype.clear=r,o.prototype.delete=s,o.prototype.get=i,o.prototype.has=l,o.prototype.set=a,e.exports=o},"./node_modules/lodash/_Map.js":function(e,t,n){var o=n("./node_modules/lodash/_getNative.js"),r=n("./node_modules/lodash/_root.js"),s=o(r,"Map");e.exports=s},"./node_modules/lodash/_MapCache.js":function(e,t,n){function o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var r=n("./node_modules/lodash/_mapCacheClear.js"),s=n("./node_modules/lodash/_mapCacheDelete.js"),i=n("./node_modules/lodash/_mapCacheGet.js"),l=n("./node_modules/lodash/_mapCacheHas.js"),a=n("./node_modules/lodash/_mapCacheSet.js");o.prototype.clear=r,o.prototype.delete=s,o.prototype.get=i,o.prototype.has=l,o.prototype.set=a,e.exports=o},"./node_modules/lodash/_Promise.js":function(e,t,n){var o=n("./node_modules/lodash/_getNative.js"),r=n("./node_modules/lodash/_root.js"),s=o(r,"Promise");e.exports=s},"./node_modules/lodash/_Set.js":function(e,t,n){var o=n("./node_modules/lodash/_getNative.js"),r=n("./node_modules/lodash/_root.js"),s=o(r,"Set");e.exports=s},"./node_modules/lodash/_SetCache.js":function(e,t,n){function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}var r=n("./node_modules/lodash/_MapCache.js"),s=n("./node_modules/lodash/_setCacheAdd.js"),i=n("./node_modules/lodash/_setCacheHas.js");o.prototype.add=o.prototype.push=s,o.prototype.has=i,e.exports=o},"./node_modules/lodash/_Stack.js":function(e,t,n){function o(e){var t=this.__data__=new r(e);this.size=t.size}var r=n("./node_modules/lodash/_ListCache.js"),s=n("./node_modules/lodash/_stackClear.js"),i=n("./node_modules/lodash/_stackDelete.js"),l=n("./node_modules/lodash/_stackGet.js"),a=n("./node_modules/lodash/_stackHas.js"),u=n("./node_modules/lodash/_stackSet.js");o.prototype.clear=s,o.prototype.delete=i,o.prototype.get=l,o.prototype.has=a,o.prototype.set=u,e.exports=o},"./node_modules/lodash/_Symbol.js":function(e,t,n){var o=n("./node_modules/lodash/_root.js"),r=o.Symbol;e.exports=r},"./node_modules/lodash/_Uint8Array.js":function(e,t,n){var o=n("./node_modules/lodash/_root.js"),r=o.Uint8Array;e.exports=r},"./node_modules/lodash/_WeakMap.js":function(e,t,n){var o=n("./node_modules/lodash/_getNative.js"),r=n("./node_modules/lodash/_root.js"),s=o(r,"WeakMap");e.exports=s},"./node_modules/lodash/_apply.js":function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},"./node_modules/lodash/_arrayEach.js":function(e,t){function n(e,t){for(var n=-1,o=null==e?0:e.length;++n<o&&!1!==t(e[n],n,e););return e}e.exports=n},"./node_modules/lodash/_arrayFilter.js":function(e,t){function n(e,t){for(var n=-1,o=null==e?0:e.length,r=0,s=[];++n<o;){var i=e[n];t(i,n,e)&&(s[r++]=i)}return s}e.exports=n},"./node_modules/lodash/_arrayIncludes.js":function(e,t,n){function o(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}var r=n("./node_modules/lodash/_baseIndexOf.js");e.exports=o},"./node_modules/lodash/_arrayIncludesWith.js":function(e,t){function n(e,t,n){for(var o=-1,r=null==e?0:e.length;++o<r;)if(n(t,e[o]))return!0;return!1}e.exports=n},"./node_modules/lodash/_arrayLikeKeys.js":function(e,t,n){function o(e,t){var n=i(e),o=!n&&s(e),d=!n&&!o&&l(e),p=!n&&!o&&!d&&u(e),f=n||o||d||p,h=f?r(e.length,String):[],m=h.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||h.push(g);return h}var r=n("./node_modules/lodash/_baseTimes.js"),s=n("./node_modules/lodash/isArguments.js"),i=n("./node_modules/lodash/isArray.js"),l=n("./node_modules/lodash/isBuffer.js"),a=n("./node_modules/lodash/_isIndex.js"),u=n("./node_modules/lodash/isTypedArray.js"),d=Object.prototype,c=d.hasOwnProperty;e.exports=o},"./node_modules/lodash/_arrayMap.js":function(e,t){function n(e,t){for(var n=-1,o=null==e?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}e.exports=n},"./node_modules/lodash/_arrayPush.js":function(e,t){function n(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e}e.exports=n},"./node_modules/lodash/_arraySome.js":function(e,t){function n(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}e.exports=n},"./node_modules/lodash/_assignValue.js":function(e,t,n){function o(e,t,n){var o=e[t];l.call(e,t)&&s(o,n)&&(void 0!==n||t in e)||r(e,t,n)}var r=n("./node_modules/lodash/_baseAssignValue.js"),s=n("./node_modules/lodash/eq.js"),i=Object.prototype,l=i.hasOwnProperty;e.exports=o},"./node_modules/lodash/_assocIndexOf.js":function(e,t,n){function o(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}var r=n("./node_modules/lodash/eq.js");e.exports=o},"./node_modules/lodash/_baseAssign.js":function(e,t,n){function o(e,t){return e&&r(t,s(t),e)}var r=n("./node_modules/lodash/_copyObject.js"),s=n("./node_modules/lodash/keys.js");e.exports=o},"./node_modules/lodash/_baseAssignIn.js":function(e,t,n){function o(e,t){return e&&r(t,s(t),e)}var r=n("./node_modules/lodash/_copyObject.js"),s=n("./node_modules/lodash/keysIn.js");e.exports=o},"./node_modules/lodash/_baseAssignValue.js":function(e,t,n){function o(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var r=n("./node_modules/lodash/_defineProperty.js");e.exports=o},"./node_modules/lodash/_baseClone.js":function(e,t,n){function o(e,t,n,k,T,N){var R,M=t&w,L=t&O,U=t&I;if(n&&(R=T?n(e,k,T,N):n(e)),void 0!==R)return R;if(!S(e))return e;var B=v(e);if(B){if(R=g(e),!M)return d(e,R)}else{var G=m(e),H=G==A||G==x;if(b(e))return u(e,M);if(G==D||G==F||H&&!T){if(R=L||H?{}:_(e),!M)return L?p(e,a(R,e)):c(e,l(R,e))}else{if(!P[G])return T?e:{};R=y(e,G,M)}}N||(N=new r);var q=N.get(e);if(q)return q;N.set(e,R),j(e)?e.forEach(function(r){R.add(o(r,t,n,r,e,N))}):E(e)&&e.forEach(function(r,s){R.set(s,o(r,t,n,s,e,N))});var z=U?L?h:f:L?keysIn:C,W=B?void 0:z(e);return s(W||e,function(r,s){W&&(s=r,r=e[s]),i(R,s,o(r,t,n,s,e,N))}),R}var r=n("./node_modules/lodash/_Stack.js"),s=n("./node_modules/lodash/_arrayEach.js"),i=n("./node_modules/lodash/_assignValue.js"),l=n("./node_modules/lodash/_baseAssign.js"),a=n("./node_modules/lodash/_baseAssignIn.js"),u=n("./node_modules/lodash/_cloneBuffer.js"),d=n("./node_modules/lodash/_copyArray.js"),c=n("./node_modules/lodash/_copySymbols.js"),p=n("./node_modules/lodash/_copySymbolsIn.js"),f=n("./node_modules/lodash/_getAllKeys.js"),h=n("./node_modules/lodash/_getAllKeysIn.js"),m=n("./node_modules/lodash/_getTag.js"),g=n("./node_modules/lodash/_initCloneArray.js"),y=n("./node_modules/lodash/_initCloneByTag.js"),_=n("./node_modules/lodash/_initCloneObject.js"),v=n("./node_modules/lodash/isArray.js"),b=n("./node_modules/lodash/isBuffer.js"),E=n("./node_modules/lodash/isMap.js"),S=n("./node_modules/lodash/isObject.js"),j=n("./node_modules/lodash/isSet.js"),C=n("./node_modules/lodash/keys.js"),w=1,O=2,I=4,F="[object Arguments]",A="[object Function]",x="[object GeneratorFunction]",D="[object Object]",P={};P[F]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[D]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[A]=P["[object WeakMap]"]=!1,e.exports=o},"./node_modules/lodash/_baseCreate.js":function(e,t,n){var o=n("./node_modules/lodash/isObject.js"),r=Object.create,s=function(){function e(){}return function(t){if(!o(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=s},"./node_modules/lodash/_baseDifference.js":function(e,t,n){function o(e,t,n,o){var c=-1,p=s,f=!0,h=e.length,m=[],g=t.length;if(!h)return m;n&&(t=l(t,a(n))),o?(p=i,f=!1):t.length>=d&&(p=u,f=!1,t=new r(t));e:for(;++c<h;){var y=e[c],_=null==n?y:n(y);if(y=o||0!==y?y:0,f&&_===_){for(var v=g;v--;)if(t[v]===_)continue e;m.push(y)}else p(t,_,o)||m.push(y)}return m}var r=n("./node_modules/lodash/_SetCache.js"),s=n("./node_modules/lodash/_arrayIncludes.js"),i=n("./node_modules/lodash/_arrayIncludesWith.js"),l=n("./node_modules/lodash/_arrayMap.js"),a=n("./node_modules/lodash/_baseUnary.js"),u=n("./node_modules/lodash/_cacheHas.js"),d=200;e.exports=o},"./node_modules/lodash/_baseEach.js":function(e,t,n){var o=n("./node_modules/lodash/_baseForOwn.js"),r=n("./node_modules/lodash/_createBaseEach.js"),s=r(o);e.exports=s},"./node_modules/lodash/_baseFilter.js":function(e,t,n){function o(e,t){var n=[];return r(e,function(e,o,r){t(e,o,r)&&n.push(e)}),n}var r=n("./node_modules/lodash/_baseEach.js");e.exports=o},"./node_modules/lodash/_baseFindIndex.js":function(e,t){function n(e,t,n,o){for(var r=e.length,s=n+(o?1:-1);o?s--:++s<r;)if(t(e[s],s,e))return s;return-1}e.exports=n},"./node_modules/lodash/_baseFlatten.js":function(e,t,n){function o(e,t,n,i,l){var a=-1,u=e.length;for(n||(n=s),l||(l=[]);++a<u;){var d=e[a];t>0&&n(d)?t>1?o(d,t-1,n,i,l):r(l,d):i||(l[l.length]=d)}return l}var r=n("./node_modules/lodash/_arrayPush.js"),s=n("./node_modules/lodash/_isFlattenable.js");e.exports=o},"./node_modules/lodash/_baseFor.js":function(e,t,n){var o=n("./node_modules/lodash/_createBaseFor.js"),r=o();e.exports=r},"./node_modules/lodash/_baseForOwn.js":function(e,t,n){function o(e,t){return e&&r(e,t,s)}var r=n("./node_modules/lodash/_baseFor.js"),s=n("./node_modules/lodash/keys.js");e.exports=o},"./node_modules/lodash/_baseGet.js":function(e,t,n){function o(e,t){t=r(t,e);for(var n=0,o=t.length;null!=e&&n<o;)e=e[s(t[n++])];return n&&n==o?e:void 0}var r=n("./node_modules/lodash/_castPath.js"),s=n("./node_modules/lodash/_toKey.js");e.exports=o},"./node_modules/lodash/_baseGetAllKeys.js":function(e,t,n){function o(e,t,n){var o=t(e);return s(e)?o:r(o,n(e))}var r=n("./node_modules/lodash/_arrayPush.js"),s=n("./node_modules/lodash/isArray.js");e.exports=o},"./node_modules/lodash/_baseGetTag.js":function(e,t,n){function o(e){return null==e?void 0===e?a:l:u&&u in Object(e)?s(e):i(e)}var r=n("./node_modules/lodash/_Symbol.js"),s=n("./node_modules/lodash/_getRawTag.js"),i=n("./node_modules/lodash/_objectToString.js"),l="[object Null]",a="[object Undefined]",u=r?r.toStringTag:void 0;e.exports=o},"./node_modules/lodash/_baseHasIn.js":function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},"./node_modules/lodash/_baseIndexOf.js":function(e,t,n){function o(e,t,n){return t===t?i(e,t,n):r(e,s,n)}var r=n("./node_modules/lodash/_baseFindIndex.js"),s=n("./node_modules/lodash/_baseIsNaN.js"),i=n("./node_modules/lodash/_strictIndexOf.js");e.exports=o},"./node_modules/lodash/_baseIntersection.js":function(e,t,n){function o(e,t,n){for(var o=n?i:s,c=e[0].length,p=e.length,f=p,h=Array(p),m=1/0,g=[];f--;){var y=e[f];f&&t&&(y=l(y,a(t))),m=d(y.length,m),h[f]=!n&&(t||c>=120&&y.length>=120)?new r(f&&y):void 0}y=e[0];var _=-1,v=h[0];e:for(;++_<c&&g.length<m;){var b=y[_],E=t?t(b):b;if(b=n||0!==b?b:0,!(v?u(v,E):o(g,E,n))){for(f=p;--f;){var S=h[f];if(!(S?u(S,E):o(e[f],E,n)))continue e}v&&v.push(E),g.push(b)}}return g}var r=n("./node_modules/lodash/_SetCache.js"),s=n("./node_modules/lodash/_arrayIncludes.js"),i=n("./node_modules/lodash/_arrayIncludesWith.js"),l=n("./node_modules/lodash/_arrayMap.js"),a=n("./node_modules/lodash/_baseUnary.js"),u=n("./node_modules/lodash/_cacheHas.js"),d=Math.min;e.exports=o},"./node_modules/lodash/_baseIsArguments.js":function(e,t,n){function o(e){return s(e)&&r(e)==i}var r=n("./node_modules/lodash/_baseGetTag.js"),s=n("./node_modules/lodash/isObjectLike.js"),i="[object Arguments]";e.exports=o},"./node_modules/lodash/_baseIsEqual.js":function(e,t,n){function o(e,t,n,i,l){return e===t||(null==e||null==t||!s(e)&&!s(t)?e!==e&&t!==t:r(e,t,n,i,o,l))}var r=n("./node_modules/lodash/_baseIsEqualDeep.js"),s=n("./node_modules/lodash/isObjectLike.js");e.exports=o},"./node_modules/lodash/_baseIsEqualDeep.js":function(e,t,n){function o(e,t,n,o,g,_){var v=u(e),b=u(t),E=v?h:a(e),S=b?h:a(t);E=E==f?m:E,S=S==f?m:S;var j=E==m,C=S==m,w=E==S;if(w&&d(e)){if(!d(t))return!1;v=!0,j=!1}if(w&&!j)return _||(_=new r),v||c(e)?s(e,t,n,o,g,_):i(e,t,E,n,o,g,_);if(!(n&p)){var O=j&&y.call(e,"__wrapped__"),I=C&&y.call(t,"__wrapped__");if(O||I){var F=O?e.value():e,A=I?t.value():t;return _||(_=new r),g(F,A,n,o,_)}}return!!w&&(_||(_=new r),l(e,t,n,o,g,_))}var r=n("./node_modules/lodash/_Stack.js"),s=n("./node_modules/lodash/_equalArrays.js"),i=n("./node_modules/lodash/_equalByTag.js"),l=n("./node_modules/lodash/_equalObjects.js"),a=n("./node_modules/lodash/_getTag.js"),u=n("./node_modules/lodash/isArray.js"),d=n("./node_modules/lodash/isBuffer.js"),c=n("./node_modules/lodash/isTypedArray.js"),p=1,f="[object Arguments]",h="[object Array]",m="[object Object]",g=Object.prototype,y=g.hasOwnProperty;e.exports=o},"./node_modules/lodash/_baseIsMap.js":function(e,t,n){function o(e){return s(e)&&r(e)==i}var r=n("./node_modules/lodash/_getTag.js"),s=n("./node_modules/lodash/isObjectLike.js"),i="[object Map]";e.exports=o},"./node_modules/lodash/_baseIsMatch.js":function(e,t,n){function o(e,t,n,o){var a=n.length,u=a,d=!o;if(null==e)return!u;for(e=Object(e);a--;){var c=n[a];if(d&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<u;){c=n[a];var p=c[0],f=e[p],h=c[1];if(d&&c[2]){if(void 0===f&&!(p in e))return!1}else{var m=new r;if(o)var g=o(f,h,p,e,t,m);if(!(void 0===g?s(h,f,i|l,o,m):g))return!1}}return!0}var r=n("./node_modules/lodash/_Stack.js"),s=n("./node_modules/lodash/_baseIsEqual.js"),i=1,l=2;e.exports=o},"./node_modules/lodash/_baseIsNaN.js":function(e,t){function n(e){return e!==e}e.exports=n},"./node_modules/lodash/_baseIsNative.js":function(e,t,n){function o(e){return!(!i(e)||s(e))&&(r(e)?h:u).test(l(e))}var r=n("./node_modules/lodash/isFunction.js"),s=n("./node_modules/lodash/_isMasked.js"),i=n("./node_modules/lodash/isObject.js"),l=n("./node_modules/lodash/_toSource.js"),a=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,d=Function.prototype,c=Object.prototype,p=d.toString,f=c.hasOwnProperty,h=RegExp("^"+p.call(f).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=o},"./node_modules/lodash/_baseIsSet.js":function(e,t,n){function o(e){return s(e)&&r(e)==i}var r=n("./node_modules/lodash/_getTag.js"),s=n("./node_modules/lodash/isObjectLike.js"),i="[object Set]";e.exports=o},"./node_modules/lodash/_baseIsTypedArray.js":function(e,t,n){function o(e){return i(e)&&s(e.length)&&!!l[r(e)]}var r=n("./node_modules/lodash/_baseGetTag.js"),s=n("./node_modules/lodash/isLength.js"),i=n("./node_modules/lodash/isObjectLike.js"),l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1,e.exports=o},"./node_modules/lodash/_baseIteratee.js":function(e,t,n){function o(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?l(e)?s(e[0],e[1]):r(e):a(e)}var r=n("./node_modules/lodash/_baseMatches.js"),s=n("./node_modules/lodash/_baseMatchesProperty.js"),i=n("./node_modules/lodash/identity.js"),l=n("./node_modules/lodash/isArray.js"),a=n("./node_modules/lodash/property.js");e.exports=o},"./node_modules/lodash/_baseKeys.js":function(e,t,n){function o(e){if(!r(e))return s(e);var t=[];for(var n in Object(e))l.call(e,n)&&"constructor"!=n&&t.push(n);return t}var r=n("./node_modules/lodash/_isPrototype.js"),s=n("./node_modules/lodash/_nativeKeys.js"),i=Object.prototype,l=i.hasOwnProperty;e.exports=o},"./node_modules/lodash/_baseKeysIn.js":function(e,t,n){function o(e){if(!r(e))return i(e);var t=s(e),n=[];for(var o in e)("constructor"!=o||!t&&a.call(e,o))&&n.push(o);return n}var r=n("./node_modules/lodash/isObject.js"),s=n("./node_modules/lodash/_isPrototype.js"),i=n("./node_modules/lodash/_nativeKeysIn.js"),l=Object.prototype,a=l.hasOwnProperty;e.exports=o},"./node_modules/lodash/_baseMap.js":function(e,t,n){function o(e,t){var n=-1,o=s(e)?Array(e.length):[];return r(e,function(e,r,s){o[++n]=t(e,r,s)}),o}var r=n("./node_modules/lodash/_baseEach.js"),s=n("./node_modules/lodash/isArrayLike.js");e.exports=o},"./node_modules/lodash/_baseMatches.js":function(e,t,n){function o(e){var t=s(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}var r=n("./node_modules/lodash/_baseIsMatch.js"),s=n("./node_modules/lodash/_getMatchData.js"),i=n("./node_modules/lodash/_matchesStrictComparable.js");e.exports=o},"./node_modules/lodash/_baseMatchesProperty.js":function(e,t,n){function o(e,t){return l(e)&&a(t)?u(d(e),t):function(n){var o=s(n,e);return void 0===o&&o===t?i(n,e):r(t,o,c|p)}}var r=n("./node_modules/lodash/_baseIsEqual.js"),s=n("./node_modules/lodash/get.js"),i=n("./node_modules/lodash/hasIn.js"),l=n("./node_modules/lodash/_isKey.js"),a=n("./node_modules/lodash/_isStrictComparable.js"),u=n("./node_modules/lodash/_matchesStrictComparable.js"),d=n("./node_modules/lodash/_toKey.js"),c=1,p=2;e.exports=o},"./node_modules/lodash/_baseOrderBy.js":function(e,t,n){function o(e,t,n){var o=-1;t=r(t.length?t:[d],a(s));var c=i(e,function(e,n,s){return{criteria:r(t,function(t){return t(e)}),index:++o,value:e}});return l(c,function(e,t){return u(e,t,n)})}var r=n("./node_modules/lodash/_arrayMap.js"),s=n("./node_modules/lodash/_baseIteratee.js"),i=n("./node_modules/lodash/_baseMap.js"),l=n("./node_modules/lodash/_baseSortBy.js"),a=n("./node_modules/lodash/_baseUnary.js"),u=n("./node_modules/lodash/_compareMultiple.js"),d=n("./node_modules/lodash/identity.js");e.exports=o},"./node_modules/lodash/_basePick.js":function(e,t,n){function o(e,t){return r(e,t,function(t,n){return s(e,n)})}var r=n("./node_modules/lodash/_basePickBy.js"),s=n("./node_modules/lodash/hasIn.js");e.exports=o},"./node_modules/lodash/_basePickBy.js":function(e,t,n){function o(e,t,n){for(var o=-1,l=t.length,a={};++o<l;){var u=t[o],d=r(e,u);n(d,u)&&s(a,i(u,e),d)}return a}var r=n("./node_modules/lodash/_baseGet.js"),s=n("./node_modules/lodash/_baseSet.js"),i=n("./node_modules/lodash/_castPath.js");e.exports=o},"./node_modules/lodash/_baseProperty.js":function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},"./node_modules/lodash/_basePropertyDeep.js":function(e,t,n){function o(e){return function(t){return r(t,e)}}var r=n("./node_modules/lodash/_baseGet.js");e.exports=o},"./node_modules/lodash/_baseRest.js":function(e,t,n){function o(e,t){return i(s(e,t,r),e+"")}var r=n("./node_modules/lodash/identity.js"),s=n("./node_modules/lodash/_overRest.js"),i=n("./node_modules/lodash/_setToString.js");e.exports=o},"./node_modules/lodash/_baseSet.js":function(e,t,n){function o(e,t,n,o){if(!l(e))return e;t=s(t,e);for(var u=-1,d=t.length,c=d-1,p=e;null!=p&&++u<d;){var f=a(t[u]),h=n;if(u!=c){var m=p[f];void 0===(h=o?o(m,f,p):void 0)&&(h=l(m)?m:i(t[u+1])?[]:{})}r(p,f,h),p=p[f]}return e}var r=n("./node_modules/lodash/_assignValue.js"),s=n("./node_modules/lodash/_castPath.js"),i=n("./node_modules/lodash/_isIndex.js"),l=n("./node_modules/lodash/isObject.js"),a=n("./node_modules/lodash/_toKey.js");e.exports=o},"./node_modules/lodash/_baseSetToString.js":function(e,t,n){var o=n("./node_modules/lodash/constant.js"),r=n("./node_modules/lodash/_defineProperty.js"),s=n("./node_modules/lodash/identity.js"),i=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:o(t),writable:!0})}:s;e.exports=i},"./node_modules/lodash/_baseSlice.js":function(e,t){function n(e,t,n){var o=-1,r=e.length;t<0&&(t=-t>r?0:r+t),n=n>r?r:n,n<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(r);++o<r;)s[o]=e[o+t];return s}e.exports=n},"./node_modules/lodash/_baseSome.js":function(e,t,n){function o(e,t){var n;return r(e,function(e,o,r){return!(n=t(e,o,r))}),!!n}var r=n("./node_modules/lodash/_baseEach.js");e.exports=o},"./node_modules/lodash/_baseSortBy.js":function(e,t){function n(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}e.exports=n},"./node_modules/lodash/_baseTimes.js":function(e,t){function n(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}e.exports=n},"./node_modules/lodash/_baseToPairs.js":function(e,t,n){function o(e,t){return r(t,function(t){return[t,e[t]]})}var r=n("./node_modules/lodash/_arrayMap.js");e.exports=o},"./node_modules/lodash/_baseToString.js":function(e,t,n){function o(e){if("string"==typeof e)return e;if(i(e))return s(e,o)+"";if(l(e))return d?d.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}var r=n("./node_modules/lodash/_Symbol.js"),s=n("./node_modules/lodash/_arrayMap.js"),i=n("./node_modules/lodash/isArray.js"),l=n("./node_modules/lodash/isSymbol.js"),a=1/0,u=r?r.prototype:void 0,d=u?u.toString:void 0;e.exports=o},"./node_modules/lodash/_baseUnary.js":function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},"./node_modules/lodash/_baseUnset.js":function(e,t,n){function o(e,t){return t=r(t,e),null==(e=i(e,t))||delete e[l(s(t))]}var r=n("./node_modules/lodash/_castPath.js"),s=n("./node_modules/lodash/last.js"),i=n("./node_modules/lodash/_parent.js"),l=n("./node_modules/lodash/_toKey.js");e.exports=o},"./node_modules/lodash/_baseValues.js":function(e,t,n){function o(e,t){return r(t,function(t){return e[t]})}var r=n("./node_modules/lodash/_arrayMap.js");e.exports=o},"./node_modules/lodash/_baseZipObject.js":function(e,t){function n(e,t,n){for(var o=-1,r=e.length,s=t.length,i={};++o<r;){var l=o<s?t[o]:void 0;n(i,e[o],l)}return i}e.exports=n},"./node_modules/lodash/_cacheHas.js":function(e,t){function n(e,t){return e.has(t)}e.exports=n},"./node_modules/lodash/_castArrayLikeObject.js":function(e,t,n){function o(e){return r(e)?e:[]}var r=n("./node_modules/lodash/isArrayLikeObject.js");e.exports=o},"./node_modules/lodash/_castFunction.js":function(e,t,n){function o(e){return"function"==typeof e?e:r}var r=n("./node_modules/lodash/identity.js");e.exports=o},"./node_modules/lodash/_castPath.js":function(e,t,n){function o(e,t){return r(e)?e:s(e,t)?[e]:i(l(e))}var r=n("./node_modules/lodash/isArray.js"),s=n("./node_modules/lodash/_isKey.js"),i=n("./node_modules/lodash/_stringToPath.js"),l=n("./node_modules/lodash/toString.js");e.exports=o},"./node_modules/lodash/_cloneArrayBuffer.js":function(e,t,n){function o(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}var r=n("./node_modules/lodash/_Uint8Array.js");e.exports=o},"./node_modules/lodash/_cloneBuffer.js":function(e,t,n){(function(e){function o(e,t){if(t)return e.slice();var n=e.length,o=u?u(n):new e.constructor(n);return e.copy(o),o}var r=n("./node_modules/lodash/_root.js"),s="object"==typeof t&&t&&!t.nodeType&&t,i=s&&"object"==typeof e&&e&&!e.nodeType&&e,l=i&&i.exports===s,a=l?r.Buffer:void 0,u=a?a.allocUnsafe:void 0;e.exports=o}).call(t,n("./node_modules/webpack/buildin/module.js")(e))},"./node_modules/lodash/_cloneDataView.js":function(e,t,n){function o(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var r=n("./node_modules/lodash/_cloneArrayBuffer.js");e.exports=o},"./node_modules/lodash/_cloneRegExp.js":function(e,t){function n(e){var t=new e.constructor(e.source,o.exec(e));return t.lastIndex=e.lastIndex,t}var o=/\w*$/;e.exports=n},"./node_modules/lodash/_cloneSymbol.js":function(e,t,n){function o(e){return i?Object(i.call(e)):{}}var r=n("./node_modules/lodash/_Symbol.js"),s=r?r.prototype:void 0,i=s?s.valueOf:void 0;e.exports=o},"./node_modules/lodash/_cloneTypedArray.js":function(e,t,n){function o(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var r=n("./node_modules/lodash/_cloneArrayBuffer.js");e.exports=o},"./node_modules/lodash/_compareAscending.js":function(e,t,n){function o(e,t){if(e!==t){var n=void 0!==e,o=null===e,s=e===e,i=r(e),l=void 0!==t,a=null===t,u=t===t,d=r(t);if(!a&&!d&&!i&&e>t||i&&l&&u&&!a&&!d||o&&l&&u||!n&&u||!s)return 1;if(!o&&!i&&!d&&e<t||d&&n&&s&&!o&&!i||a&&n&&s||!l&&s||!u)return-1}return 0}var r=n("./node_modules/lodash/isSymbol.js");e.exports=o},"./node_modules/lodash/_compareMultiple.js":function(e,t,n){function o(e,t,n){for(var o=-1,s=e.criteria,i=t.criteria,l=s.length,a=n.length;++o<l;){var u=r(s[o],i[o]);if(u)return o>=a?u:u*("desc"==n[o]?-1:1)}return e.index-t.index}var r=n("./node_modules/lodash/_compareAscending.js");e.exports=o},"./node_modules/lodash/_copyArray.js":function(e,t){function n(e,t){var n=-1,o=e.length;for(t||(t=Array(o));++n<o;)t[n]=e[n];return t}e.exports=n},"./node_modules/lodash/_copyObject.js":function(e,t,n){function o(e,t,n,o){var i=!n;n||(n={});for(var l=-1,a=t.length;++l<a;){var u=t[l],d=o?o(n[u],e[u],u,n,e):void 0;void 0===d&&(d=e[u]),i?s(n,u,d):r(n,u,d)}return n}var r=n("./node_modules/lodash/_assignValue.js"),s=n("./node_modules/lodash/_baseAssignValue.js");e.exports=o},"./node_modules/lodash/_copySymbols.js":function(e,t,n){function o(e,t){return r(e,s(e),t)}var r=n("./node_modules/lodash/_copyObject.js"),s=n("./node_modules/lodash/_getSymbols.js");e.exports=o},"./node_modules/lodash/_copySymbolsIn.js":function(e,t,n){function o(e,t){return r(e,s(e),t)}var r=n("./node_modules/lodash/_copyObject.js"),s=n("./node_modules/lodash/_getSymbolsIn.js");e.exports=o},"./node_modules/lodash/_coreJsData.js":function(e,t,n){var o=n("./node_modules/lodash/_root.js"),r=o["__core-js_shared__"];e.exports=r},"./node_modules/lodash/_createAssigner.js":function(e,t,n){function o(e){return r(function(t,n){var o=-1,r=n.length,i=r>1?n[r-1]:void 0,l=r>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(r--,i):void 0,l&&s(n[0],n[1],l)&&(i=r<3?void 0:i,r=1),t=Object(t);++o<r;){var a=n[o];a&&e(t,a,o,i)}return t})}var r=n("./node_modules/lodash/_baseRest.js"),s=n("./node_modules/lodash/_isIterateeCall.js");e.exports=o},"./node_modules/lodash/_createBaseEach.js":function(e,t,n){function o(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var s=n.length,i=t?s:-1,l=Object(n);(t?i--:++i<s)&&!1!==o(l[i],i,l););return n}}var r=n("./node_modules/lodash/isArrayLike.js");e.exports=o},"./node_modules/lodash/_createBaseFor.js":function(e,t){function n(e){return function(t,n,o){for(var r=-1,s=Object(t),i=o(t),l=i.length;l--;){var a=i[e?l:++r];if(!1===n(s[a],a,s))break}return t}}e.exports=n},"./node_modules/lodash/_createFind.js":function(e,t,n){function o(e){return function(t,n,o){var l=Object(t);if(!s(t)){var a=r(n,3);t=i(t),n=function(e){return a(l[e],e,l)}}var u=e(t,n,o);return u>-1?l[a?t[u]:u]:void 0}}var r=n("./node_modules/lodash/_baseIteratee.js"),s=n("./node_modules/lodash/isArrayLike.js"),i=n("./node_modules/lodash/keys.js");e.exports=o},"./node_modules/lodash/_createToPairs.js":function(e,t,n){function o(e){return function(t){var n=s(t);return n==a?i(t):n==u?l(t):r(t,e(t))}}var r=n("./node_modules/lodash/_baseToPairs.js"),s=n("./node_modules/lodash/_getTag.js"),i=n("./node_modules/lodash/_mapToArray.js"),l=n("./node_modules/lodash/_setToPairs.js"),a="[object Map]",u="[object Set]";e.exports=o},"./node_modules/lodash/_customOmitClone.js":function(e,t,n){function o(e){return r(e)?void 0:e}var r=n("./node_modules/lodash/isPlainObject.js");e.exports=o},"./node_modules/lodash/_defineProperty.js":function(e,t,n){var o=n("./node_modules/lodash/_getNative.js"),r=function(){try{var e=o(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},"./node_modules/lodash/_equalArrays.js":function(e,t,n){function o(e,t,n,o,u,d){var c=n&l,p=e.length,f=t.length;if(p!=f&&!(c&&f>p))return!1;var h=d.get(e);if(h&&d.get(t))return h==t;var m=-1,g=!0,y=n&a?new r:void 0;for(d.set(e,t),d.set(t,e);++m<p;){var _=e[m],v=t[m];if(o)var b=c?o(v,_,m,t,e,d):o(_,v,m,e,t,d);if(void 0!==b){if(b)continue;g=!1;break}if(y){if(!s(t,function(e,t){if(!i(y,t)&&(_===e||u(_,e,n,o,d)))return y.push(t)})){g=!1;break}}else if(_!==v&&!u(_,v,n,o,d)){g=!1;break}}return d.delete(e),d.delete(t),g}var r=n("./node_modules/lodash/_SetCache.js"),s=n("./node_modules/lodash/_arraySome.js"),i=n("./node_modules/lodash/_cacheHas.js"),l=1,a=2;e.exports=o},"./node_modules/lodash/_equalByTag.js":function(e,t,n){function o(e,t,n,o,r,j,w){switch(n){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!j(new s(e),new s(t)));case p:case f:case g:return i(+e,+t);case h:return e.name==t.name&&e.message==t.message;case y:case v:return e==t+"";case m:var O=a;case _:var I=o&d;if(O||(O=u),e.size!=t.size&&!I)return!1;var F=w.get(e);if(F)return F==t;o|=c,w.set(e,t);var A=l(O(e),O(t),o,r,j,w);return w.delete(e),A;case b:if(C)return C.call(e)==C.call(t)}return!1}var r=n("./node_modules/lodash/_Symbol.js"),s=n("./node_modules/lodash/_Uint8Array.js"),i=n("./node_modules/lodash/eq.js"),l=n("./node_modules/lodash/_equalArrays.js"),a=n("./node_modules/lodash/_mapToArray.js"),u=n("./node_modules/lodash/_setToArray.js"),d=1,c=2,p="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",g="[object Number]",y="[object RegExp]",_="[object Set]",v="[object String]",b="[object Symbol]",E="[object ArrayBuffer]",S="[object DataView]",j=r?r.prototype:void 0,C=j?j.valueOf:void 0;e.exports=o},"./node_modules/lodash/_equalObjects.js":function(e,t,n){function o(e,t,n,o,i,a){var u=n&s,d=r(e),c=d.length;if(c!=r(t).length&&!u)return!1;for(var p=c;p--;){var f=d[p];if(!(u?f in t:l.call(t,f)))return!1}var h=a.get(e);if(h&&a.get(t))return h==t;var m=!0;a.set(e,t),a.set(t,e);for(var g=u;++p<c;){f=d[p];var y=e[f],_=t[f];if(o)var v=u?o(_,y,f,t,e,a):o(y,_,f,e,t,a);if(!(void 0===v?y===_||i(y,_,n,o,a):v)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var b=e.constructor,E=t.constructor;b!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof E&&E instanceof E)&&(m=!1)}return a.delete(e),a.delete(t),m}var r=n("./node_modules/lodash/_getAllKeys.js"),s=1,i=Object.prototype,l=i.hasOwnProperty;e.exports=o},"./node_modules/lodash/_flatRest.js":function(e,t,n){function o(e){return i(s(e,void 0,r),e+"")}var r=n("./node_modules/lodash/flatten.js"),s=n("./node_modules/lodash/_overRest.js"),i=n("./node_modules/lodash/_setToString.js");e.exports=o},"./node_modules/lodash/_freeGlobal.js":function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/lodash/_getAllKeys.js":function(e,t,n){function o(e){return r(e,i,s)}var r=n("./node_modules/lodash/_baseGetAllKeys.js"),s=n("./node_modules/lodash/_getSymbols.js"),i=n("./node_modules/lodash/keys.js");e.exports=o},"./node_modules/lodash/_getAllKeysIn.js":function(e,t,n){function o(e){return r(e,i,s)}var r=n("./node_modules/lodash/_baseGetAllKeys.js"),s=n("./node_modules/lodash/_getSymbolsIn.js"),i=n("./node_modules/lodash/keysIn.js");e.exports=o},"./node_modules/lodash/_getMapData.js":function(e,t,n){function o(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}var r=n("./node_modules/lodash/_isKeyable.js");e.exports=o},"./node_modules/lodash/_getMatchData.js":function(e,t,n){function o(e){for(var t=s(e),n=t.length;n--;){var o=t[n],i=e[o];t[n]=[o,i,r(i)]}return t}var r=n("./node_modules/lodash/_isStrictComparable.js"),s=n("./node_modules/lodash/keys.js");e.exports=o},"./node_modules/lodash/_getNative.js":function(e,t,n){function o(e,t){var n=s(e,t);return r(n)?n:void 0}var r=n("./node_modules/lodash/_baseIsNative.js"),s=n("./node_modules/lodash/_getValue.js");e.exports=o},"./node_modules/lodash/_getPrototype.js":function(e,t,n){var o=n("./node_modules/lodash/_overArg.js"),r=o(Object.getPrototypeOf,Object);e.exports=r},"./node_modules/lodash/_getRawTag.js":function(e,t,n){function o(e){var t=i.call(e,a),n=e[a];try{e[a]=void 0;var o=!0}catch(e){}var r=l.call(e);return o&&(t?e[a]=n:delete e[a]),r}var r=n("./node_modules/lodash/_Symbol.js"),s=Object.prototype,i=s.hasOwnProperty,l=s.toString,a=r?r.toStringTag:void 0;e.exports=o},"./node_modules/lodash/_getSymbols.js":function(e,t,n){var o=n("./node_modules/lodash/_arrayFilter.js"),r=n("./node_modules/lodash/stubArray.js"),s=Object.prototype,i=s.propertyIsEnumerable,l=Object.getOwnPropertySymbols,a=l?function(e){return null==e?[]:(e=Object(e),o(l(e),function(t){return i.call(e,t)}))}:r;e.exports=a},"./node_modules/lodash/_getSymbolsIn.js":function(e,t,n){var o=n("./node_modules/lodash/_arrayPush.js"),r=n("./node_modules/lodash/_getPrototype.js"),s=n("./node_modules/lodash/_getSymbols.js"),i=n("./node_modules/lodash/stubArray.js"),l=Object.getOwnPropertySymbols,a=l?function(e){for(var t=[];e;)o(t,s(e)),e=r(e);return t}:i;e.exports=a},"./node_modules/lodash/_getTag.js":function(e,t,n){var o=n("./node_modules/lodash/_DataView.js"),r=n("./node_modules/lodash/_Map.js"),s=n("./node_modules/lodash/_Promise.js"),i=n("./node_modules/lodash/_Set.js"),l=n("./node_modules/lodash/_WeakMap.js"),a=n("./node_modules/lodash/_baseGetTag.js"),u=n("./node_modules/lodash/_toSource.js"),d=u(o),c=u(r),p=u(s),f=u(i),h=u(l),m=a;(o&&"[object DataView]"!=m(new o(new ArrayBuffer(1)))||r&&"[object Map]"!=m(new r)||s&&"[object Promise]"!=m(s.resolve())||i&&"[object Set]"!=m(new i)||l&&"[object WeakMap]"!=m(new l))&&(m=function(e){var t=a(e),n="[object Object]"==t?e.constructor:void 0,o=n?u(n):"";if(o)switch(o){case d:return"[object DataView]";case c:return"[object Map]";case p:return"[object Promise]";case f:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=m},"./node_modules/lodash/_getValue.js":function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},"./node_modules/lodash/_hasPath.js":function(e,t,n){function o(e,t,n){t=r(t,e);for(var o=-1,d=t.length,c=!1;++o<d;){var p=u(t[o]);if(!(c=null!=e&&n(e,p)))break;e=e[p]}return c||++o!=d?c:!!(d=null==e?0:e.length)&&a(d)&&l(p,d)&&(i(e)||s(e))}var r=n("./node_modules/lodash/_castPath.js"),s=n("./node_modules/lodash/isArguments.js"),i=n("./node_modules/lodash/isArray.js"),l=n("./node_modules/lodash/_isIndex.js"),a=n("./node_modules/lodash/isLength.js"),u=n("./node_modules/lodash/_toKey.js");e.exports=o},"./node_modules/lodash/_hashClear.js":function(e,t,n){function o(){this.__data__=r?r(null):{},this.size=0}var r=n("./node_modules/lodash/_nativeCreate.js");e.exports=o},"./node_modules/lodash/_hashDelete.js":function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},"./node_modules/lodash/_hashGet.js":function(e,t,n){function o(e){var t=this.__data__;if(r){var n=t[e];return n===s?void 0:n}return l.call(t,e)?t[e]:void 0}var r=n("./node_modules/lodash/_nativeCreate.js"),s="__lodash_hash_undefined__",i=Object.prototype,l=i.hasOwnProperty;e.exports=o},"./node_modules/lodash/_hashHas.js":function(e,t,n){function o(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}var r=n("./node_modules/lodash/_nativeCreate.js"),s=Object.prototype,i=s.hasOwnProperty;e.exports=o},"./node_modules/lodash/_hashSet.js":function(e,t,n){function o(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?s:t,this}var r=n("./node_modules/lodash/_nativeCreate.js"),s="__lodash_hash_undefined__";e.exports=o},"./node_modules/lodash/_initCloneArray.js":function(e,t){function n(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var o=Object.prototype,r=o.hasOwnProperty;e.exports=n},"./node_modules/lodash/_initCloneByTag.js":function(e,t,n){function o(e,t,n){var o=e.constructor;switch(t){case y:return r(e);case u:case d:return new o(+e);case _:return s(e,n);case v:case b:case E:case S:case j:case C:case w:case O:case I:return a(e,n);case c:return new o;case p:case m:return new o(e);case f:return i(e);case h:return new o;case g:return l(e)}}var r=n("./node_modules/lodash/_cloneArrayBuffer.js"),s=n("./node_modules/lodash/_cloneDataView.js"),i=n("./node_modules/lodash/_cloneRegExp.js"),l=n("./node_modules/lodash/_cloneSymbol.js"),a=n("./node_modules/lodash/_cloneTypedArray.js"),u="[object Boolean]",d="[object Date]",c="[object Map]",p="[object Number]",f="[object RegExp]",h="[object Set]",m="[object String]",g="[object Symbol]",y="[object ArrayBuffer]",_="[object DataView]",v="[object Float32Array]",b="[object Float64Array]",E="[object Int8Array]",S="[object Int16Array]",j="[object Int32Array]",C="[object Uint8Array]",w="[object Uint8ClampedArray]",O="[object Uint16Array]",I="[object Uint32Array]";e.exports=o},"./node_modules/lodash/_initCloneObject.js":function(e,t,n){function o(e){return"function"!=typeof e.constructor||i(e)?{}:r(s(e))}var r=n("./node_modules/lodash/_baseCreate.js"),s=n("./node_modules/lodash/_getPrototype.js"),i=n("./node_modules/lodash/_isPrototype.js");e.exports=o},"./node_modules/lodash/_isFlattenable.js":function(e,t,n){function o(e){return i(e)||s(e)||!!(l&&e&&e[l])}var r=n("./node_modules/lodash/_Symbol.js"),s=n("./node_modules/lodash/isArguments.js"),i=n("./node_modules/lodash/isArray.js"),l=r?r.isConcatSpreadable:void 0;e.exports=o},"./node_modules/lodash/_isIndex.js":function(e,t){function n(e,t){var n=typeof e;return!!(t=null==t?o:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}var o=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=n},"./node_modules/lodash/_isIterateeCall.js":function(e,t,n){function o(e,t,n){if(!l(n))return!1;var o=typeof t;return!!("number"==o?s(n)&&i(t,n.length):"string"==o&&t in n)&&r(n[t],e)}var r=n("./node_modules/lodash/eq.js"),s=n("./node_modules/lodash/isArrayLike.js"),i=n("./node_modules/lodash/_isIndex.js"),l=n("./node_modules/lodash/isObject.js");e.exports=o},"./node_modules/lodash/_isKey.js":function(e,t,n){function o(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!s(e))||l.test(e)||!i.test(e)||null!=t&&e in Object(t)}var r=n("./node_modules/lodash/isArray.js"),s=n("./node_modules/lodash/isSymbol.js"),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/;e.exports=o},"./node_modules/lodash/_isKeyable.js":function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},"./node_modules/lodash/_isMasked.js":function(e,t,n){function o(e){return!!s&&s in e}var r=n("./node_modules/lodash/_coreJsData.js"),s=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=o},"./node_modules/lodash/_isPrototype.js":function(e,t){function n(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||o)}var o=Object.prototype;e.exports=n},"./node_modules/lodash/_isStrictComparable.js":function(e,t,n){function o(e){return e===e&&!r(e)}var r=n("./node_modules/lodash/isObject.js");e.exports=o},"./node_modules/lodash/_listCacheClear.js":function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},"./node_modules/lodash/_listCacheDelete.js":function(e,t,n){function o(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}var r=n("./node_modules/lodash/_assocIndexOf.js"),s=Array.prototype,i=s.splice;e.exports=o},"./node_modules/lodash/_listCacheGet.js":function(e,t,n){function o(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}var r=n("./node_modules/lodash/_assocIndexOf.js");e.exports=o},"./node_modules/lodash/_listCacheHas.js":function(e,t,n){function o(e){return r(this.__data__,e)>-1}var r=n("./node_modules/lodash/_assocIndexOf.js");e.exports=o},"./node_modules/lodash/_listCacheSet.js":function(e,t,n){function o(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}var r=n("./node_modules/lodash/_assocIndexOf.js");e.exports=o},"./node_modules/lodash/_mapCacheClear.js":function(e,t,n){function o(){this.size=0,this.__data__={hash:new r,map:new(i||s),string:new r}}var r=n("./node_modules/lodash/_Hash.js"),s=n("./node_modules/lodash/_ListCache.js"),i=n("./node_modules/lodash/_Map.js");e.exports=o},"./node_modules/lodash/_mapCacheDelete.js":function(e,t,n){function o(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}var r=n("./node_modules/lodash/_getMapData.js");e.exports=o},"./node_modules/lodash/_mapCacheGet.js":function(e,t,n){function o(e){return r(this,e).get(e)}var r=n("./node_modules/lodash/_getMapData.js");e.exports=o},"./node_modules/lodash/_mapCacheHas.js":function(e,t,n){function o(e){return r(this,e).has(e)}var r=n("./node_modules/lodash/_getMapData.js");e.exports=o},"./node_modules/lodash/_mapCacheSet.js":function(e,t,n){function o(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}var r=n("./node_modules/lodash/_getMapData.js");e.exports=o},"./node_modules/lodash/_mapToArray.js":function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,o){n[++t]=[o,e]}),n}e.exports=n},"./node_modules/lodash/_matchesStrictComparable.js":function(e,t){function n(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}e.exports=n},"./node_modules/lodash/_memoizeCapped.js":function(e,t,n){function o(e){var t=r(e,function(e){return n.size===s&&n.clear(),e}),n=t.cache;return t}var r=n("./node_modules/lodash/memoize.js"),s=500;e.exports=o},"./node_modules/lodash/_nativeCreate.js":function(e,t,n){var o=n("./node_modules/lodash/_getNative.js"),r=o(Object,"create");e.exports=r},"./node_modules/lodash/_nativeKeys.js":function(e,t,n){var o=n("./node_modules/lodash/_overArg.js"),r=o(Object.keys,Object);e.exports=r},"./node_modules/lodash/_nativeKeysIn.js":function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},"./node_modules/lodash/_nodeUtil.js":function(e,t,n){(function(e){var o=n("./node_modules/lodash/_freeGlobal.js"),r="object"==typeof t&&t&&!t.nodeType&&t,s=r&&"object"==typeof e&&e&&!e.nodeType&&e,i=s&&s.exports===r,l=i&&o.process,a=function(){try{return s&&s.require&&s.require("util").types||l&&l.binding&&l.binding("util")}catch(e){}}();e.exports=a}).call(t,n("./node_modules/webpack/buildin/module.js")(e))},"./node_modules/lodash/_objectToString.js":function(e,t){function n(e){return r.call(e)}var o=Object.prototype,r=o.toString;e.exports=n},"./node_modules/lodash/_overArg.js":function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},"./node_modules/lodash/_overRest.js":function(e,t,n){function o(e,t,n){return t=s(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,l=s(o.length-t,0),a=Array(l);++i<l;)a[i]=o[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=o[i];return u[t]=n(a),r(e,this,u)}}var r=n("./node_modules/lodash/_apply.js"),s=Math.max;e.exports=o},"./node_modules/lodash/_parent.js":function(e,t,n){function o(e,t){return t.length<2?e:r(e,s(t,0,-1))}var r=n("./node_modules/lodash/_baseGet.js"),s=n("./node_modules/lodash/_baseSlice.js");e.exports=o},"./node_modules/lodash/_root.js":function(e,t,n){var o=n("./node_modules/lodash/_freeGlobal.js"),r="object"==typeof self&&self&&self.Object===Object&&self,s=o||r||Function("return this")();e.exports=s},"./node_modules/lodash/_setCacheAdd.js":function(e,t){function n(e){return this.__data__.set(e,o),this}var o="__lodash_hash_undefined__";e.exports=n},"./node_modules/lodash/_setCacheHas.js":function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},"./node_modules/lodash/_setToArray.js":function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},"./node_modules/lodash/_setToPairs.js":function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}e.exports=n},"./node_modules/lodash/_setToString.js":function(e,t,n){var o=n("./node_modules/lodash/_baseSetToString.js"),r=n("./node_modules/lodash/_shortOut.js"),s=r(o);e.exports=s},"./node_modules/lodash/_shortOut.js":function(e,t){function n(e){var t=0,n=0;return function(){var i=s(),l=r-(i-n);if(n=i,l>0){if(++t>=o)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var o=800,r=16,s=Date.now;e.exports=n},"./node_modules/lodash/_stackClear.js":function(e,t,n){function o(){this.__data__=new r,this.size=0}var r=n("./node_modules/lodash/_ListCache.js");e.exports=o},"./node_modules/lodash/_stackDelete.js":function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},"./node_modules/lodash/_stackGet.js":function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},"./node_modules/lodash/_stackHas.js":function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},"./node_modules/lodash/_stackSet.js":function(e,t,n){function o(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!s||o.length<l-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(o)}return n.set(e,t),this.size=n.size,this}var r=n("./node_modules/lodash/_ListCache.js"),s=n("./node_modules/lodash/_Map.js"),i=n("./node_modules/lodash/_MapCache.js"),l=200;e.exports=o},"./node_modules/lodash/_strictIndexOf.js":function(e,t){function n(e,t,n){for(var o=n-1,r=e.length;++o<r;)if(e[o]===t)return o;return-1}e.exports=n},"./node_modules/lodash/_stringToPath.js":function(e,t,n){var o=n("./node_modules/lodash/_memoizeCapped.js"),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,i=o(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,function(e,n,o,r){t.push(o?r.replace(s,"$1"):n||e)}),t});e.exports=i},"./node_modules/lodash/_toKey.js":function(e,t,n){function o(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-s?"-0":t}var r=n("./node_modules/lodash/isSymbol.js"),s=1/0;e.exports=o},"./node_modules/lodash/_toSource.js":function(e,t){function n(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var o=Function.prototype,r=o.toString;e.exports=n},"./node_modules/lodash/assign.js":function(e,t,n){var o=n("./node_modules/lodash/_assignValue.js"),r=n("./node_modules/lodash/_copyObject.js"),s=n("./node_modules/lodash/_createAssigner.js"),i=n("./node_modules/lodash/isArrayLike.js"),l=n("./node_modules/lodash/_isPrototype.js"),a=n("./node_modules/lodash/keys.js"),u=Object.prototype,d=u.hasOwnProperty,c=s(function(e,t){if(l(t)||i(t))return void r(t,a(t),e);for(var n in t)d.call(t,n)&&o(e,n,t[n])});e.exports=c},"./node_modules/lodash/constant.js":function(e,t){function n(e){return function(){return e}}e.exports=n},"./node_modules/lodash/defaults.js":function(e,t,n){var o=n("./node_modules/lodash/_baseRest.js"),r=n("./node_modules/lodash/eq.js"),s=n("./node_modules/lodash/_isIterateeCall.js"),i=n("./node_modules/lodash/keysIn.js"),l=Object.prototype,a=l.hasOwnProperty,u=o(function(e,t){e=Object(e);var n=-1,o=t.length,u=o>2?t[2]:void 0;for(u&&s(t[0],t[1],u)&&(o=1);++n<o;)for(var d=t[n],c=i(d),p=-1,f=c.length;++p<f;){var h=c[p],m=e[h];(void 0===m||r(m,l[h])&&!a.call(e,h))&&(e[h]=d[h])}return e});e.exports=u},"./node_modules/lodash/difference.js":function(e,t,n){var o=n("./node_modules/lodash/_baseDifference.js"),r=n("./node_modules/lodash/_baseFlatten.js"),s=n("./node_modules/lodash/_baseRest.js"),i=n("./node_modules/lodash/isArrayLikeObject.js"),l=s(function(e,t){return i(e)?o(e,r(t,1,i,!0)):[]});e.exports=l},"./node_modules/lodash/drop.js":function(e,t,n){function o(e,t,n){var o=null==e?0:e.length;return o?(t=n||void 0===t?1:s(t),r(e,t<0?0:t,o)):[]}var r=n("./node_modules/lodash/_baseSlice.js"),s=n("./node_modules/lodash/toInteger.js");e.exports=o},"./node_modules/lodash/dropRight.js":function(e,t,n){function o(e,t,n){var o=null==e?0:e.length;return o?(t=n||void 0===t?1:s(t),t=o-t,r(e,0,t<0?0:t)):[]}var r=n("./node_modules/lodash/_baseSlice.js"),s=n("./node_modules/lodash/toInteger.js");e.exports=o},"./node_modules/lodash/eq.js":function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},"./node_modules/lodash/filter.js":function(e,t,n){function o(e,t){return(l(e)?r:s)(e,i(t,3))}var r=n("./node_modules/lodash/_arrayFilter.js"),s=n("./node_modules/lodash/_baseFilter.js"),i=n("./node_modules/lodash/_baseIteratee.js"),l=n("./node_modules/lodash/isArray.js");e.exports=o},"./node_modules/lodash/find.js":function(e,t,n){var o=n("./node_modules/lodash/_createFind.js"),r=n("./node_modules/lodash/findIndex.js"),s=o(r);e.exports=s},"./node_modules/lodash/findIndex.js":function(e,t,n){function o(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var a=null==n?0:i(n);return a<0&&(a=l(o+a,0)),r(e,s(t,3),a)}var r=n("./node_modules/lodash/_baseFindIndex.js"),s=n("./node_modules/lodash/_baseIteratee.js"),i=n("./node_modules/lodash/toInteger.js"),l=Math.max;e.exports=o},"./node_modules/lodash/flatten.js":function(e,t,n){function o(e){return(null==e?0:e.length)?r(e,1):[]}var r=n("./node_modules/lodash/_baseFlatten.js");e.exports=o},"./node_modules/lodash/forEach.js":function(e,t,n){function o(e,t){return(l(e)?r:s)(e,i(t))}var r=n("./node_modules/lodash/_arrayEach.js"),s=n("./node_modules/lodash/_baseEach.js"),i=n("./node_modules/lodash/_castFunction.js"),l=n("./node_modules/lodash/isArray.js");e.exports=o},"./node_modules/lodash/forOwn.js":function(e,t,n){function o(e,t){return e&&r(e,s(t))}var r=n("./node_modules/lodash/_baseForOwn.js"),s=n("./node_modules/lodash/_castFunction.js");e.exports=o},"./node_modules/lodash/get.js":function(e,t,n){function o(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}var r=n("./node_modules/lodash/_baseGet.js");e.exports=o},"./node_modules/lodash/hasIn.js":function(e,t,n){function o(e,t){return null!=e&&s(e,t,r)}var r=n("./node_modules/lodash/_baseHasIn.js"),s=n("./node_modules/lodash/_hasPath.js");e.exports=o},"./node_modules/lodash/identity.js":function(e,t){function n(e){return e}e.exports=n},"./node_modules/lodash/includes.js":function(e,t,n){function o(e,t,n,o){e=s(e)?e:a(e),n=n&&!o?l(n):0;var d=e.length;return n<0&&(n=u(d+n,0)),i(e)?n<=d&&e.indexOf(t,n)>-1:!!d&&r(e,t,n)>-1}var r=n("./node_modules/lodash/_baseIndexOf.js"),s=n("./node_modules/lodash/isArrayLike.js"),i=n("./node_modules/lodash/isString.js"),l=n("./node_modules/lodash/toInteger.js"),a=n("./node_modules/lodash/values.js"),u=Math.max;e.exports=o},"./node_modules/lodash/initial.js":function(e,t,n){function o(e){return(null==e?0:e.length)?r(e,0,-1):[]}var r=n("./node_modules/lodash/_baseSlice.js");e.exports=o},"./node_modules/lodash/intersection.js":function(e,t,n){var o=n("./node_modules/lodash/_arrayMap.js"),r=n("./node_modules/lodash/_baseIntersection.js"),s=n("./node_modules/lodash/_baseRest.js"),i=n("./node_modules/lodash/_castArrayLikeObject.js"),l=s(function(e){var t=o(e,i);return t.length&&t[0]===e[0]?r(t):[]});e.exports=l},"./node_modules/lodash/isArguments.js":function(e,t,n){var o=n("./node_modules/lodash/_baseIsArguments.js"),r=n("./node_modules/lodash/isObjectLike.js"),s=Object.prototype,i=s.hasOwnProperty,l=s.propertyIsEnumerable,a=o(function(){return arguments}())?o:function(e){return r(e)&&i.call(e,"callee")&&!l.call(e,"callee")};e.exports=a},"./node_modules/lodash/isArray.js":function(e,t){var n=Array.isArray;e.exports=n},"./node_modules/lodash/isArrayLike.js":function(e,t,n){function o(e){return null!=e&&s(e.length)&&!r(e)}var r=n("./node_modules/lodash/isFunction.js"),s=n("./node_modules/lodash/isLength.js");e.exports=o},"./node_modules/lodash/isArrayLikeObject.js":function(e,t,n){function o(e){return s(e)&&r(e)}var r=n("./node_modules/lodash/isArrayLike.js"),s=n("./node_modules/lodash/isObjectLike.js");e.exports=o},"./node_modules/lodash/isBuffer.js":function(e,t,n){(function(e){var o=n("./node_modules/lodash/_root.js"),r=n("./node_modules/lodash/stubFalse.js"),s="object"==typeof t&&t&&!t.nodeType&&t,i=s&&"object"==typeof e&&e&&!e.nodeType&&e,l=i&&i.exports===s,a=l?o.Buffer:void 0,u=a?a.isBuffer:void 0,d=u||r;e.exports=d}).call(t,n("./node_modules/webpack/buildin/module.js")(e))},"./node_modules/lodash/isEmpty.js":function(e,t,n){function o(e){if(null==e)return!0;if(a(e)&&(l(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||c(e)||i(e)))return!e.length;var t=s(e);if(t==p||t==f)return!e.size;if(d(e))return!r(e).length;for(var n in e)if(m.call(e,n))return!1;return!0}var r=n("./node_modules/lodash/_baseKeys.js"),s=n("./node_modules/lodash/_getTag.js"),i=n("./node_modules/lodash/isArguments.js"),l=n("./node_modules/lodash/isArray.js"),a=n("./node_modules/lodash/isArrayLike.js"),u=n("./node_modules/lodash/isBuffer.js"),d=n("./node_modules/lodash/_isPrototype.js"),c=n("./node_modules/lodash/isTypedArray.js"),p="[object Map]",f="[object Set]",h=Object.prototype,m=h.hasOwnProperty;e.exports=o},"./node_modules/lodash/isFunction.js":function(e,t,n){function o(e){if(!s(e))return!1;var t=r(e);return t==l||t==a||t==i||t==u}var r=n("./node_modules/lodash/_baseGetTag.js"),s=n("./node_modules/lodash/isObject.js"),i="[object AsyncFunction]",l="[object Function]",a="[object GeneratorFunction]",u="[object Proxy]";e.exports=o},"./node_modules/lodash/isLength.js":function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}var o=9007199254740991;e.exports=n},"./node_modules/lodash/isMap.js":function(e,t,n){var o=n("./node_modules/lodash/_baseIsMap.js"),r=n("./node_modules/lodash/_baseUnary.js"),s=n("./node_modules/lodash/_nodeUtil.js"),i=s&&s.isMap,l=i?r(i):o;e.exports=l},"./node_modules/lodash/isNull.js":function(e,t){function n(e){return null===e}e.exports=n},"./node_modules/lodash/isObject.js":function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},"./node_modules/lodash/isObjectLike.js":function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},"./node_modules/lodash/isPlainObject.js":function(e,t,n){function o(e){if(!i(e)||r(e)!=l)return!1;var t=s(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&d.call(n)==p}var r=n("./node_modules/lodash/_baseGetTag.js"),s=n("./node_modules/lodash/_getPrototype.js"),i=n("./node_modules/lodash/isObjectLike.js"),l="[object Object]",a=Function.prototype,u=Object.prototype,d=a.toString,c=u.hasOwnProperty,p=d.call(Object);e.exports=o},"./node_modules/lodash/isSet.js":function(e,t,n){var o=n("./node_modules/lodash/_baseIsSet.js"),r=n("./node_modules/lodash/_baseUnary.js"),s=n("./node_modules/lodash/_nodeUtil.js"),i=s&&s.isSet,l=i?r(i):o;e.exports=l},"./node_modules/lodash/isString.js":function(e,t,n){function o(e){return"string"==typeof e||!s(e)&&i(e)&&r(e)==l}var r=n("./node_modules/lodash/_baseGetTag.js"),s=n("./node_modules/lodash/isArray.js"),i=n("./node_modules/lodash/isObjectLike.js"),l="[object String]";e.exports=o},"./node_modules/lodash/isSymbol.js":function(e,t,n){function o(e){return"symbol"==typeof e||s(e)&&r(e)==i}var r=n("./node_modules/lodash/_baseGetTag.js"),s=n("./node_modules/lodash/isObjectLike.js"),i="[object Symbol]";e.exports=o},"./node_modules/lodash/isTypedArray.js":function(e,t,n){var o=n("./node_modules/lodash/_baseIsTypedArray.js"),r=n("./node_modules/lodash/_baseUnary.js"),s=n("./node_modules/lodash/_nodeUtil.js"),i=s&&s.isTypedArray,l=i?r(i):o;e.exports=l},"./node_modules/lodash/isUndefined.js":function(e,t){function n(e){return void 0===e}e.exports=n},"./node_modules/lodash/keys.js":function(e,t,n){function o(e){return i(e)?r(e):s(e)}var r=n("./node_modules/lodash/_arrayLikeKeys.js"),s=n("./node_modules/lodash/_baseKeys.js"),i=n("./node_modules/lodash/isArrayLike.js");e.exports=o},"./node_modules/lodash/keysIn.js":function(e,t,n){function o(e){return i(e)?r(e,!0):s(e)}var r=n("./node_modules/lodash/_arrayLikeKeys.js"),s=n("./node_modules/lodash/_baseKeysIn.js"),i=n("./node_modules/lodash/isArrayLike.js");e.exports=o},"./node_modules/lodash/last.js":function(e,t){function n(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}e.exports=n},"./node_modules/lodash/map.js":function(e,t,n){function o(e,t){return(l(e)?r:i)(e,s(t,3))}var r=n("./node_modules/lodash/_arrayMap.js"),s=n("./node_modules/lodash/_baseIteratee.js"),i=n("./node_modules/lodash/_baseMap.js"),l=n("./node_modules/lodash/isArray.js");e.exports=o},"./node_modules/lodash/memoize.js":function(e,t,n){function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(s);var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],s=n.cache;if(s.has(r))return s.get(r);var i=e.apply(this,o);return n.cache=s.set(r,i)||s,i};return n.cache=new(o.Cache||r),n}var r=n("./node_modules/lodash/_MapCache.js"),s="Expected a function";o.Cache=r,e.exports=o},"./node_modules/lodash/omit.js":function(e,t,n){var o=n("./node_modules/lodash/_arrayMap.js"),r=n("./node_modules/lodash/_baseClone.js"),s=n("./node_modules/lodash/_baseUnset.js"),i=n("./node_modules/lodash/_castPath.js"),l=n("./node_modules/lodash/_copyObject.js"),a=n("./node_modules/lodash/_customOmitClone.js"),u=n("./node_modules/lodash/_flatRest.js"),d=n("./node_modules/lodash/_getAllKeysIn.js"),c=u(function(e,t){var n={};if(null==e)return n;var u=!1;t=o(t,function(t){return t=i(t,e),u||(u=t.length>1),t}),l(e,d(e),n),u&&(n=r(n,7,a));for(var c=t.length;c--;)s(n,t[c]);return n});e.exports=c},"./node_modules/lodash/orderBy.js":function(e,t,n){function o(e,t,n,o){return null==e?[]:(s(t)||(t=null==t?[]:[t]),n=o?void 0:n,s(n)||(n=null==n?[]:[n]),r(e,t,n))}var r=n("./node_modules/lodash/_baseOrderBy.js"),s=n("./node_modules/lodash/isArray.js");e.exports=o},"./node_modules/lodash/pick.js":function(e,t,n){var o=n("./node_modules/lodash/_basePick.js"),r=n("./node_modules/lodash/_flatRest.js"),s=r(function(e,t){return null==e?{}:o(e,t)});e.exports=s},"./node_modules/lodash/property.js":function(e,t,n){function o(e){return i(e)?r(l(e)):s(e)}var r=n("./node_modules/lodash/_baseProperty.js"),s=n("./node_modules/lodash/_basePropertyDeep.js"),i=n("./node_modules/lodash/_isKey.js"),l=n("./node_modules/lodash/_toKey.js");e.exports=o},"./node_modules/lodash/some.js":function(e,t,n){function o(e,t,n){var o=l(e)?r:i;return n&&a(e,t,n)&&(t=void 0),o(e,s(t,3))}var r=n("./node_modules/lodash/_arraySome.js"),s=n("./node_modules/lodash/_baseIteratee.js"),i=n("./node_modules/lodash/_baseSome.js"),l=n("./node_modules/lodash/isArray.js"),a=n("./node_modules/lodash/_isIterateeCall.js");e.exports=o},"./node_modules/lodash/sortBy.js":function(e,t,n){var o=n("./node_modules/lodash/_baseFlatten.js"),r=n("./node_modules/lodash/_baseOrderBy.js"),s=n("./node_modules/lodash/_baseRest.js"),i=n("./node_modules/lodash/_isIterateeCall.js"),l=s(function(e,t){if(null==e)return[];var n=t.length;return n>1&&i(e,t[0],t[1])?t=[]:n>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),r(e,o(t,1),[])});e.exports=l},"./node_modules/lodash/stubArray.js":function(e,t){function n(){return[]}e.exports=n},"./node_modules/lodash/stubFalse.js":function(e,t){function n(){return!1}e.exports=n},"./node_modules/lodash/take.js":function(e,t,n){function o(e,t,n){return e&&e.length?(t=n||void 0===t?1:s(t),r(e,0,t<0?0:t)):[]}var r=n("./node_modules/lodash/_baseSlice.js"),s=n("./node_modules/lodash/toInteger.js");e.exports=o},"./node_modules/lodash/toFinite.js":function(e,t,n){function o(e){return e?(e=r(e))===s||e===-s?(e<0?-1:1)*i:e===e?e:0:0===e?e:0}var r=n("./node_modules/lodash/toNumber.js"),s=1/0,i=1.7976931348623157e308;e.exports=o},"./node_modules/lodash/toInteger.js":function(e,t,n){function o(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}var r=n("./node_modules/lodash/toFinite.js");e.exports=o},"./node_modules/lodash/toNumber.js":function(e,t,n){function o(e){if("number"==typeof e)return e;if(s(e))return i;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(l,"");var n=u.test(e);return n||d.test(e)?c(e.slice(2),n?2:8):a.test(e)?i:+e}var r=n("./node_modules/lodash/isObject.js"),s=n("./node_modules/lodash/isSymbol.js"),i=NaN,l=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,d=/^0o[0-7]+$/i,c=parseInt;e.exports=o},"./node_modules/lodash/toPairs.js":function(e,t,n){var o=n("./node_modules/lodash/_createToPairs.js"),r=n("./node_modules/lodash/keys.js"),s=o(r);e.exports=s},"./node_modules/lodash/toPath.js":function(e,t,n){function o(e){return i(e)?r(e,u):l(e)?[e]:s(a(d(e)))}var r=n("./node_modules/lodash/_arrayMap.js"),s=n("./node_modules/lodash/_copyArray.js"),i=n("./node_modules/lodash/isArray.js"),l=n("./node_modules/lodash/isSymbol.js"),a=n("./node_modules/lodash/_stringToPath.js"),u=n("./node_modules/lodash/_toKey.js"),d=n("./node_modules/lodash/toString.js");e.exports=o},"./node_modules/lodash/toString.js":function(e,t,n){function o(e){return null==e?"":r(e)}var r=n("./node_modules/lodash/_baseToString.js");e.exports=o},"./node_modules/lodash/uniqueId.js":function(e,t,n){function o(e){var t=++s;return r(e)+t}var r=n("./node_modules/lodash/toString.js"),s=0;e.exports=o},"./node_modules/lodash/values.js":function(e,t,n){function o(e){return null==e?[]:r(e,s(e))}var r=n("./node_modules/lodash/_baseValues.js"),s=n("./node_modules/lodash/keys.js");e.exports=o},"./node_modules/lodash/without.js":function(e,t,n){var o=n("./node_modules/lodash/_baseDifference.js"),r=n("./node_modules/lodash/_baseRest.js"),s=n("./node_modules/lodash/isArrayLikeObject.js"),i=r(function(e,t){return s(e)?o(e,t):[]});e.exports=i},"./node_modules/lodash/zipObject.js":function(e,t,n){function o(e,t){return s(e||[],t||[],r)}var r=n("./node_modules/lodash/_assignValue.js"),s=n("./node_modules/lodash/_baseZipObject.js");e.exports=o},"./node_modules/object-assign/index.js":function(e,t,n){"use strict";function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,l,a=o(e),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var d in n)s.call(n,d)&&(a[d]=n[d]);if(r){l=r(n);for(var c=0;c<l.length;c++)i.call(n,l[c])&&(a[l[c]]=n[l[c]])}}return a}},"./node_modules/react-selectable/dist/react-selectable.js":function(e,t,n){!function(t,o){e.exports=function(e,t){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}([function(e,t,n){"use strict";function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(e){if(c===setTimeout)return setTimeout(e,0);if((c===o||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(e){if(p===clearTimeout)return clearTimeout(e);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function l(){g&&h&&(g=!1,h.length?m=h.concat(m):y=-1,m.length&&a())}function a(){if(!g){var e=s(l);g=!0;for(var t=m.length;t;){for(h=m,m=[];++y<t;)h&&h[y].run();y=-1,t=m.length}h=null,g=!1,i(e)}}function u(e,t){this.fun=e,this.array=t}function d(){}var c,p,f=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:o}catch(e){c=o}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(e){p=r}}();var h,m=[],g=!1,y=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new u(e,t)),1!==m.length||g||s(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=d,f.addListener=d,f.once=d,f.off=d,f.removeListener=d,f.removeAllListeners=d,f.emit=d,f.prependListener=d,f.prependOnceListener=d,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){"use strict";function o(e){return function(){return e}}var r=function(){};r.thatReturns=o,r.thatReturnsFalse=o(!1),r.thatReturnsTrue=o(!0),r.thatReturnsNull=o(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";(function(t){function n(e,t,n,r,s,i,l,a){if(o(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,r,s,i,l,a],c=0;u=new Error(t.replace(/%s/g,function(){return d[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var o=function(e){};"production"!==t.env.NODE_ENV&&(o=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=n}).call(t,n(0))},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if("function"!=typeof t)throw new Error("isNodeIn second parameter must be a function");for(var n=e;n;){if(t(n))return!0;n=n.parentNode}return!1};t.default=o},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";(function(t){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("production"!==t.env.NODE_ENV){var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,s=function(e){return"object"===(void 0===e?"undefined":o(e))&&null!==e&&e.$$typeof===r};e.exports=n(14)(s,!0)}else e.exports=n(17)()}).call(t,n(0))},function(e,t,n){"use strict";(function(t){var o=n(1),r=o;if("production"!==t.env.NODE_ENV){var s=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=0,s="Warning: "+e.replace(/%s/g,function(){return n[r++]});"undefined"!=typeof console&&console.error(s);try{throw new Error(s)}catch(e){}};r=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,o=Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];s.apply(void 0,[t].concat(o))}}}e.exports=r}).call(t,n(0))},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),r=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(e,t){return(0,r.default)(e,function(e){return e===t})};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft,offsetWidth:e.offsetWidth,offsetHeight:e.offsetHeight}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nodeInRoot=t.isNodeIn=t.createSelectable=t.SelectableGroup=void 0;var r=n(13),s=o(r),i=n(22),l=o(i),a=n(4),u=o(a),d=n(10),c=o(d);t.SelectableGroup=s.default,t.createSelectable=l.default,t.isNodeIn=u.default,t.nodeInRoot=c.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(5),u=o(a),d=n(6),c=n(7),p=o(c),f=n(18),h=o(f),m=n(10),g=o(m),y=n(4),_=o(y),v=n(11),b=o(v),E=n(19),S=o(E),j=n(20),C=o(j),w=function(e){function t(e){r(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isBoxSelecting:!1,boxWidth:0,boxHeight:0},n._mouseDownData=null,n._rect=null,n._registry=[],n._openSelector=n._openSelector.bind(n),n._mouseDown=n._mouseDown.bind(n),n._mouseUp=n._mouseUp.bind(n),n._selectElements=n._selectElements.bind(n),n._registerSelectable=n._registerSelectable.bind(n),n._unregisterSelectable=n._unregisterSelectable.bind(n),n._throttledSelect=(0,C.default)(n._selectElements,50),n}return i(t,e),l(t,[{key:"getChildContext",value:function(){return{selectable:{register:this._registerSelectable,unregister:this._unregisterSelectable}}}},{key:"componentDidMount",value:function(){this._applyMousedown(this.props.enabled),this._rect=this._getInitialCoordinates()}},{key:"componentWillUnmount",value:function(){this._applyMousedown(!1)}},{key:"componentWillReceiveProps",value:function(e){e.enabled!==this.props.enabled&&this._applyMousedown(e.enabled)}},{key:"_registerSelectable",value:function(e,t){this._registry.push({key:e,domNode:t})}},{key:"_unregisterSelectable",value:function(e){this._registry=this._registry.filter(function(t){return t.key!==e})}},{key:"_applyMousedown",value:function(e){var t=e?"addEventListener":"removeEventListener";(0,d.findDOMNode)(this)[t]("mousedown",this._mouseDown)}},{key:"_openSelector",value:function(e){var t=Math.abs(this._mouseDownData.initialW-e.pageX+this._rect.x),n=Math.abs(this._mouseDownData.initialH-e.pageY+this._rect.y);this.setState({isBoxSelecting:!0,boxWidth:t,boxHeight:n,boxLeft:Math.min(e.pageX-this._rect.x,this._mouseDownData.initialW),boxTop:Math.min(e.pageY-this._rect.y,this._mouseDownData.initialH)}),this._throttledSelect(e)}},{key:"_getInitialCoordinates",value:function(){if(this.props.fixedPosition)return{x:0,y:0};var e=window.getComputedStyle(document.body),t=e.getPropertyValue("margin-top"),n=e.getPropertyValue("margin-left"),o=parseInt(n.slice(0,n.length-2),10),r=parseInt(t.slice(0,t.length-2),10),s=document.body.getBoundingClientRect(),i=(0,d.findDOMNode)(this).getBoundingClientRect();return{x:Math.round(i.left-s.left+o),y:Math.round(i.top-s.top+r)}}},{key:"_mouseDown",value:function(e){var t=this.props,n=t.onBeginSelection,o=t.preventDefault;if(!(0,_.default)(e.target,function(e){return!!e.draggable})&&("function"!=typeof n||!1!==n(e))){var r=(0,d.findDOMNode)(this),s=void 0;window.addEventListener("mouseup",this._mouseUp),3!==e.which&&2!==e.button&&((0,g.default)(e.target,r)||(s=(0,b.default)(r),(0,S.default)({top:s.top,left:s.left,bottom:s.offsetHeight,right:s.offsetWidth},{top:e.pageY-this._rect.y,left:e.pageX-this._rect.x,offsetWidth:0,offsetHeight:0})))&&(this._rect=this._getInitialCoordinates(),this._mouseDownData={boxLeft:e.pageX-this._rect.x,boxTop:e.pageY-this._rect.y,initialW:e.pageX-this._rect.x,initialH:e.pageY-this._rect.y},o&&e.preventDefault(),window.addEventListener("mousemove",this._openSelector))}}},{key:"_mouseUp",value:function(e){var t=this.props.onNonItemClick,n=this.state.isBoxSelecting;e.stopPropagation(),window.removeEventListener("mousemove",this._openSelector),window.removeEventListener("mouseup",this._mouseUp),this._mouseDownData&&(t&&!n&&(this._registry.some(function(t){var n=t.domNode;return(0,g.default)(e.target,n)})||t(e)),this._selectElements(e,!0),this._mouseDownData=null,this.setState({isBoxSelecting:!1,boxWidth:0,boxHeight:0}))}},{key:"_selectElements",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props,o=n.tolerance,r=n.onSelection,s=n.onEndSelection,i=[],l=(0,d.findDOMNode)(this.refs.selectbox);l&&(this._registry.forEach(function(e){e.domNode&&(0,S.default)(l,e.domNode,o)&&!i.includes(e.key)&&i.push(e.key)}),t?"function"==typeof s&&s(i,e):"function"==typeof r&&r(i,e))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.enabled,o=e.fixedPosition,r=e.className,s=e.selectingClassName,i=this.state,l=i.isBoxSelecting,a=i.boxLeft,d=i.boxTop,c=i.boxWidth,p=i.boxHeight,f=this.props.component;if(!n)return u.default.createElement(f,{className:r},t);var m={left:a,top:d,width:c,height:p,zIndex:9e3,position:o?"fixed":"absolute",cursor:"default"},g={backgroundColor:"transparent",border:"1px dashed #999",width:"100%",height:"100%",float:"left"},y={position:"relative",overflow:"visible"};return u.default.createElement(f,{className:(0,h.default)(r,l?s:null),style:y},l?u.default.createElement("div",{style:m,ref:"selectbox"},u.default.createElement("span",{style:g})):null,t)}}]),t}(a.Component);w.propTypes={children:p.default.node,onBeginSelection:p.default.func,onEndSelection:p.default.func,onSelection:p.default.func,component:p.default.node,tolerance:p.default.number,fixedPosition:p.default.bool,preventDefault:p.default.bool,onNonItemClick:p.default.func,enabled:p.default.bool,className:p.default.string,selectingClassName:p.default.string},w.defaultProps={component:"div",tolerance:0,fixedPosition:!1,preventDefault:!0,enabled:!0},w.childContextTypes={selectable:p.default.object},t.default=w},function(e,t,n){"use strict";(function(t){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),s=n(2),i=n(8),l=n(15),a=n(3),u=n(16);e.exports=function(e,n){function d(e){var t=e&&(F&&e[F]||e[A]);if("function"==typeof t)return t}function c(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function p(e){this.message=e,this.stack=""}function f(e){function o(o,u,d,c,f,h,m){if(c=c||x,h=h||d,m!==a)if(n)s(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var g=c+":"+d;!r[g]&&l<3&&(i(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",h,c),r[g]=!0,l++)}return null==u[d]?o?new p(null===u[d]?"The "+f+" `"+h+"` is marked as required in `"+c+"`, but its value is `null`.":"The "+f+" `"+h+"` is marked as required in `"+c+"`, but its value is `undefined`."):null:e(u,d,c,f,h)}if("production"!==t.env.NODE_ENV)var r={},l=0;var u=o.bind(null,!1);return u.isRequired=o.bind(null,!0),u}function h(e){function t(t,n,o,r,s,i){var l=t[n];return C(l)!==e?new p("Invalid "+r+" `"+s+"` of type `"+w(l)+"` supplied to `"+o+"`, expected `"+e+"`."):null}return f(t)}function m(e){function t(t,n,o,r,s){if("function"!=typeof e)return new p("Property `"+s+"` of component `"+o+"` has invalid PropType notation inside arrayOf.");var i=t[n];if(!Array.isArray(i))return new p("Invalid "+r+" `"+s+"` of type `"+C(i)+"` supplied to `"+o+"`, expected an array.");for(var l=0;l<i.length;l++){var u=e(i,l,o,r,s+"["+l+"]",a);if(u instanceof Error)return u}return null}return f(t)}function g(e){function t(t,n,o,r,s){if(!(t[n]instanceof e)){var i=e.name||x;return new p("Invalid "+r+" `"+s+"` of type `"+I(t[n])+"` supplied to `"+o+"`, expected instance of `"+i+"`.")}return null}return f(t)}function y(e){function n(t,n,o,r,s){for(var i=t[n],l=0;l<e.length;l++)if(c(i,e[l]))return null;return new p("Invalid "+r+" `"+s+"` of value `"+i+"` supplied to `"+o+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?f(n):("production"!==t.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOf, expected an instance of array."),r.thatReturnsNull)}function _(e){function t(t,n,o,r,s){if("function"!=typeof e)return new p("Property `"+s+"` of component `"+o+"` has invalid PropType notation inside objectOf.");var i=t[n],l=C(i);if("object"!==l)return new p("Invalid "+r+" `"+s+"` of type `"+l+"` supplied to `"+o+"`, expected an object.");for(var u in i)if(i.hasOwnProperty(u)){var d=e(i,u,o,r,s+"."+u,a);if(d instanceof Error)return d}return null}return f(t)}function v(e){function n(t,n,o,r,s){for(var i=0;i<e.length;i++)if(null==(0,e[i])(t,n,o,r,s,a))return null;return new p("Invalid "+r+" `"+s+"` supplied to `"+o+"`.")}if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),r.thatReturnsNull;for(var o=0;o<e.length;o++){var s=e[o];if("function"!=typeof s)return i(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",O(s),o),r.thatReturnsNull}return f(n)}function b(e){function t(t,n,o,r,s){var i=t[n],l=C(i);if("object"!==l)return new p("Invalid "+r+" `"+s+"` of type `"+l+"` supplied to `"+o+"`, expected `object`.");for(var u in e){var d=e[u];if(d){var c=d(i,u,o,r,s+"."+u,a);if(c)return c}}return null}return f(t)}function E(e){function t(t,n,o,r,s){var i=t[n],u=C(i);if("object"!==u)return new p("Invalid "+r+" `"+s+"` of type `"+u+"` supplied to `"+o+"`, expected `object`.");var d=l({},t[n],e);for(var c in d){var f=e[c];if(!f)return new p("Invalid "+r+" `"+s+"` key `"+c+"` supplied to `"+o+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var h=f(i,c,o,r,s+"."+c,a);if(h)return h}return null}return f(t)}function S(t){switch(void 0===t?"undefined":o(t)){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(S);if(null===t||e(t))return!0;var n=d(t);if(!n)return!1;var r,s=n.call(t);if(n!==t.entries){for(;!(r=s.next()).done;)if(!S(r.value))return!1}else for(;!(r=s.next()).done;){var i=r.value;if(i&&!S(i[1]))return!1}return!0;default:return!1}}function j(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}function C(e){var t=void 0===e?"undefined":o(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":j(t,e)?"symbol":t}function w(e){if(void 0===e||null===e)return""+e;var t=C(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function O(e){var t=w(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function I(e){return e.constructor&&e.constructor.name?e.constructor.name:x}var F="function"==typeof Symbol&&Symbol.iterator,A="@@iterator",x="<<anonymous>>",D={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:function(){return f(r.thatReturnsNull)}(),arrayOf:m,element:function(){function t(t,n,o,r,s){var i=t[n];return e(i)?null:new p("Invalid "+r+" `"+s+"` of type `"+C(i)+"` supplied to `"+o+"`, expected a single ReactElement.")}return f(t)}(),instanceOf:g,node:function(){function e(e,t,n,o,r){return S(e[t])?null:new p("Invalid "+o+" `"+r+"` supplied to `"+n+"`, expected a ReactNode.")}return f(e)}(),objectOf:_,oneOf:y,oneOfType:v,shape:b,exact:E};return p.prototype=Error.prototype,D.checkPropTypes=u,D.PropTypes=D,D}}).call(t,n(0))},function(e,t,n){"use strict";function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,l,a=o(e),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var d in n)s.call(n,d)&&(a[d]=n[d]);if(r){l=r(n);for(var c=0;c<l.length;c++)i.call(n,l[c])&&(a[l[c]]=n[l[c]])}}return a}},function(e,t,n){"use strict";(function(t){function o(e,n,o,u,d){if("production"!==t.env.NODE_ENV)for(var c in e)if(e.hasOwnProperty(c)){var p;try{s("function"==typeof e[c],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",u||"React class",o,c,r(e[c])),p=e[c](n,c,u,o,null,l)}catch(e){p=e}if(i(!p||p instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",u||"React class",o,c,void 0===p?"undefined":r(p)),p instanceof Error&&!(p.message in a)){a[p.message]=!0;var f=d?d():"";i(!1,"Failed %s type: %s%s",o,p.message,null!=f?f:"")}}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("production"!==t.env.NODE_ENV)var s=n(2),i=n(8),l=n(3),a={};e.exports=o}).call(t,n(0))},function(e,t,n){"use strict";var o=n(1),r=n(2),s=n(3);e.exports=function(){function e(e,t,n,o,i,l){l!==s&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";var o,r,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=void 0===n?"undefined":s(n);if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var r=i.apply(null,n);r&&e.push(r)}else if("object"===o)for(var a in n)l.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}var l={}.hasOwnProperty;void 0!==e&&e.exports?(i.default=i,e.exports=i):"object"===s(n(9))&&n(9)?(o=[],void 0!==(r=function(){return i}.apply(t,o))&&(e.exports=r)):window.classNames=i}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),r=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(e,t,n,o,r,s,i,l,a){return!(e+s-a<n||e+a>n+l||t+r-a<o||t+a>o+i)};t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=e instanceof HTMLElement?(0,r.default)(e):e,i=t instanceof HTMLElement?(0,r.default)(t):t;return s(o.top,o.left,i.top,i.left,o.offsetWidth,o.offsetHeight,i.offsetWidth,i.offsetHeight,n)}},function(e,t,n){"use strict";(function(t){function n(e,t,n){function o(t){var n=m,o=g;return m=g=void 0,E=t,_=e.apply(o,n)}function s(e){return E=e,v=setTimeout(d,t),w?o(e):_}function i(e){var n=e-b,o=e-E,r=t-n;return O?j(r,y-o):r}function a(e){var n=e-b,o=e-E;return void 0===b||n>=t||n<0||O&&o>=y}function d(){var e=C();if(a(e))return c(e);v=setTimeout(d,i(e))}function c(e){return v=void 0,I&&m?o(e):(m=g=void 0,_)}function p(){void 0!==v&&clearTimeout(v),E=0,m=b=g=v=void 0}function f(){return void 0===v?_:c(C())}function h(){var e=C(),n=a(e);if(m=arguments,g=this,b=e,n){if(void 0===v)return s(b);if(O)return v=setTimeout(d,t),o(b)}return void 0===v&&(v=setTimeout(d,t)),_}var m,g,y,_,v,b,E=0,w=!1,O=!1,I=!0;if("function"!=typeof e)throw new TypeError(u);return t=l(t)||0,r(n)&&(w=!!n.leading,O="maxWait"in n,y=O?S(l(n.maxWait)||0,t):y,I="trailing"in n?!!n.trailing:I),h.cancel=p,h.flush=f,h}function o(e,t,o){var s=!0,i=!0;if("function"!=typeof e)throw new TypeError(u);return r(o)&&(s="leading"in o?!!o.leading:s,i="trailing"in o?!!o.trailing:i),n(e,t,{leading:s,maxWait:t,trailing:i})}function r(e){var t=void 0===e?"undefined":a(e);return!!e&&("object"==t||"function"==t)}function s(e){return!!e&&"object"==(void 0===e?"undefined":a(e))}function i(e){return"symbol"==(void 0===e?"undefined":a(e))||s(e)&&E.call(e)==c}function l(e){if("number"==typeof e)return e;if(i(e))return d;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(p,"");var n=h.test(e);return n||m.test(e)?g(e.slice(2),n?2:8):f.test(e)?d:+e}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u="Expected a function",d=NaN,c="[object Symbol]",p=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,m=/^0o[0-7]+$/i,g=parseInt,y="object"==(void 0===t?"undefined":a(t))&&t&&t.Object===Object&&t,_="object"==("undefined"==typeof self?"undefined":a(self))&&self&&self.Object===Object&&self,v=y||_||Function("return this")(),b=Object.prototype,E=b.toString,S=Math.max,j=Math.min,C=function(){return v.Date.now()};e.exports=o}).call(t,n(21))},function(e,t,n){"use strict";var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":r(window))&&(o=window)}e.exports=o},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(5),u=o(a),d=n(6),c=n(7),p=o(c),f=function(e){var t=function(t){function n(){return r(this,n),s(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),l(n,[{key:"componentDidMount",value:function(){this.context.selectable.register(this.props.selectableKey,(0,d.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.context.selectable.unregister(this.props.selectableKey)}},{key:"render",value:function(){return u.default.createElement("div",{id:"selectableItem-"+this.props.selectableKey},u.default.createElement(e,this.props,this.props.children))}}]),n}(u.default.Component);return t.contextTypes={selectable:p.default.object},t.propTypes={children:p.default.node,selectableKey:p.default.any.isRequired},t};t.default=f}])}(n(0),n(6))}()},"./node_modules/redux-form/lib/structure/plain/getIn.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/lodash/toPath.js"),r=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(e,t){if(!e)return e;var n=(0,r.default)(t),o=n.length;if(o){for(var s=e,i=0;i<o&&s;++i)s=s[n[i]];return s}};t.default=s},"./node_modules/webpack/buildin/global.js":function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"./node_modules/webpack/buildin/module.js":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},0:function(e,t){e.exports=React},1:function(e,t){e.exports=PropTypes},11:function(e,t){e.exports=ReactApollo},12:function(e,t){e.exports=InsertMediaModal},13:function(e,t){e.exports=FormBuilderModal},14:function(e,t){e.exports=DataFormat},15:function(e,t){e.exports=DeepFreezeStrict},16:function(e,t){e.exports=Badge},17:function(e,t){e.exports=FileStatusIcon},18:function(e,t){e.exports=GraphQLTag},19:function(e,t){e.exports=ReactDND},2:function(e,t){e.exports=i18n},20:function(e,t){e.exports=Reactstrap},21:function(e,t){e.exports=Search},22:function(e,t){e.exports=ToastsActions},23:function(e,t){e.exports=qs},24:function(e,t){e.exports=Backend},25:function(e,t){e.exports=Config},26:function(e,t){e.exports=FormBuilderLoader},27:function(e,t){e.exports=NodeUrl},28:function(e,t){e.exports=ReduxForm},29:function(e,t){e.exports=getFormState},3:function(e,t){e.exports=Injector},31:function(e,t){e.exports=BackButton},32:function(e,t){e.exports=Breadcrumb},33:function(e,t){e.exports=Button},34:function(e,t){e.exports=FieldHolder},35:function(e,t){e.exports=FileSchemaModalHandler},36:function(e,t){e.exports=FormAlert},37:function(e,t){e.exports=ReactDNDHtml5Backend},38:function(e,t){e.exports=ReactRouteRegister},39:function(e,t){e.exports=ReactRouterDom},4:function(e,t){e.exports=ReactRedux},40:function(e,t){e.exports=SearchToggle},41:function(e,t){e.exports=Toolbar},42:function(e,t){e.exports=TreeDropdownField},43:function(e,t){e.exports=UnsavedFormsActions},44:function(e,t){e.exports=reduxFieldReducer},45:function(e,t){e.exports=schemaFieldValues},46:function(e,t){e.exports=withDragDropContext},5:function(e,t){e.exports=Redux},6:function(e,t){e.exports=ReactDom},7:function(e,t){e.exports=jQuery},8:function(e,t){e.exports=SchemaActions},9:function(e,t){e.exports=classnames}});